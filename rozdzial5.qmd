# Podstawy Jednowymiarowej Statystyki Opisowej

Statystyki opisowe sÄ… fundamentalnymi narzÄ™dziami w badaniach nauk spoÅ‚ecznych, zapewniajÄ…cymi zwiÄ™zÅ‚e podsumowanie charakterystyk danych. PeÅ‚niÄ… kilka kluczowych funkcji:

-   Podsumowanie duÅ¼ych zbiorÃ³w danych w przystÄ™pne informacje
-   Identyfikacja wzorcÃ³w i trendÃ³w w danych
-   Wykrywanie potencjalnych anomalii lub wartoÅ›ci odstajÄ…cych
-   Zapewnienie podstawy do dalszej analizy statystycznej

## Wprowadzenie do Notacji Sigma (Î£)

-   **Co to jest notacja sumacyjna Sigma?** Sigma (Î£) to operator matematyczny, ktÃ³ry nakazuje nam zsumowaÄ‡ (dodaÄ‡) sekwencjÄ™ wyrazÃ³w - dziaÅ‚a jak instrukcja wykonania dodawania wszystkich elementÃ³w w okreÅ›lonym zakresie.
-   **Cel:** Zapewnia zwiÄ™zÅ‚y sposÃ³b zapisu sum wielu podobnych wyrazÃ³w za pomocÄ… jednego symbolu, unikajÄ…c dÅ‚ugich wyraÅ¼eÅ„ dodawania.

### Podstawowa formuÅ‚a

-   OgÃ³lna forma notacji sigma to:

$$\sum_{i=a}^{b} f(i)$$

-   **Indeks sumowania:** $i$
-   **Dolna granica:** $a$
-   **GÃ³rna granica:** $b$
-   **Funkcja:** $f(i)$

### PrzykÅ‚ady zastosowania notacji Sigma

#### Prosty przykÅ‚ad: Suma liczb naturalnych

-   ZaÅ‚Ã³Å¼my, Å¼e chcesz dodaÄ‡ pierwsze piÄ™Ä‡ dodatnich liczb caÅ‚kowitych:

$\sum_{i=1}^{5} i = 1 + 2 + 3 + 4 + 5 = 15$

-   PowyÅ¼szy zapis dodaje pierwsze piÄ™Ä‡ dodatnich liczb caÅ‚kowitych.

#### Suma kwadratÃ³w

-   ZaÅ‚Ã³Å¼my, Å¼e chcesz zsumowaÄ‡ kwadraty pierwszych czterech dodatnich liczb caÅ‚kowitych:

$\sum_{i=1}^{4} i^2 = 1^2 + 2^2 + 3^2 + 4^2 = 1 + 4 + 9 + 16 = 30$

-   Jest to suma kwadratÃ³w pierwszych czterech dodatnich liczb caÅ‚kowitych.

#### Suma wartoÅ›ci staÅ‚ej

-   Sumowanie staÅ‚ej wartoÅ›ci $c$ dla $n$ wyrazÃ³w:

$\sum_{i=1}^{n} c = c + c + c + ... + c \text{ (n razy)} = n \cdot c$

-   **PrzykÅ‚ad**: Suma piÄ™ciu piÄ…tek:

$\sum_{i=1}^{5} 5 = 5 + 5 + 5 + 5 + 5 = 5 \cdot 5 = 25$

### Proste przykÅ‚ady w kontekÅ›cie statystyki

$$\sum_{i=1}^{n} x_i$$

-   **Indeks sumowania:** $i$ (zazwyczaj oznacza konkretnÄ… obserwacjÄ™ w zbiorze danych)
-   **Dolna granica:** 1 (zwykle zaczynamy od pierwszej obserwacji)
-   **GÃ³rna granica:** $n$ (caÅ‚kowita liczba obserwacji w naszym zbiorze danych)
-   **WyraÅ¼enie:** $x_i$ (wartoÅ›Ä‡ $i$-tej obserwacji)

#### Sumowanie wartoÅ›ci obserwacji

-   Mamy zbiÃ³r danych: 5, 8, 12, 15, 20
-   Suma wszystkich wartoÅ›ci:

$$\sum_{i=1}^{5} x_i = x_1 + x_2 + x_3 + x_4 + x_5 = 5 + 8 + 12 + 15 + 20 = 60$$

-   Ta suma jest kluczowym elementem przy obliczaniu Å›redniej arytmetycznej.

#### Suma odchyleÅ„ od Å›redniej

-   Dla tego samego zbioru danych (5, 8, 12, 15, 20), Å›rednia wynosi $\bar{x} = 60/5 = 12$
-   Suma odchyleÅ„ od Å›redniej:

$$\sum_{i=1}^{5} (x_i - \bar{x}) = (5-12) + (8-12) + (12-12) + (15-12) + (20-12)$$ $$= -7 + (-4) + 0 + 3 + 8 = 0$$

-   **WaÅ¼na obserwacja:** Suma odchyleÅ„ od Å›redniej zawsze wynosi 0, co jest podstawowÄ… wÅ‚aÅ›ciwoÅ›ciÄ… Å›redniej arytmetycznej.

### Podsumowanie

-   Notacja Sigma (Î£) pozwala na zwiÄ™zÅ‚y zapis kluczowych wzorÃ³w statystycznych
-   NajwaÅ¼niejsze zastosowania obejmujÄ… obliczanie:
    -   Åšredniej arytmetycznej
    -   Wariancji i odchylenia standardowego
    -   RÃ³Å¼nych sum kwadratÃ³w uÅ¼ywanych w analizie regresji

::: callout-note
## Operatory Sumy (Î£) i Iloczynu (Î )

#### Operator Sigma (Î£)

$\sum$ to **operator sumowania**, ktÃ³ry nakazuje nam dodaÄ‡ wyrazy:

$\sum_{i=1}^{n} x_i = x_1 + x_2 + ... + x_n$

gdzie: - $i$ to zmienna indeksowa - Dolna wartoÅ›Ä‡ pod Î£ (tutaj $i=1$) to punkt poczÄ…tkowy - GÃ³rna wartoÅ›Ä‡ (tutaj $n$) to punkt koÅ„cowy

#### Operator Pi (Î )

$\prod$ to **operator iloczynu**, ktÃ³ry nakazuje nam pomnoÅ¼yÄ‡ wyrazy:

$\prod_{i=1}^{n} x_i = x_1 \times x_2 \times ... \times x_n$

gdzie: - $i$ to zmienna indeksowa - Dolna wartoÅ›Ä‡ pod Î  (tutaj $i=1$) to punkt poczÄ…tkowy - GÃ³rna wartoÅ›Ä‡ (tutaj $n$) to punkt koÅ„cowy
:::

::: callout-tip
### PrzykÅ‚ad Î£

$\sum_{i=1}^{4} i = 1 + 2 + 3 + 4 = 10$
:::

::: callout-tip
### PrzykÅ‚ad Î 

$\prod_{i=1}^{4} i = 1 \times 2 \times 3 \times 4 = 24$
:::

::: callout-important
### Kluczowe RÃ³Å¼nice

-   Î£ oznacza wielokrotne dodawanie
-   Î  oznacza wielokrotne mnoÅ¼enie
:::

## Typy rozkÅ‚adÃ³w danych

::: callout-important
**RozkÅ‚ad danych informuje o tym, jakie wartoÅ›ci przyjmuje zmienna i jak czÄ™sto**.
:::

Zrozumienie rozkÅ‚adÃ³w danych jest kluczowe dla analizy i wizualizacji danych. W tym dokumencie przyjrzymy siÄ™ rÃ³Å¼nym typom rozkÅ‚adÃ³w i sposobom ich wizualizacji przy uÅ¼yciu ggplot2 w R.

```{r setup, include=FALSE}
library(tidyverse)
library(ggplot2)
library(palmerpenguins)
set.seed(123)  # dla powtarzalnoÅ›ci
```

### RozkÅ‚ad normalny

RozkÅ‚ad normalny, znany rÃ³wnieÅ¼ jako rozkÅ‚ad Gaussa, jest symetryczny i ma ksztaÅ‚t dzwonu.

```{r}
# Generowanie danych o rozkÅ‚adzie normalnym
dane_normalne <- data.frame(x = rnorm(1000))

# Wykres
ggplot(dane_normalne, aes(x)) +
  geom_histogram(aes(y = ..density..), bins = 30, fill = "skyblue", color = "black") +
  geom_density(color = "red") +
  labs(title = "RozkÅ‚ad normalny", x = "WartoÅ›Ä‡", y = "GÄ™stoÅ›Ä‡")
```

### RozkÅ‚ad jednostajny

W rozkÅ‚adzie jednostajnym wszystkie wartoÅ›ci majÄ… rÃ³wne prawdopodobieÅ„stwo wystÄ…pienia.

```{r}
# Generowanie danych o rozkÅ‚adzie jednostajnym
dane_jednostajne <- data.frame(x = runif(1000))

# Wykres
ggplot(dane_jednostajne, aes(x)) +
  geom_histogram(aes(y = ..density..), bins = 30, fill = "lightgreen", color = "black") +
  geom_density(color = "red") +
  labs(title = "RozkÅ‚ad jednostajny", x = "WartoÅ›Ä‡", y = "GÄ™stoÅ›Ä‡")
```

### RozkÅ‚ady skoÅ›ne

RozkÅ‚ady skoÅ›ne sÄ… asymetryczne, z jednym ogonem dÅ‚uÅ¼szym niÅ¼ drugi.

```{r}
# Generowanie danych o rozkÅ‚adzie prawoskoÅ›nym
dane_prawoskosne <- data.frame(x = rlnorm(1000))

# Wykres
ggplot(dane_prawoskosne, aes(x)) +
  geom_histogram(aes(y = ..density..), bins = 30, fill = "lightyellow", color = "black") +
  geom_density(color = "red") +
  labs(title = "RozkÅ‚ad prawoskoÅ›ny", x = "WartoÅ›Ä‡", y = "GÄ™stoÅ›Ä‡")
```

### RozkÅ‚ad bimodalny

RozkÅ‚ad bimodalny ma dwa szczyty (dwie dominanty), wskazujÄ…ce na dwie odrÄ™bne podgrupy w danych.

```{r}
# Generowanie danych bimodalnych
dane_bimodalne <- data.frame(x = c(rnorm(500, mean = -2), rnorm(500, mean = 2)))

# Wykres
ggplot(dane_bimodalne, aes(x)) +
  geom_histogram(aes(y = ..density..), bins = 30, fill = "lightpink", color = "black") +
  geom_density(color = "red") +
  labs(title = "RozkÅ‚ad bimodalny", x = "WartoÅ›Ä‡", y = "GÄ™stoÅ›Ä‡")
```

| RozkÅ‚ad | Kluczowe wÅ‚aÅ›ciwoÅ›ci | PrzykÅ‚ady |
|------------------|---------------------|---------------------------------|
| Symetryczny (Normalny) | Symetryczny, ksztaÅ‚t dzwonu, wiÄ™kszoÅ›Ä‡ wartoÅ›ci blisko Å›redniej | Wzrost dorosÅ‚ych w populacji, wyniki testÃ³w IQ, bÅ‚Ä™dy pomiarowe, wyniki egzaminÃ³w standaryzowanych |
| RÃ³wnomierny (Jednostajny) | Jednakowe prawdopodobieÅ„stwo w caÅ‚ym zakresie | Ostatnia cyfra numeru telefonu, wybÃ³r losowego dnia tygodnia, pozycja wskazÃ³wki po zakrÄ™ceniu koÅ‚em fortuny |
| Dwumodalny (Bimodalny) | Dwa wyraÅºne szczyty, sugeruje istnienie podgrup | Struktura wieku w miastach uniwersyteckich (studenci i stali mieszkaÅ„cy), opinie na tematy silnie polaryzujÄ…ce spoÅ‚eczeÅ„stwo, godziny natÄ™Å¼enia ruchu drogowego (poranny i popoÅ‚udniowy szczyt) |
| SkoÅ›ny w prawo (Prawostronnie asymetryczny) | WydÅ‚uÅ¼ony "ogon" po prawej stronie, wiÄ™kszoÅ›Ä‡ wartoÅ›ci mniejsza od Å›redniej | Czas oczekiwania w kolejce, czas dojazdu do pracy, wiek zawarcia pierwszego maÅ‚Å¼eÅ„stwa |
| SkoÅ›ny z grubym ogonem (Log-normalny) | Silna asymetria w prawo, wartoÅ›ci nie mogÄ… byÄ‡ ujemne, dÅ‚ugi "gruby ogon" | Dochody osobiste, ceny mieszkaÅ„, wielkoÅ›Ä‡ gospodarstw domowych |
| SkoÅ›ny o ekstremalnym ogonie (PotÄ™gowy) | Ekstremalna asymetria, efekt "bogaty staje siÄ™ bogatszym", brak charakterystycznej skali | MajÄ…tek najbogatszych osÃ³b, populacja miast, liczba obserwujÄ…cych w mediach spoÅ‚ecznoÅ›ciowych, liczba cytowaÅ„ publikacji naukowych |

## Wizualizacja rozkÅ‚adÃ³w danych rzeczywistych

UÅ¼yjemy zbioru danych `palmerpenguins` do wizualizacji rozkÅ‚adÃ³w danych.

### Histogram i wykres gÄ™stoÅ›ci

::: callout-note
## Understanding Histograms and Density

â­ A histogram is a special graph for numerical data where:

-   Data is grouped into ranges (called "bins")
-   Bars touch each other (unlike bar charts!) because the data is continuous
-   Each bar's height shows how many values fall into that range

Think of density as showing how *common* or *concentrated* certain values are in your data:

-   A higher point on a density curve (or taller bar in a histogram) means those values appear more frequently in your data
-   A lower point means those values are less common

Just like a crowded area has more people per space (higher density), a taller part of the graph shows values that appear more often in your dataset!
:::

```{r}
ggplot(penguins, aes(x = flipper_length_mm)) +
  geom_histogram(aes(y = ..density..), bins = 30, fill = "lightblue", color = "black") +
  geom_density(color = "red") +
  labs(title = "RozkÅ‚ad dÅ‚ugoÅ›ci pÅ‚etw pingwinÃ³w", 
       x = "DÅ‚ugoÅ›Ä‡ pÅ‚etwy (mm)", 
       y = "GÄ™stoÅ›Ä‡")
```

### Wykres pudeÅ‚kowy

Wykresy pudeÅ‚kowe sÄ… przydatne do porÃ³wnywania rozkÅ‚adÃ³w miÄ™dzy kategoriami.

```{r}
ggplot(penguins, aes(x = species, y = body_mass_g, fill = species)) +
  geom_boxplot() +
  labs(title = "RozkÅ‚ad masy ciaÅ‚a pingwinÃ³w wedÅ‚ug gatunku", 
       x = "Gatunek", 
       y = "Masa ciaÅ‚a (g)")
```

### Wykres skrzypcowy

Wykresy skrzypcowe Å‚Ä…czÄ… cechy wykresu pudeÅ‚kowego i wykresu gÄ™stoÅ›ci.

```{r}
ggplot(penguins, aes(x = species, y = body_mass_g, fill = species)) +
  geom_violin(trim = FALSE) +
  geom_boxplot(width = 0.1, fill = "white") +
  labs(title = "RozkÅ‚ad masy ciaÅ‚a pingwinÃ³w wedÅ‚ug gatunku", 
       x = "Gatunek", 
       y = "Masa ciaÅ‚a (g)")
```

### Wykres grzbietowy

Wykresy grzbietowe sÄ… przydatne do porÃ³wnywania wielu rozkÅ‚adÃ³w.

```{r}
library(ggridges)

ggplot(penguins, aes(x = flipper_length_mm, y = species, fill = species)) +
  geom_density_ridges(alpha = 0.6) +
  labs(title = "RozkÅ‚ad dÅ‚ugoÅ›ci pÅ‚etw wedÅ‚ug gatunku pingwina",
       x = "DÅ‚ugoÅ›Ä‡ pÅ‚etwy (mm)",
       y = "Gatunek")
```

### Podsumowanie

Zrozumienie i wizualizacja rozkÅ‚adÃ³w danych sÄ… kluczowe w analizie danych. ggplot2 zapewnia elastyczny i potÄ™Å¼ny zestaw narzÄ™dzi do tworzenia rÃ³Å¼nych typÃ³w wykresÃ³w rozkÅ‚adÃ³w. BadajÄ…c rÃ³Å¼ne techniki wizualizacji, moÅ¼emy uzyskaÄ‡ wglÄ…d w podstawowe wzorce i charakterystyki naszych danych.

## WartoÅ›ci OdstajÄ…ce (Outliers)

Przed zagÅ‚Ä™bieniem siÄ™ w konkretne miary, kluczowe jest zrozumienie pojÄ™cia wartoÅ›ci odstajÄ…cych, poniewaÅ¼ mogÄ… one znaczÄ…co wpÅ‚ywaÄ‡ na wiele statystyk opisowych.

WartoÅ›ci odstajÄ…ce to punkty danych, ktÃ³re znacznie rÃ³Å¼niÄ… siÄ™ od innych obserwacji w zbiorze danych. MogÄ… wystÄ…piÄ‡ z powodu:

-   BÅ‚Ä™dÃ³w pomiaru lub zapisu
-   Prawdziwych ekstremalnych wartoÅ›ci w populacji

WartoÅ›ci odstajÄ…ce mogÄ… mieÄ‡ istotny wpÅ‚yw na wiele miar statystycznych, szczegÃ³lnie tych opartych na Å›rednich lub sumach kwadratÃ³w odchyleÅ„. Dlatego waÅ¼ne jest, aby:

1.  IdentyfikowaÄ‡ wartoÅ›ci odstajÄ…ce zarÃ³wno poprzez metody statystyczne, jak i wiedzÄ™ dziedzinowÄ…
2.  BadaÄ‡ przyczyny wartoÅ›ci odstajÄ…cych
3.  PodejmowaÄ‡ Å›wiadome decyzje o tym, czy wÅ‚Ä…czaÄ‡ je do analiz, czy nie

## Symbole Stosowane w Statystyce - podsumowanie

| Miara | Parametr Populacji | Statystyka z PrÃ³by | Alternatywne Oznaczenia | Uwagi |
|---------------|---------------|---------------|---------------|---------------|
| LiczebnoÅ›Ä‡ | $N$ | $n$ | \- | CaÅ‚kowita liczba obserwacji |
| Åšrednia | $\mu$ | $\bar{x}$ | $E(X)$, $M$ | $E(X)$ stosowane w rachunku prawdopodobieÅ„stwa |
| Wariancja | $\sigma^2$ | $s^2$ | $\text{Var}(X)$, $V(X)$ | Kwadrat odchyleÅ„ od Å›redniej |
| Odchylenie standardowe | $\sigma$ | $s$ | $\text{OS}$, $\text{std}$ | Pierwiastek z wariancji |
| Frakcja/Proporcja | $\pi$, $P$ | $\hat{p}$ | $\text{fr}$ | CzÄ™stoÅ›ci wzglÄ™dne |
| WspÃ³Å‚czynnik korelacji | $\rho$ | $r$ | $\text{kor}(x,y)$ | WartoÅ›ci od -1 do +1 |
| BÅ‚Ä…d standardowy | $\sigma_{\bar{x}}$ | $s_{\bar{x}}$ | $\text{BS}$ | BÅ‚Ä…d standardowy Å›redniej |
| Suma | $\sum$ | $\sum$ | $\sum_{i=1}^n$ | Z indeksowaniem |
| Pojedyncza obserwacja | $X_i$ | $x_i$ | \- | $i$-ta obserwacja |
| Kowariancja | $\sigma_{xy}$ | $s_{xy}$ | $\text{Cov}(X,Y)$ | WspÃ³lna zmiennoÅ›Ä‡ |
| Mediana | $\eta$ | $\text{Me}$ | $M$ | WartoÅ›Ä‡ Å›rodkowa |
| RozstÄ™p | $R$ | $r$ | $\text{max}(X) - \text{min}(X)$ | Miara rozproszenia |
| Dominanta | $\text{Mo}$ | $\text{mo}$ | $\text{mod}$ | WartoÅ›Ä‡ najczÄ™stsza |
| SkoÅ›noÅ›Ä‡ | $\gamma_1$ | $g_1$ | $\text{SK}$ | Asymetria rozkÅ‚adu |
| Kurtoza | $\gamma_2$ | $g_2$ | $\text{KU}$ | SpÅ‚aszczenie rozkÅ‚adu |

Dodatkowe waÅ¼ne wzory:

-   Momenty z prÃ³by: $m_k = \frac{1}{n}\sum_{i=1}^n (x_i - \bar{x})^k$
-   Momenty populacji: $\mu_k = E[(X - \mu)^k]$

## Miary Tendencji Centralnej

Miary tendencji centralnej majÄ… na celu identyfikacjÄ™ "typowej" lub "centralnej" wartoÅ›ci w zbiorze danych. Trzy podstawowe miary to Å›rednia, mediana i moda.

### Åšrednia Arytmetyczna

Åšrednia arytmetyczna to suma wszystkich wartoÅ›ci podzielona przez liczbÄ™ wartoÅ›ci.

**WzÃ³r:** $\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i$

**WaÅ¼na WÅ‚aÅ›ciwoÅ›Ä‡:** Åšrednia jest punktem rÃ³wnowagi w danych. Suma odchyleÅ„ od Å›redniej zawsze wynosi zero:

$\sum_{i=1}^n (x_i - \bar{x}) = 0$

Ta wÅ‚aÅ›ciwoÅ›Ä‡ sprawia, Å¼e Å›rednia jest uÅ¼yteczna w wielu obliczeniach statystycznych.

::: callout-note
## Zrozumienie Å›redniej jako punktu rÃ³wnowagi ğŸ¯

RozwaÅ¼my zbiÃ³r danych $X = \{1, 2, 6, 7, 9\}$ na osi liczbowej, wyobraÅ¼ajÄ…c go sobie jako huÅ›tawkÄ™:

![https://www.gastonsanchez.com/matrix4sl/mean-as-a-balancing-point.html](stat_imgs/IMG_4336.jpg)

Åšrednia ($\mu$) dziaÅ‚a jak idealny **punkt rÃ³wnowagi** tej huÅ›tawki. Dla naszych danych:

$\mu = \frac{1 + 2 + 6 + 7 + 9}{5} = 5$

### Co siÄ™ dzieje przy rÃ³Å¼nych punktach podparcia? ğŸ¤”

1.  **Punkt podparcia w 6** (za wysoko):
    -   Lewa strona: WartoÅ›ci (1, 2) sÄ… poniÅ¼ej
    -   Prawa strona: WartoÅ›ci (7, 9) sÄ… powyÅ¼ej
    -   $\sum$ odlegÅ‚oÅ›ci z lewej = (6-1) + (6-2) = 9
    -   $\sum$ odlegÅ‚oÅ›ci z prawej = (7-6) + (9-6) = 4
    -   HuÅ›tawka przechyla siÄ™ w lewo! â¬…ï¸ bo 9 \> 4
2.  **Punkt podparcia w 4** (za nisko):
    -   Lewa strona: WartoÅ›ci (1, 2) sÄ… poniÅ¼ej
    -   Prawa strona: WartoÅ›ci (6, 7, 9) sÄ… powyÅ¼ej
    -   $\sum$ odlegÅ‚oÅ›ci z lewej = (4-1) + (4-2) = 5
    -   $\sum$ odlegÅ‚oÅ›ci z prawej = (6-4) + (7-4) + (9-4) = 10
    -   HuÅ›tawka przechyla siÄ™ w prawo! â¡ï¸ bo 5 \< 10
3.  **Punkt podparcia w Å›redniej (5)** (idealna rÃ³wnowaga):
    -   $\sum$ odlegÅ‚oÅ›ci poniÅ¼ej = $\sum$ odlegÅ‚oÅ›ci powyÅ¼ej
    -   $((5-1) + (5-2)) = ((6-5) + (7-5) + (9-5))$
    -   $7 = 7$ âœ¨ Idealna rÃ³wnowaga!

To pokazuje, dlaczego Å›rednia jest unikalnym punktem rÃ³wnowagi, gdzie:

$\sum_{i=1}^n (x_i - \mu) = 0$

HuÅ›tawka zawsze bÄ™dzie siÄ™ przechylaÄ‡, chyba Å¼e punkt podparcia zostanie umieszczony dokÅ‚adnie w Å›redniej! ğŸª
:::

::: callout-note
### Åšrednia jako punkt rÃ³wnowagi

Ta wizualizacja pokazuje, jak Å›rednia arytmetyczna (5) dziaÅ‚a jako punkt rÃ³wnowagi pomiÄ™dzy skupionymi punktami z lewej strony a rozproszonymi punktami z prawej strony:

Lewa strona Å›redniej:

-   Punkty o wartoÅ›ciach 2 i 3
-   Blisko siebie (rÃ³Å¼nica 1 jednostka)
-   OdlegÅ‚oÅ›ci od Å›redniej: 3 i 2 jednostki
-   Suma "ciÄ…Å¼enia" = 5 jednostek

Prawa strona Å›redniej:

-   Punkty o wartoÅ›ciach 6 i 9
-   Bardziej oddalone (rÃ³Å¼nica 3 jednostki)
-   OdlegÅ‚oÅ›ci od Å›redniej: 1 i 4 jednostki
-   Suma "ciÄ…Å¼enia" = 5 jednostek

Kluczowe obserwacje:

1.  Åšrednia (5) jest punktem rÃ³wnowagi, mimo Å¼e:

    -   Punkty po lewej sÄ… skupione (2,3)
    -   Punkty po prawej sÄ… rozproszone (6,9)
    -   Zielone strzaÅ‚ki pokazujÄ… odlegÅ‚oÅ›ci od Å›redniej

2.  RÃ³wnowaga jest zachowana poniewaÅ¼:

    -   Suma odlegÅ‚oÅ›ci siÄ™ rÃ³wnowaÅ¼y: (5-2) + (5-3) = (6-5) + (9-5)
    -   CaÅ‚kowita suma odlegÅ‚oÅ›ci = 5 jednostek po kaÅ¼dej stronie

```{r}
#| warning: false
#| echo: false
#| fig.width: 12
#| fig.height: 7
#| fig.align: 'center'

library(ggplot2)
library(dplyr)

# Tworzenie danych
values <- c(2, 3, 6, 9)
mean_val <- mean(values)

# Ramka danych do wykresu
data <- data.frame(
  x = values,
  y = rep(0, length(values)),
  arrow_height = c(0.35, 0.15, 0.35, 0.15),  # WysokoÅ›ci dla strzaÅ‚ek
  value_label_height = c(0.25, 0.05, 0.25, 0.05)  # Etykiety miÄ™dzy strzaÅ‚kami
)

# Tworzenie wizualizacji
ggplot() +
  # Rysowanie trÃ³jkÄ…ta (punkt podparcia)
  geom_polygon(data = data.frame(
    x = c(mean_val - 0.3, mean_val + 0.3, mean_val),
    y = c(-0.2, -0.2, 0)
  ), aes(x = x, y = y), fill = "darkgray") +
  
  # Rysowanie belki
  geom_segment(aes(x = min(values) - 1, xend = max(values) + 1, 
                   y = 0, yend = 0),
              color = "brown", linewidth = 2) +
  
  # Dodanie punktÃ³w
  geom_point(data = data %>% mutate(side = ifelse(x < mean_val, "left", "right")), 
             aes(x = x, y = y, color = side), 
             size = 10) +
  scale_color_manual(values = c("left" = "royalblue", "right" = "darkblue")) +
  
  # Punkt Å›redniej
  geom_point(aes(x = mean_val, y = 0), 
             color = "red", size = 5) +
  
  # Pierwsza grupa strzaÅ‚ek (gÃ³rne)
  geom_segment(data = subset(data, arrow_height > 0.3), 
              aes(x = x, xend = mean_val,
                  y = arrow_height, yend = arrow_height),
              arrow = arrow(length = unit(0.2, "cm"), 
                          ends = "both"),
              color = "darkgreen") +
  
  # Druga grupa strzaÅ‚ek (dolne)
  geom_segment(data = subset(data, arrow_height < 0.3), 
              aes(x = x, xend = mean_val,
                  y = arrow_height, yend = arrow_height),
              arrow = arrow(length = unit(0.2, "cm"), 
                          ends = "both"),
              color = "darkgreen") +
  
  # Etykiety wartoÅ›ci
  geom_label(data = data, 
            aes(x = x, y = value_label_height, label = x),
            size = 4.5,
            fill = "white",
            label.padding = unit(0.2, "lines")) +
  
  # Etykieta Å›redniej
  geom_text(aes(x = mean_val, y = -0.4, 
                label = paste("Åšrednia =", round(mean_val, 2))),
            color = "red", size = 4.5, fontface = "bold") +
  
  # Etykiety odlegÅ‚oÅ›ci
  geom_text(data = data, 
            aes(x = (x + mean_val)/2, 
                y = arrow_height + 0.08,
                label = round(abs(x - mean_val), 2)),
            color = "darkgreen",
            size = 3.5) +
  
  # Dostosowanie motywu
  theme_minimal() +
  labs(title = "Åšrednia Arytmetyczna jako Punkt RÃ³wnowagi",
       subtitle = paste("Åšrednia =", round(mean_val, 2), "rÃ³wnowaÅ¼y nierÃ³wne odlegÅ‚oÅ›ci po obu stronach"),
       x = "WartoÅ›ci",
       y = NULL) +
  theme(axis.text.y = element_blank(),
        axis.ticks.y = element_blank(),
        panel.grid.major.y = element_blank(),
        panel.grid.minor.y = element_blank(),
        plot.title = element_text(hjust = 0.5, size = 14, face = "bold"),
        plot.subtitle = element_text(hjust = 0.5, size = 11),
        legend.position = "none") +
  coord_cartesian(ylim = c(-0.8, 0.8), 
                 expand = TRUE)
```
:::

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

Obliczmy Å›redniÄ… dla zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis                     | Obliczenie                     |
|------|--------------------------|--------------------------------|
| 1    | Sumuj wszystkie wartoÅ›ci | 2 + 4 + 4 + 5 + 5 + 7 + 9 = 36 |
| 2    | Policz liczbÄ™ wartoÅ›ci   | n = 7                          |
| 3    | Podziel sumÄ™ przez n     | 36 / 7 = 5,14                  |

**Obliczenie w R:**

```{r}
dane <- c(2, 4, 4, 5, 5, 7, 9)
mean(dane)
```

**Zalety:**

-   Åatwa do obliczenia i zrozumienia
-   Wykorzystuje wszystkie punkty danych

**Wady:**

-   WraÅ¼liwa na wartoÅ›ci odstajÄ…ce
-   MoÅ¼e nie byÄ‡ dobrÄ… miarÄ… dla silnie asymetrycznych rozkÅ‚adÃ³w danych

### Mediana

Mediana to "wartoÅ›Ä‡ Å›rodkowa", ktÃ³ra dzieli uporzÄ…dkowane dane na dwie rÃ³wnoliczne poÅ‚owy.
Bardziej precyzyjnie:

- JeÅ›li n jest nieparzyste: Mediana to Å›rodkowa obserwacja (ta na pozycji (n+1)/2)
- JeÅ›li n jest parzyste: Mediana to Å›rednia arytmetyczna dwÃ³ch Å›rodkowych obserwacji (na pozycjach n/2 i n/2 + 1)

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

UÅ¼ywajÄ…c tego samego zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis                    | Wynik               |
|------|-------------------------|---------------------|
| 1    | UporzÄ…dkuj dane         | 2, 4, 4, 5, 5, 7, 9 |
| 2    | ZnajdÅº Å›rodkowÄ… wartoÅ›Ä‡ | 5                   |

Dla parzystej liczby wartoÅ›ci, weÅº Å›redniÄ… z dwÃ³ch Å›rodkowych wartoÅ›ci.

**Obliczenie w R:**

```{r}
dane <- c(2, 4, 4, 5, 5, 7, 9)
median(dane)
```

**Zalety:**

-   Nie jest znieksztaÅ‚cona przez skrajne wartoÅ›ci odstajÄ…ce (outliers)
-   Lepsza dla rozkÅ‚adÃ³w skoÅ›nych

**Wady:**

-   Nie wykorzystuje wszystkich punktÃ³w danych

::: callout-warning
Jak znaleÅºÄ‡ pozycjÄ™ mediany w zbiorze danych:

1.  Najpierw posortuj dane rosnÄ…co

2.  Gdy n jest nieparzyste:

    -   Pozycja mediany = $\frac{n + 1}{2}$

3.  Gdy n jest parzyste:

    -   Pierwsza pozycja mediany = $\frac{n}{2}$
    -   Druga pozycja mediany = $\frac{n}{2} + 1$
    -   Mediana = $\frac{\text{wartoÅ›Ä‡ na pozycji }\frac{n}{2} + \text{wartoÅ›Ä‡ na pozycji }(\frac{n}{2}+1)}{2}$

PrzykÅ‚ady:

-   Nieparzyste n=7: pozycja = $\frac{7+1}{2} = 4$-ta wartoÅ›Ä‡
-   Parzyste n=8: pozycje = $\frac{8}{2} = 4$-ta i $4+1 = 5$-ta wartoÅ›Ä‡
:::

### Moda (Dominanta)

Moda to najczÄ™Å›ciej wystÄ™pujÄ…ca wartoÅ›Ä‡.

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

UÅ¼ywajÄ…c zbioru danych: 2, 4, 4, 5, 5, 7, 9

| WartoÅ›Ä‡ | CzÄ™stoÅ›Ä‡ |
|---------|----------|
| 2       | 1        |
| 4       | 2        |
| 5       | 2        |
| 7       | 1        |
| 9       | 1        |

Moda to 4 i 5 (rozkÅ‚ad bimodalny).

**Obliczenie w R:**

```{r}
library(modeest)
mfv(dane)  # NajczÄ™Å›ciej wystÄ™pujÄ…ca wartoÅ›Ä‡
```

**Zalety:**

-   Jedyna miara tendencji centralnej dla danych nominalnych
-   MoÅ¼e identyfikowaÄ‡ wiele punktÃ³w szczytowych (dominujÄ…cych) w danych

**Wady:**

-   Nie zawsze jednoznacznie zdefiniowana
-   Nie jest odpowiednia dla danych ciÄ…gÅ‚ych

### Åšrednia (arytmetyczna) WaÅ¼ona (\*)

Åšrednia waÅ¼ona jest uÅ¼ywana, gdy niektÃ³re punkty danych sÄ… waÅ¼niejsze niÅ¼ inne. WystÄ™pujÄ… dwa typy Å›rednich waÅ¼onych: z wagami nienormalizowanymi i z wagami znormalizowanymi.

#### Åšrednia WaÅ¼ona z Wagami Nienormalizowanymi

Jest to standardowa forma Å›redniej waÅ¼onej, gdzie wagi mogÄ… byÄ‡ dowolnymi liczbami dodatnimi reprezentujÄ…cymi waÅ¼noÅ›Ä‡ kaÅ¼dego punktu danych.

**WzÃ³r:** $\bar{x}_w = \frac{\sum_{i=1}^n w_i x_i}{\sum_{i=1}^n w_i}$

**PrzykÅ‚ad ObliczeÅ„ RÄ™cznych:** Obliczmy Å›redniÄ… waÅ¼onÄ… dla zbioru danych: 2, 4, 5, 7 z wagami 1, 2, 3, 1

| Krok | Opis | Obliczenie |
|------------------|---------------------------|---------------------------|
| 1 | PomnÃ³Å¼ kaÅ¼dÄ… wartoÅ›Ä‡ przez jej wagÄ™ | (2 \* 1) + (4 \* 2) + (5 \* 3) + (7 \* 1) = 2 + 8 + 15 + 7 = 32 |
| 2 | Zsumuj wagi | 1 + 2 + 3 + 1 = 7 |
| 3 | Podziel wynik z kroku 1 przez wynik z kroku 2 | 32 / 7 = 4.57 |

**Obliczenia w R:**

```{r}
x <- c(2, 4, 5, 7)
w <- c(1, 2, 3, 1)
weighted.mean(x, w)
```

#### Åšrednia WaÅ¼ona z Wagami Znormalizowanymi (UÅ‚amki)

W tym przypadku wagi sÄ… uÅ‚amkami sumujÄ…cymi siÄ™ do 1, reprezentujÄ…cymi proporcjÄ™ waÅ¼noÅ›ci dla kaÅ¼dego punktu danych.

**WzÃ³r:** $\bar{x}_w = \sum_{i=1}^n w_i x_i$, gdzie $\sum_{i=1}^n w_i = 1$

**PrzykÅ‚ad ObliczeÅ„ RÄ™cznych:**

Obliczmy Å›redniÄ… waÅ¼onÄ… dla zbioru danych: 2, 4, 5, 7 z wagami znormalizowanymi 0.1, 0.3, 0.4, 0.2

| Krok | Opis | Obliczenie |
|------------------|---------------------------|---------------------------|
| 1 | PomnÃ³Å¼ kaÅ¼dÄ… wartoÅ›Ä‡ przez jej wagÄ™ | (2 \* 0.1) + (4 \* 0.3) + (5 \* 0.4) + (7 \* 0.2) |
| 2 | Zsumuj wyniki | 0.2 + 1.2 + 2.0 + 1.4 = 4.8 |

**Obliczenia w R:**

```{r}
x <- c(2, 4, 5, 7)
w_normalized <- c(0.1, 0.3, 0.4, 0.2)  # Uwaga: sumujÄ… siÄ™ do 1
sum(x * w_normalized)
```

**Zalety Åšrednich WaÅ¼onych:**

-   UwzglÄ™dniajÄ… rÃ³Å¼nÄ… waÅ¼noÅ›Ä‡ punktÃ³w danych

**Wady Åšrednich WaÅ¼onych:**

-   WymagajÄ… uzasadnienia dla wag
-   MogÄ… byÄ‡ niewÅ‚aÅ›ciwie wykorzystane w celu manipulacji wynikami
-   MogÄ… byÄ‡ mniej intuicyjne w interpretacji niÅ¼ prosta Å›rednia arytmetyczna

## Miary ZmiennoÅ›ci (Rozproszenia)

Te miary opisujÄ…, jak bardzo rozproszone sÄ… dane.

::: callout-important
### Zrozumienie Wariancji

```{r}
#| label: fig-variance
#| fig-cap: "Trzy wykresy punktowe pokazujÄ…ce rosnÄ…cÄ… wariancjÄ™ przy staÅ‚ej Å›redniej"
#| echo: false
#| warning: false
#| message: false

library(ggplot2)
library(patchwork)

# Tworzenie danych przykÅ‚adowych
set.seed(123)
low_var <- data.frame(
  value = c(9.5, 9.7, 10, 10, 10, 10.3, 10.5),
  group = "MaÅ‚a Wariancja\nÏƒÂ² = 1"
)
med_var <- data.frame(
  value = c(8, 9, 9.5, 10, 10.5, 11, 12),
  group = "Åšrednia Wariancja\nÏƒÂ² = 4"
)
high_var <- data.frame(
  value = c(6, 7.5, 8.5, 10, 11.5, 12.5, 14),
  group = "DuÅ¼a Wariancja\nÏƒÂ² = 9"
)

# ÅÄ…czenie danych
plot_data <- rbind(low_var, med_var, high_var)

# Tworzenie wykresu
ggplot(plot_data, aes(x = value)) +
  geom_dotplot(binwidth = 0.3, fill = "steelblue", alpha = 0.7) +
  facet_wrap(~group, ncol = 1) +
  geom_vline(xintercept = 10, linetype = "dashed", color = "gray50") +
  scale_x_continuous(breaks = seq(5, 15, by = 2)) +
  labs(x = "WartoÅ›ci",
       y = NULL) +
  theme_minimal() +
  theme(
    axis.text.y = element_blank(),
    panel.grid.minor = element_blank()
  )
```

PowyÅ¼sze trzy wykresy punktowe pokazujÄ…, w jaki sposÃ³b wariancja mierzy rozproszenie danych wokÃ³Å‚ wartoÅ›ci centralnej:

-   Wszystkie rozkÅ‚ady majÄ… tÄ™ samÄ… Å›redniÄ… (Î¼ = 10), oznaczonÄ… liniÄ… przerywanÄ…
-   **MaÅ‚a Wariancja** (ÏƒÂ² = 1): Punkty sÄ… skupione blisko Å›redniej
-   **Åšrednia Wariancja** (ÏƒÂ² = 4): Punkty wykazujÄ… umiarkowane rozproszenie
-   **DuÅ¼a Wariancja** (ÏƒÂ² = 9): Punkty sÄ… szeroko rozproszone wokÃ³Å‚ Å›redniej
:::

::: callout-note
## RÃ³Å¼ne Poziomy ZmiennoÅ›ci

```{r}
#| warning: false
#| echo: false
#| fig.width: 8
#| fig.height: 12
#| fig.align: 'center'

library(ggplot2)
library(dplyr)
library(patchwork)

# Tworzenie danych z rÃ³Å¼nymi odchyleniami standardowymi
set.seed(123)
n_points <- 100

create_data <- function(mean_val, sd_val, label) {
  data.frame(
    x = rnorm(n_points, mean = mean_val, sd = sd_val),
    type = label,
    sd = sd_val
  )
}

# ÅÄ…czenie zbiorÃ³w danych o rÃ³Å¼nej zmiennoÅ›ci
data <- rbind(
  create_data(10, 0.5, "MaÅ‚a zmiennoÅ›Ä‡ (Ïƒ = 0.5)"),
  create_data(10, 2.0, "Åšrednia zmiennoÅ›Ä‡ (Ïƒ = 2.0)"),
  create_data(10, 4.0, "DuÅ¼a zmiennoÅ›Ä‡ (Ïƒ = 4.0)")
)

# Funkcja tworzÄ…ca wizualizacjÄ™
create_dist_plot <- function(df) {
  mean_val <- mean(df$x)
  sd_val <- sd(df$x)
  
  ggplot(df, aes(x = x)) +
    geom_histogram(aes(y = ..density..), bins = 30, 
                  fill = "lightblue", color = "black", alpha = 0.7) +
    geom_density(color = "darkblue", linewidth = 1) +
    geom_vline(xintercept = mean_val, color = "red", 
               linetype = "dashed", linewidth = 1) +
    geom_vline(xintercept = c(mean_val - sd_val, mean_val + sd_val), 
               color = "darkgreen", linetype = "dashed", linewidth = 0.8) +
    annotate("text", x = mean_val, y = 0.9 * max(density(df$x)$y), 
             label = "Åšrednia", color = "red", angle = 90, vjust = -1) +
    annotate("text", x = mean_val - sd_val, y = 0.9 * max(density(df$x)$y), 
             label = "-1 OS", color = "darkgreen", angle = 90, vjust = -1) +
    annotate("text", x = mean_val + sd_val, y = 0.9 * max(density(df$x)$y), 
             label = "+1 OS", color = "darkgreen", angle = 90, vjust = -1) +
    labs(title = unique(df$type),
         x = "WartoÅ›Ä‡",
         y = "GÄ™stoÅ›Ä‡") +
    theme_minimal() +
    theme(plot.title = element_text(hjust = 0.5, size = 12),
          plot.subtitle = element_text(hjust = 0.5),
          axis.title = element_text(size = 10),
          axis.text = element_text(size = 9)) +
    coord_cartesian(xlim = c(0, 20))
}

# Tworzenie poszczegÃ³lnych wykresÃ³w
plots <- data %>%
  group_by(type) %>%
  group_split() %>%
  lapply(create_dist_plot)

# ÅÄ…czenie wykresÃ³w z odpowiednimi odstÄ™pami
combined_plot <- plots[[1]] / plots[[2]] / plots[[3]] +
  plot_layout(heights = c(1, 1, 1)) +
  plot_annotation(
    title = "PorÃ³wnanie RÃ³Å¼nych PoziomÃ³w ZmiennoÅ›ci",
    subtitle = "Wszystkie rozkÅ‚ady majÄ… tÄ™ samÄ… Å›redniÄ… (Î¼ = 10), ale rÃ³Å¼ne odchylenia standardowe",
    theme = theme(
      plot.title = element_text(hjust = 0.5, size = 14),
      plot.subtitle = element_text(hjust = 0.5, size = 12),
      plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
    )
  )

# WyÅ›wietlenie poÅ‚Ä…czonego wykresu
combined_plot
```

Ta wizualizacja przedstawia trzy rozkÅ‚ady normalne o tej samej Å›redniej (Î¼ = 10), ale rÃ³Å¼nych poziomach zmiennoÅ›ci:

1.  **MaÅ‚a zmiennoÅ›Ä‡ (Ïƒ = 0.5)**
    -   Punkty danych grupujÄ… siÄ™ Å›ciÅ›le wokÃ³Å‚ Å›redniej
    -   Krzywa gÄ™stoÅ›ci jest wysoka i wÄ…ska
    -   WiÄ™kszoÅ›Ä‡ obserwacji mieÅ›ci siÄ™ w przedziale Â±0.5 jednostki (odchylenia stand.) od Å›redniej
2.  **Åšrednia zmiennoÅ›Ä‡ (Ïƒ = 2.0)**
    -   Punkty danych sÄ… bardziej rozproszone wokÃ³Å‚ Å›redniej
    -   Krzywa gÄ™stoÅ›ci jest niÅ¼sza i szersza
    -   WiÄ™kszoÅ›Ä‡ obserwacji mieÅ›ci siÄ™ w przedziale Â±2 jednostki od Å›redniej
3.  **DuÅ¼a zmiennoÅ›Ä‡ (Ïƒ = 4.0)**
    -   Punkty danych sÄ… szeroko rozproszone wokÃ³Å‚ Å›redniej
    -   Krzywa gÄ™stoÅ›ci jest znacznie bardziej pÅ‚aska i szeroka
    -   WiÄ™kszoÅ›Ä‡ obserwacji mieÅ›ci siÄ™ w przedziale Â±4 jednostki od Å›redniej

ZwrÃ³Ä‡ uwagÄ™, jak odchylenie standardowe (Ïƒ) bezpoÅ›rednio powiÄ…zane jest z rozproszeniem rozkÅ‚adu - wiÄ™ksze wartoÅ›ci Ïƒ wskazujÄ… na wiÄ™kszÄ… zmiennoÅ›Ä‡ danych, podczas gdy mniejsze wartoÅ›ci oznaczajÄ…, Å¼e punkty danych majÄ… tendencjÄ™ do grupowania siÄ™ bliÅ¼ej Å›redniej.
:::

### RozstÄ™p

RozstÄ™p to rÃ³Å¼nica miÄ™dzy wartoÅ›ciÄ… maksymalnÄ… a minimalnÄ….

**WzÃ³r:** $R = x_{max} - x_{min}$

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

UÅ¼ywajÄ…c zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis                        | Obliczenie |
|------|-----------------------------|------------|
| 1    | ZnajdÅº wartoÅ›Ä‡ maksymalnÄ…   | 9          |
| 2    | ZnajdÅº wartoÅ›Ä‡ minimalnÄ…    | 2          |
| 3    | Odejmij minimum od maksimum | 9 - 2 = 7  |

**Obliczenie w R:**

```{r}
dane <- c(2, 4, 4, 5, 5, 7, 9)
range(dane)
max(dane) - min(dane)
```

**Zalety:**

-   Prosty do obliczenia i zrozumienia
-   Szybka informacja o ogÃ³lnym rozproszeniu danych

**Wady:**

-   Bardzo wraÅ¼liwy na wartoÅ›ci odstajÄ…ce
-   Nie dostarcza informacji o rozkÅ‚adzie miÄ™dzy skrajnoÅ›ciami

### RozstÄ™p MiÄ™dzykwartylowy (IQR)

IQR to rÃ³Å¼nica miÄ™dzy 75. a 25. percentylem (3. a 1. kwartylem).

**WzÃ³r:** $IQR = Q_3 - Q_1$

Aby znaleÅºÄ‡ kwartyle rÄ™cznie:

1.  Dla nieparzystej liczby wartoÅ›ci:
    -   Q2 (mediana) to Å›rodkowa wartoÅ›Ä‡
    -   Q1 to mediana dolnej poÅ‚owy (wyÅ‚Ä…czajÄ…c medianÄ™ dla wszystkich obserwacji)
    -   Q3 to mediana gÃ³rnej poÅ‚owy (wyÅ‚Ä…czajÄ…c medianÄ™ dla wszystkich obserwacji)
2.  Dla parzystej liczby wartoÅ›ci:
    -   Q2 to Å›rednia z dwÃ³ch Å›rodkowych wartoÅ›ci
    -   Q1 to mediana dolnej poÅ‚owy (wyÅ‚Ä…czajÄ…c medianÄ™ dla wszystkich obserwacji)
    -   Q3 to mediana gÃ³rnej poÅ‚owy (wyÅ‚Ä…czajÄ…c medianÄ™ dla wszystkich obserwacji)

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

UÅ¼ywajÄ…c zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis                              | Obliczenie          |
|------|-----------------------------------|---------------------|
| 1    | UporzÄ…dkuj dane                   | 2, 4, 4, 5, 5, 7, 9 |
| 2    | ZnajdÅº Q2 (medianÄ™)               | 5                   |
| 3    | ZnajdÅº Q1 (medianÄ™ dolnej poÅ‚owy) | 4                   |
| 4    | ZnajdÅº Q3 (medianÄ™ gÃ³rnej poÅ‚owy) | 7                   |
| 5    | Oblicz IQR                        | Q3 - Q1 = 7 - 4 = 3 |

**Obliczenie w R:**

```{r}
dane <- c(2, 4, 4, 5, 5, 7, 9)
print(dane)
quantile(dane, type = 1)
IQR(dane, type = 1)
```

**Zalety:**

-   Odporny na wartoÅ›ci odstajÄ…ce
-   Dostarcza informacji o rozproszeniu Å›rodkowych 50% danych

**Wady:**

-   Ignoruje ogony rozkÅ‚adu
-   Mniej efektywny niÅ¼ odchylenie standardowe dla rozkÅ‚adÃ³w normalnych

### Wariancja

Wariancja mierzy Å›rednie kwadratowe odchylenie od Å›redniej.

**WzÃ³r:** $s^2 = \frac{\sum_{i=1}^n (x_i - \bar{x})^2}{n - 1}$

::: callout-note
#### Wariancja: Zrozumienie Åšredniego Odchylenia Kwadratowego

**Czym jest Wariancja?** Wariancja mierzy, jak bardzo punkty danych sÄ… "rozrzucone" wokÃ³Å‚ Å›redniej - jest Å›redniÄ… kwadratÃ³w odchyleÅ„ od Å›redniej.

WzÃ³r: $s^2 = \frac{\sum(x_i - \bar{x})^2}{n-1}$

**Prosty PrzykÅ‚ad:** RozwaÅ¼my liczby: 2, 4, 6, 8, 10 Åšrednia ($\bar{x}$) = 6

```{r}
#| echo: false
#| fig.height: 4
#| fig.width: 6
library(ggplot2)

# Dane
df <- data.frame(
  x = 1:5,
  values = c(2, 4, 6, 8, 10)
)

# Wykres
ggplot(df, aes(x = x, y = values)) +
  geom_hline(yintercept = 6, color = "blue", linetype = "dashed") +
  geom_point(size = 3) +
  geom_segment(aes(xend = x, yend = 6), color = "red", linetype = "dotted") +
  labs(title = "Odchylenia od Åšredniej",
       x = "Pozycja",
       y = "WartoÅ›Ä‡") +
  scale_y_continuous(limits = c(0, 12)) +
  theme_minimal()
```

**Obliczanie OdchyleÅ„:**

```{r}
#| echo: false
#| fig.height: 4
#| fig.width: 6
# Dane odchyleÅ„ kwadratowych
df$sq_dev <- (df$values - 6)^2

ggplot(df, aes(x = x, y = sq_dev)) +
  geom_col(fill = "skyblue") +
  labs(title = "Odchylenia Kwadratowe",
       x = "Pozycja",
       y = "Odchylenie Kwadratowe") +
  theme_minimal()
```

| WartoÅ›Ä‡ | Odchylenie od Å›redniej | Kwadrat odchylenia |
|---------|------------------------|--------------------|
| 2       | -4                     | 16                 |
| 4       | -2                     | 4                  |
| 6       | 0                      | 0                  |
| 8       | +2                     | 4                  |
| 10      | +4                     | 16                 |

Wariancja = $\frac{16 + 4 + 0 + 4 + 16}{4} = 10$

**Kluczowe Punkty:**

1.  Åšrednia sÅ‚uÅ¼y jako punkt odniesienia (niebieska przerywana linia)
2.  Odchylenia pokazujÄ… odlegÅ‚oÅ›Ä‡ od Å›redniej (czerwone kropkowane linie)
3.  Podniesienie do kwadratu sprawia, Å¼e wszystkie odchylenia sÄ… dodatnie (niebieskie sÅ‚upki)
4.  WiÄ™ksze odchylenia majÄ… wiÄ™kszy wpÅ‚yw na wariancjÄ™
:::

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

UÅ¼ywajÄ…c zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis | Obliczenie |
|-------------------|-------------------|----------------------------------|
| 1 | Oblicz Å›redniÄ… | $\bar{x} = 5,14$ |
| 2 | Odejmij Å›redniÄ… od kaÅ¼dej obserwacji i podnieÅ› wynik do kwadratu | $(2 - 5,14)^2 = 9,86$ |
|  |  | $(4 - 5,14)^2 = 1,30$ |
|  |  | $(4 - 5,14)^2 = 1,30$ |
|  |  | $(5 - 5,14)^2 = 0,02$ |
|  |  | $(5 - 5,14)^2 = 0,02$ |
|  |  | $(7 - 5,14)^2 = 3,46$ |
|  |  | $(9 - 5,14)^2 = 14,90$ |
| 3 | Sumuj kwadraty rÃ³Å¼nic | 30,86 |
| 4 | Podziel przez (n-1), czyli przez liczbÄ™ obserwacji - 1 | 30,86 / 6 = 5,14 |

**Obliczenie w R:**

```{r}
var(dane)
```

**Zalety:**

-   Wykorzystuje wszystkie punkty danych
-   Podstawa dla wielu testÃ³w statystycznych\*

**Wady:**

-   Jednostki sÄ… podniesione do kwadratu, co utrudnia interpretacjÄ™
-   WraÅ¼liwa na wartoÅ›ci odstajÄ…ce

::: callout-important
#### Poprawka Bessela: Dlaczego Dzielimy przez (n-1), a nie po prostu przez n

Gdy obliczamy odchylenia od Å›redniej, ich suma musi wynosiÄ‡ zero. To matematyczny fakt: $\sum(x_i - \bar{x}) = 0$

**PomyÅ›l o tym Tak:**

JeÅ›li masz 5 liczb i ich Å›redniÄ…:

-   Po obliczeniu 4 odchyleÅ„ od Å›redniej
-   5-te odchylenie MUSI byÄ‡ takie, Å¼eby suma byÅ‚a zero
-   Nie masz tak naprawdÄ™ 5 niezaleÅ¼nych odchyleÅ„
-   Masz tylko 4 prawdziwie "swobodne" odchylenia

**Prosty PrzykÅ‚ad:**

Liczby: 2, 4, 6, 8, 10

-   Åšrednia = 6
-   Odchylenia: -4, -2, 0, +2, +4
-   ZauwaÅ¼, Å¼e sumujÄ… siÄ™ do zera
-   JeÅ›li znasz dowolne 4 odchylenia, 5-te jest z gÃ³ry okreÅ›lone!

**Dlatego WÅ‚aÅ›nie:**

-   Przy obliczaniu wariancji: $s^2 = \frac{\sum(x_i - \bar{x})^2}{n-1}$
-   Dzielimy przez (n-1), a nie n
-   PoniewaÅ¼ tylko (n-1) odchyleÅ„ jest naprawdÄ™ niezaleÅ¼nych
-   Ostatnie jest okreÅ›lone przez pozostaÅ‚e

**Stopnie Swobody:**

-   n = liczba obserwacji
-   1 = ograniczenie (odchylenia muszÄ… sumowaÄ‡ siÄ™ do zera)
-   n-1 = stopnie swobody = liczba prawdziwie niezaleÅ¼nych odchyleÅ„

**Kiedy StosowaÄ‡:**

-   Przy obliczaniu wariancji z prÃ³by
-   Przy obliczaniu odchylenia standardowego z prÃ³by

**Kiedy NIE StosowaÄ‡:**

-   W obliczeniach dla caÅ‚ej populacji (gdy mamy wszystkie dane)
-   Przy obliczaniu odchylenia od ustalonej, znanej wartoÅ›ci parametru populacji statystycznej

**PamiÄ™taj:**

-   To nie jest tylko statystyczny trik
-   Odchylenia od Å›redniej muszÄ… sumowaÄ‡ siÄ™ do zera
-   To ograniczenie kosztuje nas jeden stopieÅ„ swobody
:::

### Odchylenie Standardowe

Odchylenie standardowe to pierwiastek kwadratowy z wariancji i mierzy przeciÄ™tne rozproszenie danych wzglÄ™dem ich Å›redniej arytmetycznej. W przeciwieÅ„stwie do wariancji, jest to miara mianowana i interpretowana w jednostkach bdanej zmiennej.

**WzÃ³r:** $s = \sqrt{\frac{\sum_{i=1}^n (x_i - \bar{x})^2}{n - 1}}$

**PrzykÅ‚ad RÄ™cznego Obliczenia:**

UÅ¼ywajÄ…c zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis | Obliczenie |
|----|----|----|
| 1 | Oblicz wariancjÄ™ | $s^2 = 5,14$ (z poprzedniego obliczenia) |
| 2 | WyciÄ…gnij pierwiastek kwadratowy | $s = \sqrt{5,14} = 2,27$ |

**Obliczenie w R:**

```{r}
sd(dane)
```

**Zalety:**

-   W tych samych jednostkach co oryginalne dane
-   Szeroko stosowane i zrozumiaÅ‚e

**Wady:**

-   Nadal wraÅ¼liwe na wartoÅ›ci odstajÄ…ce
-   ZakÅ‚ada, Å¼e dane sÄ… w przybliÅ¼eniu "normalnie" rozÅ‚oÅ¼one

### WspÃ³Å‚czynnik zmiennoÅ›ci (\*)

WspÃ³Å‚czynnik zmiennoÅ›ci to odchylenie standardowe podzielone przez Å›redniÄ… arytmetycznÄ…, czÄ™sto wyraÅ¼any jako wartoÅ›Ä‡ procentowa.

**WzÃ³r:** $CV = \frac{s}{\bar{x}} \times 100\%$

**PrzykÅ‚ad obliczeÅ„ rÄ™cznych:**

Dla zbioru danych: 2, 4, 4, 5, 5, 7, 9

| Krok | Opis | Obliczenia |
|-------------------|-------------------|----------------------------------|
| 1 | Oblicz Å›redniÄ… arytmetycznÄ… | $\bar{x} = 5,14$ |
| 2 | Oblicz odchylenie standardowe | $s = 2,27$ |
| 3 | Podziel s przez Å›redniÄ… i pomnÃ³Å¼ przez 100 | $(2,27 / 5,14) * 100 = 44,16\%$ |

**Obliczenia w R:**

```{r}
(sd(dane) / mean(dane)) * 100
```

**Zalety:**

\- UmoÅ¼liwia porÃ³wnanie zmiennoÅ›ci miÄ™dzy zbiorami danych o rÃ³Å¼nych jednostkach lub Å›rednich

\- Przydatny w dziedzinach takich jak finanse do oceny ryzyka

**Wady:**

\- Nie ma znaczenia dla danych zawierajÄ…cych zarÃ³wno wartoÅ›ci dodatnie, jak i ujemne

\- MoÅ¼e byÄ‡ mylÄ…cy, gdy Å›rednia jest bliska zeru

::: callout-warning
### Ograniczenia WspÃ³Å‚czynnika ZmiennoÅ›ci (CV)

WspÃ³Å‚czynnik zmiennoÅ›ci, obliczany jako $(Ïƒ/Î¼) Ã— 100\%$, ma dwa istotne ograniczenia:

#### Nie ma interpretacji dla danych zawierajÄ…cych wartoÅ›ci dodatnie i ujemne

-   Åšrednia moÅ¼e byÄ‡ bliska zeru ze wzglÄ™du na wzajemne znoszenie siÄ™ wartoÅ›ci dodatnich i ujemnych
-   PrzykÅ‚ad: ZbiÃ³r danych {-5, -3, 2, 6} ma Å›redniÄ… = 0
    -   CV = (odch. std. / 0) Ã— 100%
    -   Prowadzi to do dzielenia przez zero
    -   Nawet gdy Å›rednia nie jest dokÅ‚adnie zero, CV nie reprezentuje prawdziwej wzglÄ™dnej zmiennoÅ›ci, gdy dane przechodzÄ… przez zero
-   CV zakÅ‚ada naturalny punkt zerowy i sensowne proporcje miÄ™dzy wartoÅ›ciami

#### MylÄ…cy gdy Å›rednia jest bliska zeru

-   PoniewaÅ¼ CV = $(Ïƒ/Î¼) Ã— 100\%$, gdy $Î¼$ zbliÅ¼a siÄ™ do zera:
    -   Mianownik staje siÄ™ bardzo maÅ‚y
    -   Skutkuje to ekstremalnie duÅ¼ymi wartoÅ›ciami CV
    -   Te duÅ¼e wartoÅ›ci nie reprezentujÄ… sensownie wzglÄ™dnej zmiennoÅ›ci
-   PrzykÅ‚ad:
    -   ZbiÃ³r danych A: {0.001, 0.002, 0.003} ma Å›redniÄ… = 0.002
    -   Nawet maÅ‚e odchylenia standardowe dadzÄ… bardzo duÅ¼e CV
    -   WynikajÄ…cy z tego duÅ¼y CV moÅ¼e sugerowaÄ‡ ekstremalne zrÃ³Å¼nicowanie, gdy w rzeczywistoÅ›ci dane sÄ… doÅ›Ä‡ skoncentrowane

#### Najlepsze zastosowania

CV jest najbardziej uÅ¼yteczny dla:

-   Danych Å›ciÅ›le dodatnich
-   Danych mierzonych na skali ilorazowej
-   Danych ze Å›redniÄ… znacznie powyÅ¼ej zera
-   PorÃ³wnywania zmiennoÅ›ci miÄ™dzy zbiorami danych o rÃ³Å¼nych jednostkach lub skalach
:::

## Miary PoÅ‚oÅ¼enia WzglÄ™dnego (WzglÄ™dnej Pozycji)

Zrozumienie relatywnej (wzglÄ™dnej) pozycji wartoÅ›ci w zbiorze danych.

### Kwartyle (Q): Podstawy

Kwartyle to specjalne liczby, ktÃ³re dzielÄ… uporzÄ…dkowane dane na cztery rÃ³wne czÄ™Å›ci.

![Doane, D. P., & Seward, L. W. (2016). Applied statistics in business and economics. Mcgraw-Hill.](stat_imgs/IMG_4327.jpg)

#### Czym sÄ… Kwartyle?

**Pierwszy Kwartyl (Q1):**

-   Oddziela najniÅ¼sze 25% danych od reszty
-   Nazywany rÃ³wnieÅ¼ 25-tym percentylem
-   PrzykÅ‚ad: JeÅ›li Q1 = 50 w zbiorze wynikÃ³w testu, 25% uczniÃ³w uzyskaÅ‚o wynik poniÅ¼ej 50

**Drugi Kwartyl (Q2):**

-   Mediana - dzieli dane na pÃ³Å‚
-   Nazywany rÃ³wnieÅ¼ 50-tym percentylem
-   PrzykÅ‚ad: JeÅ›li Q2 = 70, poÅ‚owa uczniÃ³w uzyskaÅ‚a wynik poniÅ¼ej 70

**Trzeci Kwartyl (Q3):**

-   Oddziela najwyÅ¼sze 25% danych od reszty
-   Nazywany rÃ³wnieÅ¼ 75-tym percentylem
-   PrzykÅ‚ad: JeÅ›li Q3 = 85, 75% uczniÃ³w uzyskaÅ‚o wynik poniÅ¼ej 85

**Zadanie 1: Kwartyle**

Dane: 10, 12, 15, 15, 18, 20, 22, 25, 25 ZnajdÅº: Q1, Q2, Q3

RozwiÄ…zanie:

1.  Q2 (n = 9, nieparzyste)
    -   Pozycja = (9 + 1)/2 = 5
    -   Q2 = 18
2.  Q1
    -   Pozycja = (9 + 1)/4 = 2.5
    -   MiÄ™dzy 12 a 15
    -   Q1 = (12 + 15)/2 = 13.5
3.  Q3
    -   Pozycja = 3(9 + 1)/4 = 7.5
    -   MiÄ™dzy 22 a 25
    -   Q3 = (22 + 25)/2 = 23.5

#### Jak ObliczaÄ‡ Kwartyle (Krok po Kroku) - Dwie Metody

Przeanalizujmy wyniki testÃ³w uczniÃ³w uÅ¼ywajÄ…c obu popularnych metod wyznaczania kwartyli:

**PrzykÅ‚ad 1: Przypadek Nieparzystej Liczby WynikÃ³w (11 wynikÃ³w)**\
60, 65, 70, 72, 75, 78, 80, 82, 85, 88, 90

Krok 1: ZnajdÅº Q2 (medianÄ™) - Tak samo dla obu metod

-   Przy n = 11 wartoÅ›ciach (nieparzyste)
-   Pozycja mediany = 2(n + 1)/4 = (n + 1)/2 = 6
-   Q2 = 78

Krok 2: ZnajdÅº Q1

-   Metoda Tukeya:
    -   SpÃ³jrz na dolnÄ… poÅ‚owÄ™: 60, 65, 70, 72, 75
    -   Q1 = mediana dolnej poÅ‚owy = 70
-   Metoda Interpolacji:
    -   Pozycja = (n + 1)/4 = (11 + 1)/4 = 3
    -   Q1 = 70 (3-cia wartoÅ›Ä‡)

Krok 3: ZnajdÅº Q3

-   Metoda Tukeya:
    -   SpÃ³jrz na gÃ³rnÄ… poÅ‚owÄ™: 80, 82, 85, 88, 90
    -   Q3 = mediana gÃ³rnej poÅ‚owy = 85
-   Metoda Interpolacji:
    -   Pozycja = 3(n + 1)/4 = 3(12)/4 = 9
    -   Q3 = 85 (9-ta wartoÅ›Ä‡)

**PrzykÅ‚ad 2: Przypadek Parzystej Liczby (10 wynikÃ³w)**\
60, 65, 70, 72, 75, 78, 80, 82, 85, 90

Krok 1: ZnajdÅº Q2 (medianÄ™) - Tak samo dla obu metod

-   Przy n = 10 wartoÅ›ciach (parzyste)
-   Pozycje mediany = 5 i 6
-   Q2 = (75 + 78)/2 = 76.5

Krok 2: ZnajdÅº Q1

-   Metoda Tukeya:
    -   SpÃ³jrz na dolnÄ… poÅ‚owÄ™: 60, 65, 70, 72, 75
    -   Q1 = mediana dolnej poÅ‚owy = 70
-   Metoda Interpolacji:
    -   Pozycja = (10 + 1)/4 = 2.75
    -   Q1 = 65 + 0.75(70 - 65) = 68.75

Krok 3: ZnajdÅº Q3

-   Metoda Tukeya:
    -   SpÃ³jrz na gÃ³rnÄ… poÅ‚owÄ™: 78, 80, 82, 85, 90
    -   Q3 = mediana gÃ³rnej poÅ‚owy = 82
-   Metoda Interpolacji:
    -   Pozycja = 3(10 + 1)/4 = 8.25
    -   Q3 = 82 + 0.25(85 - 82) = 82.75

WaÅ¼ne Uwagi:

1.  Metoda Tukeya:

    -   Najpierw znajdÅº medianÄ™ (Q2)
    -   Podziel dane na dolnÄ… i gÃ³rnÄ… poÅ‚owÄ™
    -   ZnajdÅº Q1 jako medianÄ™ dolnej poÅ‚owy
    -   ZnajdÅº Q3 jako medianÄ™ gÃ³rnej poÅ‚owy
    -   Gdy n jest nieparzyste, mediana nie jest uwzglÄ™dniana w Å¼adnej poÅ‚owie

2.  Metoda Interpolacji:

    -   UÅ¼ywa pozycji (n+1)/4 dla Q1 i 3(n+1)/4 dla Q3
    -   Gdy pozycja wypada miÄ™dzy wartoÅ›ciami, stosuje interpolacjÄ™ liniowÄ…
    -   Nie wymaga podziaÅ‚u danych na poÅ‚owy

::: callout-important
## Manual Construction of Tukey Boxplot

**Step 1: Calculate Key Components**

1.  Find quartiles: $Q_1$, $Q_2$ (median), $Q_3$
2.  Calculate Interquartile Range: $IQR = Q_3 - Q_1$

**Step 2: Determine Whisker Boundaries**

-   Lower fence: $Q_1 - 1.5 \times IQR$
-   Upper fence: $Q_3 + 1.5 \times IQR$

**Step 3: Identify Outliers** Data points are outliers if they are:

-   Below lower fence: $x < Q_1 - 1.5 \times IQR$
-   Above upper fence: $x > Q_3 + 1.5 \times IQR$

**Example:** Given data: 2, 4, 6, 8, 9, 10, 11, 12, 14, 16, 50

1.  Find quartiles:

    -   $Q_1 = 6$
    -   $Q_2 = 10$
    -   $Q_3 = 14$

2.  Calculate $IQR$:

    -   $IQR = 14 - 6 = 8$

3.  Calculate fences:

    -   Lower: $6 - (1.5 \times 8) = -6$
    -   Upper: $14 + (1.5 \times 8) = 26$

4.  Identify outliers:

    -   50 \> 26, therefore 50 is an outlier

**Graphical Elements:**

1.  Box: Draw from $Q_1$ to $Q_3$
2.  Line inside box: Draw at $Q_2$
3.  Whiskers: Extend to most extreme non-outlier points
4.  Points: Plot outliers individually beyond whiskers
:::

### Percentyle: Bardziej Precyzyjna Miara WzglÄ™dnej Pozycji (\*)

#### Czym sÄ… Percentyle?

Percentyle dajÄ… nam bardziej szczegÃ³Å‚owy obraz, dzielÄ…c dane na 100 rÃ³wnych czÄ™Å›ci.

Kluczowe Punkty:

-   25-ty percentyl rÃ³wna siÄ™ Q1
-   50-ty percentyl rÃ³wna siÄ™ Q2 (mediana)
-   75-ty percentyl rÃ³wna siÄ™ Q3

#### Obliczanie Percentyli

WzÃ³r: $P_k = \frac{k(n+1)}{100}$

Gdzie:

-   $P_k$ to pozycja dla k-tego percentyla
-   k to percentyl, ktÃ³ry chcemy znaleÅºÄ‡ (1-100)
-   n to liczba obserwacji

**PrzykÅ‚ad 3: Znajdowanie 60-tego Percentyla** UÅ¼yjmy wynikÃ³w zadaÅ„ domowych uczniÃ³w: 72, 75, 78, 80, 82, 85, 88, 90, 92, 95

Krok 1: Oblicz pozycjÄ™

-   n = 10 wynikÃ³w
-   Dla 60-tego percentyla: $P_{60} = \frac{60(10+1)}{100} = 6.6$

Krok 2: ZnajdÅº otaczajÄ…ce wartoÅ›ci

-   Pozycja 6: wynik 85
-   Pozycja 7: wynik 88

Krok 3: Interpoluj (waÅ¼ne: percentyle uÅ¼ywajÄ… interpolacji liniowej)

-   Musimy przejÅ›Ä‡ 0.6 drogi miÄ™dzy 85 a 88 $P_{60} = 85 + 0.6(88-85)$ $P_{60} = 85 + 0.6(3)$ $P_{60} = 85 + 1.8 = 86.8$

Co to oznacza: 60% uczniÃ³w uzyskaÅ‚o wynik 86.8 lub niÅ¼szy.


### Rangi Percentylowe (RP) (*)

#### Czym jest Ranga Percentylowa?

Percentyle i rangi percentylowe to powiÄ…zane, ale przeciwstawne pojÄ™cia:

**Kluczowa rÃ³Å¼nica:**
- **Percentyl** â†’ "Jaki wynik znajduje siÄ™ na 75. percentylu?" (pozycja â†’ wartoÅ›Ä‡)
- **Ranga Percentylowa** â†’ "JakÄ… rangÄ™ percentylowÄ… ma wynik 75?" (wartoÅ›Ä‡ â†’ pozycja)

**Ranga percentylowa** informuje nas, jaki procent wartoÅ›ci znajduje siÄ™ poniÅ¼ej okreÅ›lonego wyniku. MoÅ¼na o tym myÅ›leÄ‡ jako o odpowiedzi na pytanie: *"Ile procent klasy uzyskaÅ‚o wynik gorszy ode mnie?"*

#### WzÃ³r

$$
RP = \frac{\text{liczba wartoÅ›ci poniÅ¼ej} + 0{,}5 \times \text{liczba wartoÅ›ci rÃ³wnych}}{\text{caÅ‚kowita liczba wartoÅ›ci}} \times 100
$$

#### PrzykÅ‚ad 4: Wyznaczanie Rangi Percentylowej

RozwaÅ¼my nastÄ™pujÄ…ce wyniki egzaminu (posortowane):

| Pozycja | 1  | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9  | 10 |
|---------|----|----|----|----|----|----|----|----|----|----|
| Wynik   | 65 | 70 | 70 | **75** | **75** | **75** | 80 | 85 | 85 | 90 |

Wyznaczmy RP dla wyniku **75** (wyrÃ³Å¼nionego).

**Krok 1: DokÅ‚adne policzenie**
- WartoÅ›ci **poniÅ¼ej** 75: 65, 70, 70 â†’ **3 wartoÅ›ci**
- WartoÅ›ci **rÃ³wne** 75: 75, 75, 75 â†’ **3 wartoÅ›ci**
- Wszystkie wartoÅ›ci: **10**

**Krok 2: Zastosowanie wzoru**

$$
RP = \frac{3 + 0{,}5(3)}{10} \times 100 = \frac{3 + 1{,}5}{10} \times 100 = \frac{4{,}5}{10} \times 100 = 45\%
$$

**Interpretacja:** Wynik 75 jest wyÅ¼szy niÅ¼ 45% wynikÃ³w w klasie.

**Sprawdzenie poprawnoÅ›ci:** To ma sens! Jest 3 wyniki wyraÅºnie poniÅ¼ej 75, a Ty jesteÅ› w Å›rodku grupy 3 osÃ³b, ktÃ³re uzyskaÅ‚y 75, wiÄ™c jesteÅ› mniej wiÄ™cej na pozycji 4,5 z 10 = 45%. âœ“

#### Zrozumienie WspÃ³Å‚czynnika 0,5

**P: Dlaczego mnoÅ¼ymy wartoÅ›ci rÃ³wne przez 0,5?**

**O:** WspÃ³Å‚czynnik 0,5 oznacza, Å¼e liczymy **poÅ‚owÄ™** wartoÅ›ci remisowych jako znajdujÄ…ce siÄ™ poniÅ¼ej nas.

Oto intuicja: JeÅ›li uzyskaÅ‚eÅ› wynik 75 wraz z dwiema innymi osobami, czy powinieneÅ› uznaÄ‡ siÄ™ za:
- Lepszego od wszystkich z nich? (To nie byÅ‚oby sprawiedliwe wobec nich)
- Gorszego od wszystkich z nich? (To nie byÅ‚oby sprawiedliwe wobec ciebie)
- GdzieÅ› poÅ›rodku? âœ“ (To najsprawiedliwsze podejÅ›cie)

**UÅ¼ywajÄ…c naszego przykÅ‚adu:**
- 3 osoby uzyskaÅ‚y wynik poniÅ¼ej 75: liczymy wszystkie **3**
- 3 osoby uzyskaÅ‚y dokÅ‚adnie 75 (Å‚Ä…cznie z tobÄ…): liczymy **poÅ‚owÄ™** z nich = 0,5 Ã— 3 = **1,5**
- Razem poniÅ¼ej lub remis: 3 + 1,5 = 4,5 z 10 = 45%

UÅ¼ywajÄ…c 0,5, mÃ³wimy zasadniczo: *"SpoÅ›rÃ³d osÃ³b, ktÃ³re zremisowaÅ‚y ze mnÄ…, mogÄ™ zaÅ‚oÅ¼yÄ‡, Å¼e wypadÅ‚em lepiej niÅ¼ poÅ‚owa z nich."* To traktuje wszystkich z tym samym wynikiem rÃ³wno i unika dawania komukolwiek niesprawiedliwej przewagi.

#### Zadanie do Samodzielnego RozwiÄ…zania

UÅ¼ywajÄ…c tego samego zestawu danych powyÅ¼ej, wyznacz rangÄ™ percentylowÄ… dla wyniku **85**.

<details>
<summary>Kliknij, aby zobaczyÄ‡ rozwiÄ…zanie</summary>

**Liczenie:**
- WartoÅ›ci poniÅ¼ej 85: 65, 70, 70, 75, 75, 75, 80 â†’ 7 wartoÅ›ci
- WartoÅ›ci rÃ³wne 85: 85, 85 â†’ 2 wartoÅ›ci
- Wszystkie: 10 wartoÅ›ci

**Obliczenie:**
$$
RP = \frac{7 + 0{,}5(2)}{10} \times 100 = \frac{8}{10} \times 100 = 80\%
$$

**OdpowiedÅº:** Wynik 85 ma rangÄ™ percentylowÄ… 80%.

</details>

#### Uwaga o Implementacji w Oprogramowaniu

RÃ³Å¼ne pakiety oprogramowania mogÄ… uÅ¼ywaÄ‡ nieco innych metod obliczania rang percentylowych:
- **R**: Funkcja `ecdf()` lub obliczenia rÄ™czne
- **Python (pandas)**: Metoda `rank(pct=True)`

MogÄ… one dawaÄ‡ nieco rÃ³Å¼ne wyniki w zaleÅ¼noÅ›ci od sposobu obsÅ‚ugi wartoÅ›ci remisowych i przypadkÃ³w brzegowych.


::: callout-important
### PodwÃ³jna Funkcja Mediany

```{r}
#| label: fig-median-dual
#| fig-cap: "Wizualizacja podwÃ³jnej roli mediany"
#| echo: false
#| warning: false
#| message: false

library(ggplot2)

# Tworzenie danych przykÅ‚adowych
set.seed(123)
data <- data.frame(
  value = c(2, 3, 4, 5, 7, 8, 9),
  group = "Punkty Danych"
)

# Tworzenie wizualizacji
ggplot(data, aes(x = value, y = 0)) +
  # Dodanie punktÃ³w danych
  geom_point(size = 3, color = "steelblue") +
  # Dodanie linii mediany
  geom_vline(xintercept = 5, linetype = "dashed", color = "red") +
  # Adnotacje
  annotate("text", x = 5, y = 0.2, label = "Mediana = 5\n50% poniÅ¼ej | 50% powyÅ¼ej", 
           hjust = 0.5, color = "red") +
  # Dostosowanie wykresu
  labs(x = "WartoÅ›ci", y = "") +
  scale_y_continuous(breaks = NULL) +
  theme_minimal() +
  coord_cartesian(ylim = c(-0.1, 0.3))
```

Mediana peÅ‚ni dwie odrÄ™bne, ale powiÄ…zane ze sobÄ… role:

**A. Jako Miara Centrum:**

-   Reprezentuje Å›rodkowy punkt danych
-   RÃ³wnowaÅ¼y liczbÄ™ obserwacji po obu stronach
-   Jest odporna na wartoÅ›ci odstajÄ…ce (w przeciwieÅ„stwie do Å›redniej arytmetycznej)

**B. Jako Miara Pozycji WzglÄ™dnej:**

-   Wyznacza 50-ty percentyl

-   Dzieli dane na dwie rÃ³wne czÄ™Å›ci

-   KaÅ¼dÄ… wartoÅ›Ä‡ moÅ¼na do niej odnieÅ›Ä‡:

    -   PoniÅ¼ej mediany: dolne 50%
    -   PowyÅ¼ej mediany: gÃ³rne 50%

Ta podwÃ³jna natura sprawia, Å¼e mediana jest szczegÃ³lnie przydatna do:

-   Opisywania wartoÅ›ci typowych (tendencja centralna)
-   Zrozumienia pozycji w rozkÅ‚adzie (pozycja wzglÄ™dna)
-   Dokonywania porÃ³wnaÅ„ miÄ™dzy rÃ³Å¼nymi zbiorami danych
:::

### Wykres pudeÅ‚kowy {#sec-boxplots}

```{r}
#| include: false

# Wczytanie wymaganych pakietÃ³w
library(tidyr)
library(ggplot2)
library(ggpubr)

# Ustawienie opcji wyÅ›wietlania
options(scipen = 999, digits = 3)
```

Wykresy pudeÅ‚kowe (znane rÃ³wnieÅ¼ jako wykresy skrzynkowe lub box-and-whisker plots) sÄ… uÅ¼ytecznymi narzÄ™dziami wizualizacji rozkÅ‚adÃ³w danych.

#### Konstrukcja wykresu pudeÅ‚kowego Tukeya {#sec-boxplot-construction}

Wykres pudeÅ‚kowy zostaÅ‚ wprowadzony przez Johna Tukeya jako czÄ™Å›Ä‡ jego zestawu narzÄ™dzi eksploracyjnej analizy danych. Wykres wizualizuje rozkÅ‚ad danych na podstawie piÄ™ciu podstawowych statystyk.

##### Podsumowanie piÄ™ciu liczb

Wykres pudeÅ‚kowy reprezentuje piÄ™Ä‡ kluczowych wartoÅ›ci statystycznych:

1.  **Minimum**: Najmniejsza wartoÅ›Ä‡ w zbiorze danych (z wyÅ‚Ä…czeniem wartoÅ›ci odstajÄ…cych)
2.  **Pierwszy kwartyl (Q1)**: 25. percentyl, poniÅ¼ej ktÃ³rego znajduje siÄ™ 25% obserwacji
3.  **Mediana (Q2)**: 50. percentyl, ktÃ³ry dzieli zbiÃ³r danych na dwie rÃ³wne poÅ‚owy
4.  **Trzeci kwartyl (Q3)**: 75. percentyl, poniÅ¼ej ktÃ³rego znajduje siÄ™ 75% obserwacji
5.  **Maksimum**: NajwiÄ™ksza wartoÅ›Ä‡ w zbiorze danych (z wyÅ‚Ä…czeniem wartoÅ›ci odstajÄ…cych)

##### Komponenty wykresu pudeÅ‚kowego

```{r}
#| label: fig-boxplot-diagram
#| echo: false
#| fig.cap: "Diagram wykresu pudeÅ‚kowego pokazujÄ…cy jego kluczowe komponenty."
#| fig.height: 4
#| fig.width: 8
# Utworzenie przykÅ‚adowego zbioru danych
set.seed(123)
sample_data <- c(rnorm(100, 10, 2), 2, 18, 19)
# Utworzenie ramki danych
df <- data.frame(value = sample_data)

# Obliczenie wartoÅ›ci statystycznych
q1 <- quantile(sample_data, 0.25)
q3 <- quantile(sample_data, 0.75)
iqr_val <- IQR(sample_data)
lower_bound <- max(min(sample_data), q1 - 1.5 * iqr_val)
upper_bound <- min(max(sample_data), q3 + 1.5 * iqr_val)
med <- median(sample_data)

# Utworzenie wykresu pudeÅ‚kowego z adnotacjami
p <- ggplot(df, aes(x = factor(1), y = value)) +
  geom_boxplot(width = 0.4, outlier.shape = 8, outlier.size = 3) +
  theme_minimal() +
  theme(axis.title.x = element_blank(),
        axis.text.x = element_blank(),
        axis.ticks.x = element_blank(),
        plot.margin = margin(0.5, 2, 0.5, 0.5, "cm")) +  # ZwiÄ™kszenie marginesu po prawej stronie
  ylab("WartoÅ›Ä‡") +
  coord_cartesian(xlim = c(0.7, 2.5)) +  # Rozszerzenie obszaru wykresu dla tekstu
  
  # Teksty po prawej stronie z odpowiednim odstÄ™pem
  annotate("text", x = 1.4, y = med, label = "Mediana (Q2)", hjust = 0) +
  annotate("text", x = 1.4, y = q1, label = "Pierwszy kwartyl (Q1)", hjust = 0) +
  annotate("text", x = 1.4, y = q3, label = "Trzeci kwartyl (Q3)", hjust = 0) +
  
  # Odpowiednie przesuniÄ™cie opisÃ³w dla wartoÅ›ci min/max
  annotate("text", x = 1.4, y = lower_bound - 0.3, 
           label = "Minimum (w zakresie 1.5*IQR)", hjust = 0) +
  annotate("text", x = 1.4, y = upper_bound + 0.3, 
           label = "Maksimum (w zakresie 1.5*IQR)", hjust = 0) +
  
  # Oznaczenie wartoÅ›ci odstajÄ…cych z przesuniÄ™ciem
  annotate("text", x = 1.4, y = min(sample_data) - 0.3, label = "WartoÅ›Ä‡ odstajÄ…ca", hjust = 0) +
  annotate("text", x = 1.4, y = max(sample_data) + 0.3, label = "WartoÅ›Ä‡ odstajÄ…ca", hjust = 0) +
  
  # Oznaczenie IQR po lewej stronie
  annotate("segment", x = 0.8, xend = 0.8, y = q1, yend = q3,
           arrow = arrow(ends = "both", length = unit(0.1, "inches")), color = "blue") +
  annotate("text", x = 0.65, y = (q1 + q3)/2, label = "IQR", color = "blue")

p
```

Komponenty wykresu pudeÅ‚kowego obejmujÄ…:

1.  **PudeÅ‚ko**:
    -   Reprezentuje rozstÄ™p miÄ™dzykwartylowy (IQR), zawierajÄ…cy Å›rodkowe 50% danych
    -   Dolna krawÄ™dÅº reprezentuje Q1
    -   GÃ³rna krawÄ™dÅº reprezentuje Q3
    -   Linia wewnÄ…trz pudeÅ‚ka reprezentuje medianÄ™ (Q2)
2.  **WÄ…sy**:
    -   RozciÄ…gajÄ… siÄ™ od pudeÅ‚ka, aby pokazaÄ‡ zakres danych niebÄ™dÄ…cych wartoÅ›ciami odstajÄ…cymi
    -   W wykresie pudeÅ‚kowym Tukeya wÄ…sy rozciÄ…gajÄ… siÄ™ do 1,5 Ã— IQR od krawÄ™dzi pudeÅ‚ka:
        -   Dolny wÄ…s: rozciÄ…ga siÄ™ do minimalnej wartoÅ›ci â‰¥ (Q1 - 1,5 Ã— IQR)
        -   GÃ³rny wÄ…s: rozciÄ…ga siÄ™ do maksymalnej wartoÅ›ci â‰¤ (Q3 + 1,5 Ã— IQR)
3.  **WartoÅ›ci odstajÄ…ce**:
    -   Punkty, ktÃ³re wykraczajÄ… poza wÄ…sy
    -   Indywidualnie zaznaczone jako kropki lub inne symbole
    -   WartoÅ›ci, ktÃ³re sÄ… \< (Q1 - 1,5 Ã— IQR) lub \> (Q3 + 1,5 Ã— IQR)

##### Kluczowe cechy do obserwacji

InterpretujÄ…c wykresy pudeÅ‚kowe, zwrÃ³Ä‡ uwagÄ™ na nastÄ™pujÄ…ce cechy:

1.  **Tendencja centralna**: PoÅ‚oÅ¼enie linii mediany wewnÄ…trz pudeÅ‚ka
2.  **Rozproszenie**: SzerokoÅ›Ä‡ pudeÅ‚ka (IQR) i dÅ‚ugoÅ›Ä‡ wÄ…sÃ³w
3.  **SkoÅ›noÅ›Ä‡**:
    -   Dane symetryczne: mediana znajduje siÄ™ w przybliÅ¼eniu na Å›rodku pudeÅ‚ka, wÄ…sy majÄ… podobnÄ… dÅ‚ugoÅ›Ä‡
    -   SkoÅ›noÅ›Ä‡ prawostronna (dodatnia): mediana jest bliÅ¼ej dolnej czÄ™Å›ci pudeÅ‚ka, gÃ³rny wÄ…s jest dÅ‚uÅ¼szy
    -   SkoÅ›noÅ›Ä‡ lewostronna (ujemna): mediana jest bliÅ¼ej gÃ³rnej czÄ™Å›ci pudeÅ‚ka, dolny wÄ…s jest dÅ‚uÅ¼szy
4.  **WartoÅ›ci odstajÄ…ce**: ObecnoÅ›Ä‡ pojedynczych punktÃ³w poza wÄ…sami

#### Studium przypadku: PorÃ³wnanie wzrostu miÄ™dzy grupami {#sec-height-comparison}

Zastosujmy nasze zrozumienie wykresÃ³w pudeÅ‚kowych do rzeczywistego zbioru danych. Mamy pomiary wzrostu (w centymetrach) z dwÃ³ch grup, kaÅ¼da po 25 studentÃ³w.

```{r}
#| label: height-data
#| echo: true

# Utworzenie zbioru danych
data_height <- data.frame(
  group_1 = c(150, 160, 165, 168, 172, 173, 175, 176, 177, 178, 179, 180, 180, 181, 181, 182, 182, 183, 183, 184, 186, 188, 190, 191, 200),
  group_2 = c(138, 140, 148, 152, 164, 164, 165, 165, 166, 166, 170, 175, 175, 175, 182, 182, 182, 182, 182, 182, 183, 183, 183, 188, 210)
)

# PrzeksztaÅ‚cenie zbioru danych z formatu szerokiego na dÅ‚ugi
data_height_l <- gather(data = data_height, key = "Group_number", value = "height", group_1:group_2)

# WyÅ›wietlenie pierwszych kilku wierszy
head(data_height_l)
```

Obliczmy kilka statystyk podsumowujÄ…cych dla kaÅ¼dej grupy:

```{r}
#| label: summary-stats
#| echo: true

# Obliczenie statystyk podsumowujÄ…cych dla kaÅ¼dej grupy
group1_stats <- summary(data_height$group_1)
group2_stats <- summary(data_height$group_2)

# Obliczenie IQR
group1_iqr <- IQR(data_height$group_1)
group2_iqr <- IQR(data_height$group_2)

# Utworzenie tabeli porÃ³wnawczej
stats_table <- rbind(
  group1_stats,
  group2_stats
)
rownames(stats_table) <- c("Grupa 1", "Grupa 2")

# WyÅ›wietlenie tabeli
stats_table

# WyÅ›wietlenie wartoÅ›ci IQR
cat("IQR dla Grupy 1:", group1_iqr, "\n")
cat("IQR dla Grupy 2:", group2_iqr, "\n")
```

#### Wizualizacja danych dotyczÄ…cych wzrostu {#sec-visualizing-heights}

Teraz zwizualizujmy dane za pomocÄ… wykresÃ³w pudeÅ‚kowych i wykresÃ³w gÄ™stoÅ›ci:

```{r}
#| label: fig-boxplots
#| fig.cap: "Wykresy pudeÅ‚kowe porÃ³wnujÄ…ce rozkÅ‚ady wzrostu miÄ™dzy grupami."
#| fig.width: 8
#| fig.height: 4

# Tworzenie poziomych wykresÃ³w pudeÅ‚kowych
ggplot(data = data_height_l) + 
  geom_boxplot(aes(x = Group_number, y = height, colour = Group_number), notch = FALSE) + 
  coord_flip() + 
  scale_y_continuous(breaks = seq(130, 210, 5)) + 
  theme_pubr() + 
  grids(linetype = "dashed") +
  labs(title = "RozkÅ‚ad wzrostu wedÅ‚ug grupy",
       x = "Grupa",
       y = "Wzrost (cm)")
```

Aby uzupeÅ‚niÄ‡ nasze wykresy pudeÅ‚kowe, przyjrzyjmy siÄ™ rÃ³wnieÅ¼ rozkÅ‚adom gÄ™stoÅ›ci:

```{r}
#| label: fig-density
#| fig.cap: "Wykresy gÄ™stoÅ›ci pokazujÄ…ce rozkÅ‚ady wzrostu dla kaÅ¼dej grupy."
#| fig.width: 8
#| fig.height: 4

# Tworzenie wykresÃ³w gÄ™stoÅ›ci
ggplot(data = data_height_l) + 
  geom_density(aes(x = height, fill = Group_number), alpha = 0.5) + 
  facet_grid(~ Group_number) + 
  scale_x_continuous(breaks = seq(130, 210, 10)) +
  labs(title = "GÄ™stoÅ›Ä‡ wzrostu wedÅ‚ug grupy",
       x = "Wzrost (cm)",
       y = "GÄ™stoÅ›Ä‡")
```

#### Ä†wiczenie z interpretacji wykresÃ³w pudeÅ‚kowych {#sec-boxplot-exercise}

Na podstawie powyÅ¼szych wykresÃ³w pudeÅ‚kowych i wykresÃ³w gÄ™stoÅ›ci okreÅ›l, czy kaÅ¼de z poniÅ¼szych stwierdzeÅ„ jest **Prawdziwe** czy **FaÅ‚szywe**. Dla kaÅ¼dego stwierdzenia podaj krÃ³tkie wyjaÅ›nienie oparte na dowodach z wizualizacji.

::: callout-note
#### Pytania Ä‡wiczeniowe

1.  Studenci z grupy 2 (G2) w badanej prÃ³bie sÄ…, Å›rednio, wyÅ¼si niÅ¼ ci z grupy 1 (G1).

2.  Wzrost w grupie 1 (G1) jest bardziej rozproszony/rozÅ‚oÅ¼ony niÅ¼ w grupie 2 (G2).

3.  NajniÅ¼sza osoba jest w grupie 2 (G2).

4.  Oba zbiory danych majÄ… skoÅ›noÅ›Ä‡ ujemnÄ… (lewostronnÄ…).

5.  PoÅ‚owa studentÃ³w w grupie 2 (G2) ma wzrost co najmniej 175 cm.
:::

##### WskazÃ³wki do interpretacji

OdpowiadajÄ…c na te pytania, weÅº pod uwagÄ™:

-   PozycjÄ™ linii mediany w kaÅ¼dym pudeÅ‚ku
-   WzglÄ™dne rozmiary pudeÅ‚ek (IQR)
-   Pozycje wartoÅ›ci minimalnych i maksymalnych
-   SymetriÄ™ rozkÅ‚adÃ³w (zrÃ³wnowaÅ¼one czy z skoÅ›noÅ›ciÄ…)
-   DÅ‚ugoÅ›ci wÄ…sÃ³w

Dla kaÅ¼dego stwierdzenia ustal, czy jest Prawdziwe czy FaÅ‚szywe i podaj swoje wyjaÅ›nienie:

::: {.callout-tip collapse="true"}
#### Szablon odpowiedzi

1.  Studenci z G2 sÄ…, Å›rednio, wyÅ¼si niÅ¼ z G1: \[Prawda/FaÅ‚sz\]
    -   WyjaÅ›nienie:
2.  Wzrost G1 jest bardziej rozproszony/rozÅ‚oÅ¼ony: \[Prawda/FaÅ‚sz\]
    -   WyjaÅ›nienie:
3.  NajniÅ¼sza osoba jest w G2: \[Prawda/FaÅ‚sz\]
    -   WyjaÅ›nienie:
4.  Oba zbiory danych majÄ… skoÅ›noÅ›Ä‡ ujemnÄ… (lewostronnÄ…): \[Prawda/FaÅ‚sz\]
    -   WyjaÅ›nienie:
5.  PoÅ‚owa G2 ma wzrost co najmniej 175 cm: \[Prawda/FaÅ‚sz\]
    -   WyjaÅ›nienie:
:::

Przeanalizujmy odpowiedzi na nasze pytania dotyczÄ…ce interpretacji wykresÃ³w pudeÅ‚kowych:

::: {.callout-important collapse="true"}
#### RozwiÄ…zania

1.  Studenci z G2 sÄ…, Å›rednio, wyÅ¼si niÅ¼ z G1: **FaÅ‚sz**
    -   WyjaÅ›nienie: Mediana wzrostu (Å›rodkowa linia w wykresie pudeÅ‚kowym) dla G1 jest wyÅ¼sza niÅ¼ dla G2.
2.  Wzrost G1 jest bardziej rozproszony/rozÅ‚oÅ¼ony: **FaÅ‚sz**
    -   WyjaÅ›nienie: G2 wykazuje wiÄ™ksze rozproszenie. Jest to widoczne na wykresie pudeÅ‚kowym, gdzie G2 ma wiÄ™kszy rozstÄ™p miÄ™dzykwartylowy (IQR) wynoszÄ…cy 17,5 cm w porÃ³wnaniu z 9,5 cm dla G1. G2 ma rÃ³wnieÅ¼ szerszy zakres od wartoÅ›ci minimalnej do maksymalnej.
3.  NajniÅ¼sza osoba jest w G2: **Prawda**
    -   WyjaÅ›nienie: WartoÅ›Ä‡ minimalna w G2 wynosi 138 cm, co jest niÅ¼sze niÅ¼ wartoÅ›Ä‡ minimalna w G1 (150 cm).
4.  Oba zbiory danych majÄ… skoÅ›noÅ›Ä‡ ujemnÄ… (lewostronnÄ…): **Prawda**
    -   WyjaÅ›nienie: W obu grupach linia mediany jest umieszczona w kierunku gÃ³rnej czÄ™Å›ci pudeÅ‚ka, a dolny wÄ…s jest dÅ‚uÅ¼szy niÅ¼ gÃ³rny. Wskazuje to na dÅ‚uÅ¼szy ogon po lewej stronie rozkÅ‚adu, co oznacza skoÅ›noÅ›Ä‡ ujemnÄ….
5.  PoÅ‚owa G2 ma wzrost co najmniej 175 cm: **Prawda**
    -   WyjaÅ›nienie: Mediana (Å›rodkowa linia w wykresie pudeÅ‚kowym) dla G2 wynosi 175 cm, co oznacza, Å¼e 50% wartoÅ›ci jest wiÄ™kszych lub rÃ³wnych 175 cm.
:::

#### Kod R {#sec-boxplot-code}

```{r}
#| label: complete-code
#| eval: false

# Wczytanie wymaganych pakietÃ³w
library(tidyr)
library(ggplot2)
library(ggpubr)

# Ustawienie opcji wyÅ›wietlania
options(scipen = 999, digits = 3)

# Utworzenie zbioru danych
data_height <- data.frame(
  group_1 = c(150, 160, 165, 168, 172, 173, 175, 176, 177, 178, 179, 180, 180, 181, 181, 182, 182, 183, 183, 184, 186, 188, 190, 191, 200),
  group_2 = c(138, 140, 148, 152, 164, 164, 165, 165, 166, 166, 170, 175, 175, 175, 182, 182, 182, 182, 182, 182, 183, 183, 183, 188, 210)
)

# PrzeksztaÅ‚cenie zbioru danych z formatu szerokiego na dÅ‚ugi
data_height_l <- gather(data = data_height, key = "Group_number", value = "height", group_1:group_2)

# WyÅ›wietlenie pierwszych kilku wierszy
head(data_height_l)

# Obliczenie statystyk podsumowujÄ…cych dla kaÅ¼dej grupy
group1_stats <- summary(data_height$group_1)
group2_stats <- summary(data_height$group_2)

# Obliczenie IQR
group1_iqr <- IQR(data_height$group_1)
group2_iqr <- IQR(data_height$group_2)

# Tworzenie poziomych wykresÃ³w pudeÅ‚kowych
ggplot(data = data_height_l) + 
  geom_boxplot(aes(x = Group_number, y = height, colour = Group_number), notch = FALSE) + 
  coord_flip() + 
  scale_y_continuous(breaks = seq(130, 210, 5)) + 
  theme_pubr() + 
  grids(linetype = "dashed") +
  labs(title = "RozkÅ‚ad wzrostu wedÅ‚ug grupy",
       x = "Grupa",
       y = "Wzrost (cm)")

# Tworzenie wykresÃ³w gÄ™stoÅ›ci
ggplot(data = data_height_l) + 
  geom_density(aes(x = height, fill = Group_number), alpha = 0.5) + 
  facet_grid(~ Group_number) + 
  scale_x_continuous(breaks = seq(130, 210, 10)) +
  labs(title = "GÄ™stoÅ›Ä‡ wzrostu wedÅ‚ug grupy",
       x = "Wzrost (cm)",
       y = "GÄ™stoÅ›Ä‡")
```

---

## Miary KsztaÅ‚tu RozkÅ‚adu (*)

### SkoÅ›noÅ›Ä‡

**Co mierzy:** AsymetriÄ™ rozkÅ‚adu danych. MoÅ¼na to rozumieÄ‡ jako odpowiedÅº na pytanie "ktÃ³ry ogon jest dÅ‚uÅ¼szy?"

**WzÃ³r:**

$SK = \frac{n}{(n-1)(n-2)} \sum_{i=1}^n \left(\frac{x_i - \bar{x}}{s}\right)^3$

**Szybka interpretacja:**

- **SK > 0**: DÅ‚uÅ¼szy prawy ogon (wiÄ™kszoÅ›Ä‡ danych po lewej, kilka wysokich wartoÅ›ci odstajÄ…cych)
- **SK < 0**: DÅ‚uÅ¼szy lewy ogon (wiÄ™kszoÅ›Ä‡ danych po prawej, kilka niskich wartoÅ›ci odstajÄ…cych)  
- **SK â‰ˆ 0**: W przybliÅ¼eniu symetryczny

#### Wizualizacja SkoÅ›noÅ›ci
```{r}
library(moments)
library(ggplot2)
library(tidyverse)

set.seed(123)

# Generowanie wyraÅºnych przykÅ‚adÃ³w z wiÄ™kszÄ… iloÅ›ciÄ… danych dla gÅ‚adkich rozkÅ‚adÃ³w
prawostronna <- c(rnorm(800, 5, 1.5), rexp(200, 0.2) + 5)
lewostronna <- 20 - c(rnorm(800, 5, 1.5), rexp(200, 0.2) + 5)
symetryczna <- rnorm(1000, 10, 2)

# ÅÄ…czenie w ramkÄ™ danych
df_skosnosc <- tibble(
  wartosc = c(prawostronna, lewostronna, symetryczna),
  typ = factor(rep(c("SkoÅ›noÅ›Ä‡ Prawostronna", "SkoÅ›noÅ›Ä‡ Lewostronna", "Symetryczny"),
                    each = 1000),
                levels = c("SkoÅ›noÅ›Ä‡ Prawostronna", "Symetryczny", "SkoÅ›noÅ›Ä‡ Lewostronna"))
)

# Obliczanie statystyk dla kaÅ¼dego typu
statystyki_skosnosc <- df_skosnosc %>%
  group_by(typ) %>%
  summarise(
    srednia = mean(wartosc),
    mediana = median(wartosc),
    sk = round(skewness(wartosc), 2)
  )

# Wykres gÄ™stoÅ›ci z wyraÅºnymi adnotacjami
ggplot(df_skosnosc, aes(x = wartosc, fill = typ)) +
  geom_density(alpha = 0.7, color = NA) +
  geom_vline(data = statystyki_skosnosc, aes(xintercept = srednia),
             color = "#D55E00", linewidth = 1, linetype = "dashed") +
  geom_vline(data = statystyki_skosnosc, aes(xintercept = mediana),
             color = "#0072B2", linewidth = 1, linetype = "solid") +
  geom_text(data = statystyki_skosnosc,
            aes(x = Inf, y = Inf, 
                label = paste0("SkoÅ›noÅ›Ä‡ = ", sk)),
            hjust = 1.1, vjust = 2, size = 5, fontface = "bold") +
  facet_wrap(~typ, scales = "free", ncol = 1) +
  scale_fill_manual(values = c("#E69F00", "#009E73", "#CC79A7")) +
  labs(
    title = "Zrozumienie SkoÅ›noÅ›ci: Gdzie ZnajdujÄ… SiÄ™ Ogony?",
    subtitle = "PomaraÅ„czowa przerywana = Åšrednia  |  Niebieska ciÄ…gÅ‚a = Mediana",
    x = "WartoÅ›Ä‡",
    y = "GÄ™stoÅ›Ä‡"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    strip.text = element_text(face = "bold", size = 12),
    plot.title = element_text(face = "bold", size = 14)
  )
```

#### PrzykÅ‚ad Zastosowania: RozkÅ‚ad DochodÃ³w
```{r}
set.seed(456)

# Realistyczne scenariusze dochodÃ³w (w tysiÄ…cach PLN)
# Prawostronna: WiÄ™kszoÅ›Ä‡ zarabia umiarkowanie, niewielu bardzo duÅ¼o
dochody_miasto_a <- c(rgamma(900, shape = 2, scale = 15) + 25, 
                      runif(100, 150, 300))

# Lewostronna: WiÄ™kszoÅ›Ä‡ zarabia duÅ¼o, niewielu maÅ‚o (zamoÅ¼na dzielnica)
dochody_miasto_b <- 180 - c(rgamma(900, shape = 2, scale = 15), 
                            runif(100, 0, 50))

# Symetryczny: Bardziej zrÃ³wnowaÅ¼ony rozkÅ‚ad dochodÃ³w
dochody_miasto_c <- rnorm(1000, 80, 20)

df_dochody <- tibble(
  dochod = c(dochody_miasto_a, dochody_miasto_b, dochody_miasto_c),
  miasto = factor(rep(c("Miasto A: SkoÅ›noÅ›Ä‡ Prawostronna", 
                        "Miasto B: SkoÅ›noÅ›Ä‡ Lewostronna", 
                        "Miasto C: Symetryczny"),
                      each = 1000),
                  levels = c("Miasto A: SkoÅ›noÅ›Ä‡ Prawostronna", 
                            "Miasto C: Symetryczny",
                            "Miasto B: SkoÅ›noÅ›Ä‡ Lewostronna"))
)

# Obliczanie statystyk
statystyki_dochody <- df_dochody %>%
  group_by(miasto) %>%
  summarise(
    srednia = mean(dochod),
    mediana = median(dochod),
    sk = round(skewness(dochod), 2)
  )

ggplot(df_dochody, aes(x = dochod)) +
  geom_histogram(aes(y = after_stat(density), fill = miasto),
                 bins = 40, alpha = 0.7, color = "white") +
  geom_density(linewidth = 1, color = "black") +
  geom_vline(data = statystyki_dochody, aes(xintercept = srednia),
             color = "#D55E00", linewidth = 1.2, linetype = "dashed") +
  geom_vline(data = statystyki_dochody, aes(xintercept = mediana),
             color = "#0072B2", linewidth = 1.2) +
  geom_label(data = statystyki_dochody,
             aes(x = srednia, y = Inf, label = paste("SK =", sk)),
             vjust = 1.5, hjust = 0.5, size = 4, fontface = "bold",
             fill = "white", alpha = 0.8) +
  facet_wrap(~miasto, scales = "free", ncol = 1) +
  scale_fill_manual(values = c("#E69F00", "#009E73", "#CC79A7")) +
  labs(
    title = "RozkÅ‚ady DochodÃ³w w Trzech Miastach",
    subtitle = "PomaraÅ„czowa przerywana = Åšrednia  |  Niebieska ciÄ…gÅ‚a = Mediana",
    x = "DochÃ³d Roczny (tys. PLN)",
    y = "GÄ™stoÅ›Ä‡"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    strip.text = element_text(face = "bold", size = 11)
  )
```

---

### Kurtoza

**Co mierzy:** "CiÄ™Å¼koÅ›Ä‡ ogonÃ³w" rozkÅ‚adu. MoÅ¼na to rozumieÄ‡ jako odpowiedÅº na pytanie "jak ekstremalne sÄ… wartoÅ›ci ekstremalne?"

**WzÃ³r:**

$K = \frac{n(n+1)}{(n-1)(n-2)(n-3)} \sum_{i=1}^n \left(\frac{x_i - \bar{x}}{s}\right)^4 - \frac{3(n-1)^2}{(n-2)(n-3)}$

**Szybka interpretacja:**

- **K > 3** (Leptokurtyczny): CiÄ™Å¼kie ogony, ostry szczyt (wiÄ™cej wartoÅ›ci ekstremalnych)
- **K < 3** (Platykurtyczny): Lekkie ogony, pÅ‚aski szczyt (mniej wartoÅ›ci ekstremalnych)
- **K â‰ˆ 3** (Mezokurtyczny): Zachowanie podobne do rozkÅ‚adu normalnego

#### Wizualizacja Kurtozy
```{r}
set.seed(789)

# Generowanie BARDZO wyraÅºnych przykÅ‚adÃ³w - wszystkie wyÅ›rodkowane w 0 z odch. stand. â‰ˆ 1
n <- 8000

# EKSTREMALNE ciÄ™Å¼kie ogony: mieszanka ciasnego centrum + ekstremalne wartoÅ›ci odstajÄ…ce
ciezkie_ogony <- c(rnorm(7000, 0, 0.5),    # Bardzo ciasne centrum (ostry szczyt)
                   rnorm(1000, 0, 4))       # Wiele ekstremalnych wartoÅ›ci

# Lekkie ogony: rozkÅ‚ad jednostajny (brak moÅ¼liwych wartoÅ›ci odstajÄ…cych)
lekkie_ogony <- runif(n, -1.73, 1.73)  # Przeskalowane do odch. stand. â‰ˆ 1

# Normalny: rozkÅ‚ad referencyjny
normalne_ogony <- rnorm(n, 0, 1)

# Standaryzacja wszystkich do tej samej skali
ciezkie_ogony <- scale(ciezkie_ogony)[,1]
lekkie_ogony <- scale(lekkie_ogony)[,1]
normalne_ogony <- scale(normalne_ogony)[,1]

df_kurtoza <- tibble(
  wartosc = c(ciezkie_ogony, lekkie_ogony, normalne_ogony),
  typ = factor(rep(c("CiÄ™Å¼kie Ogony (Leptokurtyczny)", 
                     "Lekkie Ogony (Platykurtyczny)", 
                     "Normalny (Mezokurtyczny)"),
                   each = n),
               levels = c("CiÄ™Å¼kie Ogony (Leptokurtyczny)",
                         "Normalny (Mezokurtyczny)",
                         "Lekkie Ogony (Platykurtyczny)"))
) %>%
  filter(wartosc >= -5 & wartosc <= 5)

# Obliczanie kurtozy
statystyki_kurtoza <- df_kurtoza %>%
  group_by(typ) %>%
  summarise(k = round(kurtosis(wartosc), 2))

# NakÅ‚adajÄ…ce siÄ™ wykresy gÄ™stoÅ›ci - najlepiej pokazujÄ… zachowanie ogonÃ³w
ggplot(df_kurtoza, aes(x = wartosc, color = typ, fill = typ)) +
  geom_density(alpha = 0.15, linewidth = 1.5) +
  geom_vline(xintercept = 0, linetype = "dotted", color = "gray30", 
             linewidth = 0.8) +
  annotate("rect", xmin = -5, xmax = -2, ymin = 0, ymax = 0.5,
           alpha = 0.1, fill = "red") +
  annotate("rect", xmin = 2, xmax = 5, ymin = 0, ymax = 0.5,
           alpha = 0.1, fill = "red") +
  annotate("text", x = -3.5, y = 0.48, label = "Strefa Ogona",
           color = "darkred", fontface = "bold", size = 4.5) +
  annotate("text", x = 3.5, y = 0.48, label = "Strefa Ogona",
           color = "darkred", fontface = "bold", size = 4.5) +
  annotate("text", x = 0, y = 0.48, label = "Strefa Szczytu",
           color = "darkblue", fontface = "bold", size = 4.5) +
  scale_color_manual(
    values = c("#D55E00", "#009E73", "#0072B2"),
    labels = function(x) {
      k_val <- statystyki_kurtoza$k[match(x, statystyki_kurtoza$typ)]
      paste0(x, "\nK = ", k_val)
    }
  ) +
  scale_fill_manual(
    values = c("#D55E00", "#009E73", "#0072B2"),
    labels = function(x) {
      k_val <- statystyki_kurtoza$k[match(x, statystyki_kurtoza$typ)]
      paste0(x, "\nK = ", k_val)
    }
  ) +
  coord_cartesian(ylim = c(0, 0.5)) +
  labs(
    title = "Kurtoza: PorÃ³wnanie OstroÅ›ci Szczytu i CiÄ™Å¼aru OgonÃ³w",
    subtitle = "PomaraÅ„czowy (K=10.3) ma OSTRY szczyt + CIÄ˜Å»KIE ogony  |  RÃ³Å¼owy (K=1.8) jest PÅASKI wszÄ™dzie",
    x = "WartoÅ›Ä‡ Standaryzowana",
    y = "GÄ™stoÅ›Ä‡",
    color = "Typ RozkÅ‚adu",
    fill = "Typ RozkÅ‚adu"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 10),
    legend.title = element_text(face = "bold"),
    plot.title = element_text(face = "bold", size = 14)
  )

# Widok panelowy koncentrujÄ…cy siÄ™ na rÃ³Å¼nicach
ggplot(df_kurtoza, aes(x = wartosc, fill = typ)) +
  geom_histogram(aes(y = after_stat(density)), 
                 bins = 100, alpha = 0.7, color = "white", linewidth = 0.1) +
  geom_density(linewidth = 1.2, color = "black") +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray40") +
  geom_text(data = statystyki_kurtoza,
            aes(x = Inf, y = Inf, label = paste("K =", k)),
            hjust = 1.1, vjust = 1.5, size = 6, fontface = "bold") +
  facet_wrap(~typ, ncol = 1, scales = "free_y") +
  scale_fill_manual(values = c("#D55E00", "#009E73", "#0072B2")) +
  coord_cartesian(xlim = c(-4, 4)) +
  labs(
    title = "PorÃ³wnanie Kurtozy: ZwrÃ³Ä‡ UwagÄ™ na Szczyt i Ogony",
    subtitle = "CiÄ™Å¼kie ogony = WiÄ™kszoÅ›Ä‡ skupiona + czÄ™ste ekstrema  |  Lekkie ogony = RÃ³wnomiernie rozÅ‚oÅ¼one, bez ekstremÃ³w",
    x = "WartoÅ›Ä‡ Standaryzowana",
    y = "GÄ™stoÅ›Ä‡"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    strip.text = element_text(face = "bold", size = 12),
    plot.title = element_text(face = "bold")
  )
```

#### PrzykÅ‚ad Zastosowania: Stopy Zwrotu z Inwestycji
```{r}
set.seed(101)

# Symulacja dziennych stÃ³p zwrotu z BARDZO rÃ³Å¼nÄ… kurtozÄ…
liczba_dni <- 3000

# Zmienna kryptowaluta: ekstremalne ruchy (krachy i wzrosty)
# WiÄ™kszoÅ›Ä‡ dni normalna, ale czÄ™ste ekstremalne zdarzenia
zwroty_krypto <- c(rnorm(2400, 0, 0.8),     # 80% normalnych dni
                   rnorm(600, 0, 5))         # 20% dni ekstremalnej zmiennoÅ›ci

# Stabilne obligacje: bardzo konsekwentne, ograniczone zwroty (bez niespodzianek)
zwroty_obligacje <- runif(liczba_dni, -1.2, 1.2)

# Fundusz indeksowy: typowe zachowanie rynkowe
zwroty_indeks <- rnorm(liczba_dni, 0, 1)

# Standaryzacja dla porÃ³wnania
zwroty_krypto <- scale(zwroty_krypto)[,1]
zwroty_obligacje <- scale(zwroty_obligacje)[,1]
zwroty_indeks <- scale(zwroty_indeks)[,1]

df_zwroty <- tibble(
  zwrot = c(zwroty_krypto, zwroty_obligacje, zwroty_indeks),
  inwestycja = factor(rep(c("Kryptowaluta", 
                            "Fundusz Obligacji", 
                            "Indeks GieÅ‚dowy"),
                          each = liczba_dni),
                      levels = c("Kryptowaluta",
                                "Indeks GieÅ‚dowy",
                                "Fundusz Obligacji"))
) %>%
  filter(zwrot >= -5 & zwrot <= 5)

# Obliczanie kurtozy
statystyki_zwroty <- df_zwroty %>%
  group_by(inwestycja) %>%
  summarise(
    k = round(kurtosis(zwrot), 2),
    poziom_ryzyka = case_when(
      k > 5 ~ "RYZYKO EKSTREMALNE",
      k > 3.5 ~ "RYZYKO WYSOKIE",
      k > 2.5 ~ "RYZYKO UMIARKOWANE",
      TRUE ~ "RYZYKO NISKIE"
    )
  )

ggplot(df_zwroty, aes(x = zwrot, fill = inwestycja)) +
  geom_histogram(aes(y = after_stat(density)), 
                 bins = 80, alpha = 0.7, color = "white", linewidth = 0.1) +
  geom_density(linewidth = 1.2, color = "black") +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray40") +
  geom_label(data = statystyki_zwroty,
             aes(x = Inf, y = Inf, 
                 label = paste0("K = ", k, "\n", poziom_ryzyka)),
             hjust = 1.1, vjust = 1.1, size = 4.5, fontface = "bold",
             fill = "white", alpha = 0.9) +
  facet_wrap(~inwestycja, ncol = 1, scales = "free_y") +
  scale_fill_manual(values = c("#D55E00", "#009E73", "#0072B2")) +
  coord_cartesian(xlim = c(-4, 4)) +
  labs(
    title = "Zwroty z Inwestycji: Kurtoza jako WskaÅºnik Ryzyka",
    subtitle = "Wysokie K = WiÄ™cej zdarzeÅ„ 'Czarnego ÅabÄ™dzia' (ekstremalne zyski ORAZ straty)",
    x = "Standaryzowany Zwrot Dzienny",
    y = "GÄ™stoÅ›Ä‡"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    legend.position = "none",
    strip.text = element_text(face = "bold", size = 12)
  )
```

---

### Kluczowe Wnioski

**SkoÅ›noÅ›Ä‡ informuje o asymetrii:**

- Dodatnia: DÅ‚ugi prawy ogon â†’ Åšrednia przesuniÄ™ta powyÅ¼ej mediany
- Ujemna: DÅ‚ugi lewy ogon â†’ Åšrednia przesuniÄ™ta poniÅ¼ej mediany

**Kurtoza informuje o wartoÅ›ciach ekstremalnych:**

- Wysoka kurtoza (K > 5): Spodziewaj siÄ™ czÄ™stych wartoÅ›ci odstajÄ…cych - zdarzenia typu "czarny Å‚abÄ™dÅº"
- Niska kurtoza (K < 2): Dane pozostajÄ… przewidywalne, w wÄ…skich granicach
- Normalna kurtoza (K â‰ˆ 3): Typowe zachowanie krzywej dzwonowej

**WskazÃ³wki wizualne:**

- **SkoÅ›noÅ›Ä‡**: ZwrÃ³Ä‡ uwagÄ™ na dÅ‚ugoÅ›Ä‡ ogonÃ³w - separacjÄ™ Å›redniej od mediany
- **Kurtoza**: ZwrÃ³Ä‡ uwagÄ™ JEDNOCZEÅšNIE na ostroÅ›Ä‡ szczytu I gruboÅ›Ä‡ ogonÃ³w

**Praktyczne znaczenie:**

- Wysoka kurtoza â‰  tylko "grube ogony" - to ostry szczyt RAZEM z ciÄ™Å¼kimi ogonami
- Oznacza to: "przewaÅ¼nie skupione, ale uwaÅ¼aj na niespodzianki"

---


## Ä†wiczenie 1. PorÃ³wnanie wynagrodzeÅ„

### Dane

Mamy dane o wynagrodzeniach (w tysiÄ…cach euro) z dwÃ³ch maÅ‚ych firm europejskich:

| Index | Firma X | Firma Y |
|-------|---------|---------|
| 1     | 2       | 3       |
| 2     | 2       | 3       |
| 3     | 2       | 4       |
| 4     | 3       | 4       |
| 5     | 3       | 4       |
| 6     | 3       | 4       |
| 7     | 3       | 4       |
| 8     | 3       | 4       |
| 9     | 3       | 5       |
| 10    | 4       | 5       |
| 11    | 4       | 5       |
| 12    | 4       | 5       |
| 13    | 4       | 5       |
| 14    | 4       | 5       |
| 15    | 5       | 6       |
| 16    | 5       | 6       |
| 17    | 5       | 6       |
| 18    | 5       | 7       |
| 19    | 20      | 7       |
| 20    | 35      | 8       |

### Miary tendencji centralnej

#### Åšrednia arytmetyczna

Åšrednia arytmetyczna to suma wszystkich wartoÅ›ci podzielona przez ich liczbÄ™.

WzÃ³r: $\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}$

MoÅ¼na teÅ¼ zapisaÄ‡ ten wzÃ³r w postaci:

$\bar{x} = \frac{\sum_{i=1}^{k} x_i f_i}{n}$

gdzie $f_i$ to czÄ™stoÅ›Ä‡ bezwzglÄ™dna (liczba wystÄ…pieÅ„, waga bezwzglÄ™dna) $i$-tej wartoÅ›ci, a $k$ to liczba rÃ³Å¼nych wartoÅ›ci cechy (liczba wartoÅ›ci wyrÃ³Å¼nionych).

Z uÅ¼yciem czÄ™stoÅ›ci wzglÄ™dnych:

$\bar{x} = \sum_{i=1}^{k} x_i p_i$

gdzie $p_i$ to czÄ™stoÅ›Ä‡ wzglÄ™dna (frakcja, waga znormalizowana) $i$-tej wartoÅ›ci, a $k$ to liczba rÃ³Å¼nych wartoÅ›ci cechy (liczba wartoÅ›ci wyrÃ³Å¼nionych).

##### Obliczenia rÄ™czne dla Firmy X

| WartoÅ›Ä‡ ($x_i$) | CzÄ™stoÅ›Ä‡ ($f_i$) | $x_i \cdot f_i$ |
|-----------------|------------------|-----------------|
| 2               | 3                | 6               |
| 3               | 6                | 18              |
| 4               | 5                | 20              |
| 5               | 4                | 20              |
| 20              | 1                | 20              |
| 35              | 1                | 35              |
| Suma            | n = 20           | Suma = 119      |

$\bar{x} = \frac{119}{20} = 5,95$

##### Obliczenia rÄ™czne dla Firmy Y

| WartoÅ›Ä‡ ($x_i$) | CzÄ™stoÅ›Ä‡ ($f_i$) | $x_i \cdot f_i$ |
|-----------------|------------------|-----------------|
| 3               | 2                | 6               |
| 4               | 6                | 24              |
| 5               | 6                | 30              |
| 6               | 3                | 18              |
| 7               | 2                | 14              |
| 8               | 1                | 8               |
| Suma            | n = 20           | Suma = 100      |

$\bar{y} = \frac{100}{20} = 5$

##### Weryfikacja w R

```{r}
X <- c(2,2,2,3,3,3,3,3,3,4,4,4,4,4,5,5,5,5,20,35)
Y <- c(3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,7,7,8)

mean(X)
mean(Y)
```

#### Mediana

Mediana to wartoÅ›Ä‡ Å›rodkowa w uporzÄ…dkowanym zbiorze danych.

##### Obliczenia rÄ™czne dla Firmy X

UporzÄ…dkowane dane: \[2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 20, 35\]

n = 20 (parzyste), wiÄ™c bierzemy Å›redniÄ… z 10. i 11. wartoÅ›ci:

Mediana = $\frac{4 + 4}{2} = 4$

##### Obliczenia rÄ™czne dla Firmy Y

UporzÄ…dkowane dane: \[3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 7, 7, 8\]

n = 20 (parzyste), wiÄ™c bierzemy Å›redniÄ… z 10. i 11. wartoÅ›ci:

Mediana = $\frac{5 + 5}{2} = 5$

##### Weryfikacja w R

```{r}
median(X)
median(Y)
```

#### Dominanta (moda)

Dominanta to najczÄ™Å›ciej wystÄ™pujÄ…ca wartoÅ›Ä‡ w zbiorze danych.

Dla Firmy X dominanta wynosi 3 (wystÄ™puje 6 razy). Dla Firmy Y sÄ… dwie dominanty: 4 i 5 (obie wystÄ™pujÄ… 6 razy).

```{r}
# Funkcja do obliczania dominanty
znajdz_dominante <- function(x) {
  unikalne_x <- unique(x)
  unikalne_x[which.max(tabulate(match(x, unikalne_x)))]
}

znajdz_dominante(X)
znajdz_dominante(Y)
```

### Miary rozproszenia

#### Wariancja

Wariancja mierzy Å›rednie kwadratowe odchylenie od Å›redniej.

WzÃ³r: $s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}$

Poprawka Bessela jest stosowana przy obliczaniu wariancji z prÃ³by, aby uzyskaÄ‡ nieobciÄ…Å¼ony estymator wariancji populacji. W standardowym wzorze na wariancjÄ™ z prÃ³by dzielimy przez $(n-1)$ zamiast przez $n$.

**Modyfikacje wzoru dla danych pogrupowanych (szereg czÄ™stoÅ›ci):**

MoÅ¼na teÅ¼ zapisaÄ‡ ten wzÃ³r w postaci:

$$s^2 = \frac{1}{n-1} \sum_{i=1}^{k} f_i(x_i - \bar{x})^2$$

gdzie $f_i$ to czÄ™stoÅ›Ä‡ bezwzglÄ™dna (liczba wystÄ…pieÅ„) $i$-tej wartoÅ›ci.

Gdy w obliczeniach stosujemy czÄ™stoÅ›ci wzglÄ™dne $p = f_i/n$, gdzie:

-   $f_i$ to czÄ™stoÅ›Ä‡ (liczba wystÄ…pieÅ„)
-   $n$ to caÅ‚kowita liczebnoÅ›Ä‡ prÃ³by

WzÃ³r na wariancjÄ™ z uwzglÄ™dnieniem poprawki Bessela przyjmuje postaÄ‡:

$$s^2 = \frac{n}{n-1} \sum_{i=1}^{k} p_i(x_i - \bar{x})^2$$

gdzie:

-   $s^2$ to wariancja z prÃ³by
-   $n$ to liczebnoÅ›Ä‡ prÃ³by
-   $p_i = f_i/n$ to czÄ™stoÅ›Ä‡ wzglÄ™dna $i$-tej wartoÅ›ci
-   $x_i$ to $i$-ta wartoÅ›Ä‡ cechy
-   $\bar{x}$ to Å›rednia arytmetyczna
-   $k$ to liczba rÃ³Å¼nych wartoÅ›ci cechy

Kluczowe jest to, Å¼e przy stosowaniu czÄ™stoÅ›ci wzglÄ™dnych mnoÅ¼ymy caÅ‚e wyraÅ¼enie przez czynnik $\frac{n}{n-1}$, ktÃ³ry wprowadza poprawkÄ™ Bessela.

##### Obliczenia rÄ™czne dla Firmy X

| $x_i$ | $f_i$ | $x_i - \bar{x}$ | $(x_i - \bar{x})^2$ | $f_i(x_i - \bar{x})^2$ |
|-------|-------|-----------------|---------------------|------------------------|
| 2     | 3     | -3,95           | 15,6025             | 46,8075                |
| 3     | 6     | -2,95           | 8,7025              | 52,215                 |
| 4     | 5     | -1,95           | 3,8025              | 19,0125                |
| 5     | 4     | -0,95           | 0,9025              | 3,61                   |
| 20    | 1     | 14,05           | 197,4025            | 197,4025               |
| 35    | 1     | 29,05           | 843,9025            | 843,9025               |
| Suma  | 20    |                 |                     | 1162,95                |

$s^2 = \frac{1162,95}{19} = 61,21$

##### Obliczenia rÄ™czne dla Firmy Y

| $y_i$ | $f_i$ | $y_i - \bar{x}$ | $(y_i - \bar{y})^2$ | $f_i(y_i - \bar{y})^2$ |
|-------|-------|-----------------|---------------------|------------------------|
| 3     | 2     | -2              | 4                   | 8                      |
| 4     | 6     | -1              | 1                   | 6                      |
| 5     | 6     | 0               | 0                   | 0                      |
| 6     | 3     | 1               | 1                   | 3                      |
| 7     | 2     | 2               | 4                   | 8                      |
| 8     | 1     | 3               | 9                   | 9                      |
| Suma  | 20    |                 |                     | 34                     |

$s^2 = \frac{34}{19} = 1,79$

##### Weryfikacja w R

```{r}
var(X)
var(Y)
```

#### Odchylenie standardowe

Odchylenie standardowe to pierwiastek kwadratowy z wariancji.

WzÃ³r: $s = \sqrt{s^2}$

-   Dla Firmy X: $s = \sqrt{61,21} = 7,82$
-   Dla Firmy Y: $s = \sqrt{1,79} = 1,34$

##### Weryfikacja w R

```{r}
sd(X)
sd(Y)
```

### Kwartyle

Kwartyle dzielÄ… zbiÃ³r danych na cztery rÃ³wne czÄ™Å›ci.

#### Obliczenia rÄ™czne dla Firmy X

UporzÄ…dkowane dane: \[2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 20, 35\]

-   Q1 (25. percentyl): mediana pierwszych 10 liczb = 3
-   Q2 (50. percentyl, mediana): 4
-   Q3 (75. percentyl): mediana ostatnich 10 liczb = 5

#### Obliczenia rÄ™czne dla Firmy Y

UporzÄ…dkowane dane: \[3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 7, 7, 8\]

-   Q1 (25. percentyl): mediana pierwszych 10 liczb = 4
-   Q2 (50. percentyl, mediana): 5
-   Q3 (75. percentyl): mediana ostatnich 10 liczb = 6

#### Weryfikacja w R

```{r}
quantile(X)
quantile(Y)
```

#### IQR

-   $IQR_x = 5 - 3 = 2$
-   $IQR_y = 6 - 4 = 2$

### Wykres pudeÅ‚kowy Tukeya

Wykres pudeÅ‚kowy Tukeya wizualnie przedstawia rozkÅ‚ad danych na podstawie kwartyli. UÅ¼yjemy biblioteki ggplot2 do stworzenia wykresu.

```{r}
library(ggplot2)
library(tidyr)

# Przygotowanie danych
dane <- data.frame(
  Firma = rep(c("X", "Y"), each = 20),
  Wynagrodzenie = c(X, Y)
)

# Tworzenie wykresu pudeÅ‚kowego
ggplot(dane, aes(x = Firma, y = Wynagrodzenie, fill = Firma)) +
  geom_boxplot() +
  labs(title = "RozkÅ‚ad wynagrodzeÅ„ w firmach X i Y",
       x = "Firma",
       y = "Wynagrodzenie (tysiÄ…ce euro)") +
  theme_minimal() +
  scale_fill_manual(values = c("X" = "#69b3a2", "Y" = "#404080"))

# Tworzenie wykresu pudeÅ‚kowego
ggplot(dane, aes(x = Firma, y = Wynagrodzenie, fill = Firma)) +
  geom_boxplot(outliers = F) +
  labs(title = "RozkÅ‚ad wynagrodzeÅ„ w firmach X i Y",
       x = "Firma",
       y = "Wynagrodzenie (tysiÄ…ce euro)") +
  theme_minimal() +
  scale_fill_manual(values = c("X" = "#69b3a2", "Y" = "#404080"))
```

#### Interpretacja wykresu pudeÅ‚kowego

1.  PudeÅ‚ko reprezentuje rozstÄ™p miÄ™dzykwartylowy (IQR) od Q1 do Q3.
2.  Linia wewnÄ…trz pudeÅ‚ka to mediana (Q2).
3.  WÄ…sy rozciÄ…gajÄ… siÄ™ do najmniejszych i najwiÄ™kszych wartoÅ›ci w granicach 1,5 \* IQR.
4.  Punkty poza wÄ…sami sÄ… uznawane za wartoÅ›ci odstajÄ…ce.

### PorÃ³wnanie wynikÃ³w

| Miara                | Firma X | Firma Y |
|----------------------|---------|---------|
| Åšrednia              | 5,95    | 5,00    |
| Mediana              | 4       | 5       |
| Dominanta            | 3       | 4 i 5   |
| Wariancja            | 61,21   | 1,79    |
| Odchylenie standard. | 7,82    | 1,34    |
| Q1                   | 3       | 4       |
| Q3                   | 5       | 6       |

#### Kluczowe obserwacje:

1.  Tendencja centralna: Firma X ma wyÅ¼szÄ… Å›redniÄ…, ale niÅ¼szÄ… medianÄ™ niÅ¼ Firma Y, co wskazuje na prawostronnie skoÅ›ny rozkÅ‚ad dla Firmy X.\
2.  Rozproszenie: Firma X wykazuje znacznie wyÅ¼szÄ… wariancjÄ™ i odchylenie standardowe, sugerujÄ…c wiÄ™ksze dysproporcje w wynagrodzeniach.
3.  KsztaÅ‚t rozkÅ‚adu: Wynagrodzenia w Firmie Y sÄ… bardziej skupione, podczas gdy Firma X ma wartoÅ›ci ekstremalne (potencjalne wartoÅ›ci odstajÄ…ce), ktÃ³re znaczÄ…co wpÅ‚ywajÄ… na jej Å›redniÄ… i wariancjÄ™.
4.  Kwartyle: RozstÄ™p miÄ™dzykwartylowy (Q3 - Q1) Firmy Y jest nieznacznie wiÄ™kszy, ale jej ogÃ³lny zakres jest znacznie mniejszy niÅ¼ Firmy X.

## Ä†wiczenie 2. PorÃ³wnanie ZmiennoÅ›ci WielkoÅ›ci OkrÄ™gÃ³w Wyborczych MiÄ™dzy Krajami

```{r setup_2, include=FALSE}
library(tidyverse)
library(knitr)
options(digits = 4)
```

### Dane

Mamy dane o wielkoÅ›ci okrÄ™gÃ³w wyborczych z dwÃ³ch krajÃ³w:

```{r data}
x <- c(1, 3, 5, 7, 9, 11, 13, 15, 17, 19)  # Kraj wysoka zmiennoÅ›Ä‡
y <- c(8, 9, 9, 10, 10, 11, 11, 12, 12, 13)  # Kraj niska zmiennoÅ›Ä‡

kable(data.frame(
  "Kraj X (Wysoka zm.)" = x,
  "Kraj Y (Niska zm.)" = y
))
```

### Miary Tendencji Centralnej

#### Åšrednia Arytmetyczna

WzÃ³r: $\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}$

##### Obliczenia dla Kraju X

| Element | WartoÅ›Ä‡ |
|---------|---------|
| 1       | 1       |
| 2       | 3       |
| 3       | 5       |
| 4       | 7       |
| 5       | 9       |
| 6       | 11      |
| 7       | 13      |
| 8       | 15      |
| 9       | 17      |
| 10      | 19      |
| Suma    | 100     |

$\bar{x} = \frac{100}{10} = 10$

```{r mean-x}
mean_x <- mean(x)
c("RÄ™cznie" = 10, "R" = mean_x)
```

##### Obliczenia dla Kraju Y

| Element | WartoÅ›Ä‡ |
|---------|---------|
| 1       | 8       |
| 2       | 9       |
| 3       | 9       |
| 4       | 10      |
| 5       | 10      |
| 6       | 11      |
| 7       | 11      |
| 8       | 12      |
| 9       | 12      |
| 10      | 13      |
| Suma    | 105     |

$\bar{y} = \frac{105}{10} = 10,5$

```{r mean-y}
mean_y <- mean(y)
c("RÄ™cznie" = 10.5, "R" = mean_y)
```

#### Mediana

Mediana to wartoÅ›Ä‡ Å›rodkowa w uporzÄ…dkowanym zbiorze danych.

##### Obliczenia dla Kraju X

UporzÄ…dkowane dane: 1, 3, 5, 7, 9, 11, 13, 15, 17, 19

Dla n = 10 (parzysta liczba obserwacji): Pozycje Å›rodkowe: 5 i 6 WartoÅ›ci Å›rodkowe: 9 i 11

Mediana = $\frac{9 + 11}{2} = 10$

```{r median-x}
median_x <- median(x)
c("RÄ™cznie" = 10, "R" = median_x)
```

##### Obliczenia dla Kraju Y

UporzÄ…dkowane dane: 8, 9, 9, 10, 10, 11, 11, 12, 12, 13

Dla n = 10 (parzysta liczba obserwacji): Pozycje Å›rodkowe: 5 i 6 WartoÅ›ci Å›rodkowe: 10 i 11

Mediana = $\frac{10 + 11}{2} = 10,5$

```{r median-y}
median_y <- median(y)
c("RÄ™cznie" = 10.5, "R" = median_y)
```

#### Dominanta

##### Obliczenia dla Kraju X

| WartoÅ›Ä‡ | CzÄ™stoÅ›Ä‡ |
|---------|----------|
| 1       | 1        |
| 3       | 1        |
| 5       | 1        |
| 7       | 1        |
| 9       | 1        |
| 11      | 1        |
| 13      | 1        |
| 15      | 1        |
| 17      | 1        |
| 19      | 1        |

Wniosek: Brak dominanty (wszystkie wartoÅ›ci wystÄ™pujÄ… jednokrotnie)

##### Obliczenia dla Kraju Y

| WartoÅ›Ä‡ | CzÄ™stoÅ›Ä‡ |
|---------|----------|
| 8       | 1        |
| 9       | 2        |
| 10      | 2        |
| 11      | 2        |
| 12      | 2        |
| 13      | 1        |

Wniosek: Cztery dominanty: 9, 10, 11, 12 (kaÅ¼da wystÄ™puje dwukrotnie)

```{r mode}
# Tabele czÄ™stoÅ›ci
table_x <- table(x)
table_y <- table(y)

list(
  "Kraj X" = table_x,
  "Kraj Y" = table_y
)
```

#### Wariancja

Wariancja mierzy Å›rednie kwadratowe odchylenie od Å›redniej.

WzÃ³r: $s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}$

##### Obliczenia dla Kraju X

| $x_i$ | $(x_i - \bar{x})$ | $(x_i - \bar{x})^2$ |
|-------|-------------------|---------------------|
| 1     | -9                | 81                  |
| 3     | -7                | 49                  |
| 5     | -5                | 25                  |
| 7     | -3                | 9                   |
| 9     | -1                | 1                   |
| 11    | 1                 | 1                   |
| 13    | 3                 | 9                   |
| 15    | 5                 | 25                  |
| 17    | 7                 | 49                  |
| 19    | 9                 | 81                  |
| Suma  |                   | 330                 |

$s^2_X = \frac{330}{9} = 36,67$

```{r var-x}
var_x <- var(x)
c("RÄ™cznie" = 36.67, "R" = var_x)
```

##### Obliczenia dla Kraju Y

| $x_i$ | $(y_i - \bar{y})$ | $(y_i - \bar{y})^2$ |
|-------|-------------------|---------------------|
| 8     | -2,5              | 6,25                |
| 9     | -1,5              | 2,25                |
| 9     | -1,5              | 2,25                |
| 10    | -0,5              | 0,25                |
| 10    | -0,5              | 0,25                |
| 11    | 0,5               | 0,25                |
| 11    | 0,5               | 0,25                |
| 12    | 1,5               | 2,25                |
| 12    | 1,5               | 2,25                |
| 13    | 2,5               | 6,25                |
| Suma  |                   | 22,5                |

$s^2_Y = \frac{22,5}{9} = 2,5$

```{r var-y}
var_y <- var(y)
c("RÄ™cznie" = 2.5, "R" = var_y)
```

#### Odchylenie Standardowe

Odchylenie standardowe to pierwiastek kwadratowy z wariancji. Jest miarÄ… zmiennoÅ›ci wyraÅ¼onÄ… w tych samych jednostkach co dane.

WzÃ³r: $s = \sqrt{s^2}$

##### Obliczenia dla Kraju X

Wykorzystujemy wczeÅ›niej obliczonÄ… wariancjÄ™: $s^2_X = 36,67$

Obliczamy pierwiastek: $s_X = \sqrt{36,67} \approx 6,06$

| Krok            | Obliczenie     | Wynik |
|-----------------|----------------|-------|
| 1\. Wariancja   | $s^2_X$        | 36,67 |
| 2\. Pierwiastek | $\sqrt{36,67}$ | 6,06  |

```{r sd-x}
sd_x <- sd(x)
c("RÄ™cznie" = 6.06, "R" = sd_x)
```

##### Obliczenia dla Kraju Y

Wykorzystujemy wczeÅ›niej obliczonÄ… wariancjÄ™: $s^2_Y = 2,5$

Obliczamy pierwiastek: $s_Y = \sqrt{2,5} \approx 1,58$

| Krok            | Obliczenie   | Wynik |
|-----------------|--------------|-------|
| 1\. Wariancja   | $s^2_Y$      | 2,5   |
| 2\. Pierwiastek | $\sqrt{2,5}$ | 1,58  |

```{r sd-y}
sd_y <- sd(y)
c("RÄ™cznie" = 1.58, "R" = sd_y)
```

Interpretacja:

-   Kraj X: PrzeciÄ™tne odchylenie wielkoÅ›ci okrÄ™gu od Å›redniej wynosi okoÅ‚o 6 mandatÃ³w
-   Kraj Y: PrzeciÄ™tne odchylenie wielkoÅ›ci okrÄ™gu od Å›redniej wynosi okoÅ‚o 1,6 mandatu

### WspÃ³Å‚czynnik ZmiennoÅ›ci (CV)

WspÃ³Å‚czynnik zmiennoÅ›ci to stosunek odchylenia standardowego do Å›redniej, wyraÅ¼ony w procentach.

WzÃ³r: $CV = \frac{s}{\bar{x}} \times 100\%$

#### Obliczenia dla Kraju X

$CV_X = \frac{6,06}{10} \times 100\% = 60,6\%$

| SkÅ‚adowa                     | WartoÅ›Ä‡ |
|------------------------------|---------|
| Odchylenie standardowe ($s$) | 6,06    |
| Åšrednia ($\bar{x}$)          | 10      |
| CV                           | 60,6%   |

```{r cv-x}
cv_x <- sd(x) / mean(x) * 100
c("RÄ™cznie" = 60.6, "R" = cv_x)
```

#### Obliczenia dla Kraju Y

$CV_Y = \frac{1,58}{10,5} \times 100\% = 15,0\%$

| SkÅ‚adowa                     | WartoÅ›Ä‡ |
|------------------------------|---------|
| Odchylenie standardowe ($s$) | 1,58    |
| Åšrednia ($\bar{x}$)          | 10,5    |
| CV                           | 15,0%   |

```{r cv-y}
cv_y <- sd(y) / mean(y) * 100
c("RÄ™cznie" = 15.0, "R" = cv_y)
```

### Kwartyle i RozstÄ™p MiÄ™dzykwartylowy (IQR)

#### Metody obliczania kwartyli

IstniejÄ… rÃ³Å¼ne metody obliczania kwartyli. W naszych obliczeniach rÄ™cznych zastosujemy metodÄ™ wyÅ‚Ä…czajÄ…cÄ… medianÄ™:

1.  Dzielimy szereg na dwie czÄ™Å›ci wzglÄ™dem mediany
2.  Mediana nie jest uwzglÄ™dniana w obliczeniach kwartyli
3.  Dla kaÅ¼dej czÄ™Å›ci obliczamy jej medianÄ™ - bÄ™dzie to odpowiednio Q1 i Q3

#### Obliczenia dla Kraju X

UporzÄ…dkowane dane: 1, 3, 5, 7, 9, 11, 13, 15, 17, 19

Mediana = 10 (nie uwzglÄ™dniamy w obliczeniach kwartyli)

Dolna poÅ‚owa: 1, 3, 5, 7, 9 Q1 = mediana dolnej poÅ‚owy = 5

GÃ³rna poÅ‚owa: 11, 13, 15, 17, 19 Q3 = mediana gÃ³rnej poÅ‚owy = 15

IQR = Q3 - Q1 = 15 - 5 = 10

#### Obliczenia dla Kraju Y

UporzÄ…dkowane dane: 8, 9, 9, 10, 10, 11, 11, 12, 12, 13

Mediana = 10.5 (nie uwzglÄ™dniamy w obliczeniach kwartyli)

Dolna poÅ‚owa: 8, 9, 9, 10, 10 Q1 = mediana dolnej poÅ‚owy = 9

GÃ³rna poÅ‚owa: 11, 11, 12, 12, 13 Q3 = mediana gÃ³rnej poÅ‚owy = 12

IQR = Q3 - Q1 = 12 - 9 = 3

```{r quartiles-comparison}
# PorÃ³wnanie rÃ³Å¼nych metod obliczania kwartyli w R
methods_comparison <- data.frame(
  Metoda = c("RÄ™cznie (bez mediany)", 
             "R type=1", "R type=2", "R type=7 (domyÅ›lna)"),
  "Q1 Kraj X" = c(5, 
                  quantile(x, 0.25, type=1),
                  quantile(x, 0.25, type=2),
                  quantile(x, 0.25, type=7)),
  "Q3 Kraj X" = c(15,
                  quantile(x, 0.75, type=1),
                  quantile(x, 0.75, type=2),
                  quantile(x, 0.75, type=7)),
  "Q1 Kraj Y" = c(9,
                  quantile(y, 0.25, type=1),
                  quantile(y, 0.25, type=2),
                  quantile(y, 0.25, type=7)),
  "Q3 Kraj Y" = c(12,
                  quantile(y, 0.75, type=1),
                  quantile(y, 0.75, type=2),
                  quantile(y, 0.75, type=7))
)

kable(methods_comparison, digits = 2,
      caption = "PorÃ³wnanie rÃ³Å¼nych metod obliczania kwartyli")
```

#### WyjaÅ›nienie rÃ³Å¼nic w metodach obliczania kwartyli

1.  **Metoda rÄ™czna (bez mediany)**:
    -   Dzieli dane na dwie czÄ™Å›ci
    -   Nie uwzglÄ™dnia mediany
    -   Znajduje medianÄ™ kaÅ¼dej czÄ™Å›ci
2.  **R type=1**:
    -   Metoda pierwsza w R
    -   UÅ¼ywa pozycji caÅ‚kowitych
    -   Nie interpoluje
3.  **R type=2**:
    -   Metoda druga w R
    -   UÅ¼ywa pozycji caÅ‚kowitych
    -   Interpoluje gdy pozycja nie jest caÅ‚kowita
4.  **R type=7 (domyÅ›lna)**:
    -   Metoda domyÅ›lna w R
    -   UÅ¼ywa quantile()\[5\] z SAS
    -   Interpoluje wedÅ‚ug metody opisanej przez Hyndmana i Fana

### PorÃ³wnanie WynikÃ³w

```{r summary-table}
summary_df <- data.frame(
  Miara = c("Åšrednia", "Mediana", "Dominanta", "RozstÄ™p", "Wariancja", 
            "Odch. Stand.", "Q1", "Q3", "IQR", "CV (%)"),
  "Kraj X" = c(10, 10, "brak", 18, 36.67, 6.06, 5, 15, 10, 60.6),
  "Kraj Y" = c(10.5, 10.5, "9,10,11,12", 5, 2.5, 1.58, 9, 12, 3, 15.0)
)

kable(summary_df, 
      caption = "Zestawienie wszystkich miar statystycznych",
      align = c('l', 'r', 'r'))
```

### PorÃ³wnanie za pomocÄ… Wykresu PudeÅ‚kowego

```{r boxplot, fig.width=10, fig.height=6}
df_long <- data.frame(
  kraj = rep(c("X", "Y"), each = 10),
  wielkosc = c(x, y)
)

# Wykres podstawowy
p <- ggplot(df_long, aes(x = kraj, y = wielkosc, fill = kraj)) +
  geom_boxplot(outlier.shape = NA) +  # WyÅ‚Ä…czamy domyÅ›lne punkty odstajÄ…ce
  geom_jitter(width = 0.2, alpha = 0.5) +  # Dodajemy punkty z przezroczystoÅ›ciÄ…
  scale_fill_manual(values = c("X" = "#FFA07A", "Y" = "#98FB98")) +
  labs(
    title = "PorÃ³wnanie ZmiennoÅ›ci WielkoÅ›ci OkrÄ™gÃ³w Wyborczych",
    subtitle = paste("CV: Kraj X =", round(cv_x, 1), "%, Kraj Y =", round(cv_y, 1), "%"),
    x = "Kraj",
    y = "WielkoÅ›Ä‡ OkrÄ™gu"
  ) +
  theme_minimal() +
  theme(legend.position = "none")

# Dodajemy adnotacje z kwartylami
p + annotate(
  "text", 
  x = c(1, 1, 1, 2, 2, 2), 
  y = c(max(x)+1, mean(x), min(x)-1, max(y)+1, mean(y), min(y)-1),
  label = c(
    paste("Q3 =", quantile(x, 0.75, type=1)),
    paste("M =", median(x)),
    paste("Q1 =", quantile(x, 0.25, type=1)),
    paste("Q3 =", quantile(y, 0.75, type=1)),
    paste("M =", median(y)),
    paste("Q1 =", quantile(y, 0.25, type=1))
  ),
  size = 3
)
```

### Uwagi Metodologiczne

1.  **Obliczenia kwartyli**:
    -   Zastosowana metoda wyÅ‚Ä…czajÄ…ca medianÄ™ moÅ¼e dawaÄ‡ inne wyniki niÅ¼ domyÅ›lne funkcje R
    -   RÃ³Å¼nice w metodach obliczeniowych nie wpÅ‚ywajÄ… na ogÃ³lne wnioski
    -   Warto zawsze zaznaczyÄ‡ stosowanÄ… metodÄ™ w raportach
2.  **Wizualizacja**:
    -   Wykres pudeÅ‚kowy skutecznie pokazuje rÃ³Å¼nice w rozkÅ‚adach
    -   Dodatkowe punkty pokazujÄ… rzeczywiste wartoÅ›ci
    -   Adnotacje uÅ‚atwiajÄ… interpretacjÄ™

### Podsumowanie

#### PorÃ³wnanie Miar Statystycznych

| Miara     | Kraj X | Kraj Y                   | RÃ³Å¼nica wzglÄ™dna  |
|-----------|--------|--------------------------|-------------------|
| Åšrednia   | 10,0   | 10,5                     | Podobna           |
| Mediana   | 10,0   | 10,5                     | Podobna           |
| Dominanta | Brak   | Wielokrotna (9,10,11,12) | \-                |
| RozstÄ™p   | 18     | 5                        | 3,6Ã— wiÄ™kszy w X  |
| Wariancja | 36,67  | 2,5                      | 14,7Ã— wiÄ™ksza w X |
| IQR       | 10     | 3                        | 3,3Ã— wiÄ™kszy w X  |
| CV        | 60,6%  | 15,0%                    | 4,0Ã— wiÄ™kszy w X  |

#### Charakterystyka RozkÅ‚adÃ³w

**Kraj X**:

-   RozkÅ‚ad rÃ³wnomierny
-   Brak dominujÄ…cej wielkoÅ›ci okrÄ™gu (brak dominanty)
-   Szeroki zakres: od 1 do 19 mandatÃ³w
-   Wysoka zmiennoÅ›Ä‡ (CV = 60,6%)
-   RÃ³wnomierne rozÅ‚oÅ¼enie wartoÅ›ci w zakresie

**Kraj Y**:

-   RozkÅ‚ad skupiony
-   Wiele typowych wielkoÅ›ci (cztery dominanty)
-   WÄ…ski zakres: od 8 do 13 mandatÃ³w
-   Niska zmiennoÅ›Ä‡ (CV = 15,0%)
-   WartoÅ›ci skoncentrowane wokÃ³Å‚ Å›redniej

#### Interpretacja Wykresu PudeÅ‚kowego

Wizualizacja w formie wykresu pudeÅ‚kowego pokazuje:

**Elementy Struktury**:

-   PudeÅ‚ko: Pokazuje rozstÄ™p miÄ™dzykwartylowy (IQR)
-   Dolna krawÄ™dÅº: Pierwszy kwartyl (Q1)
-   GÃ³rna krawÄ™dÅº: Trzeci kwartyl (Q3)
-   Linia wewnÄ™trzna: Mediana (Q2)
-   WÄ…sy: RozciÄ…gajÄ… siÄ™ do Â±1,5 IQR - Punkty: Pojedyncze wielkoÅ›ci okrÄ™gÃ³w

**GÅ‚Ã³wne Wnioski Wizualne**:

1.  **Rozmiar PudeÅ‚ka**:

-   Kraj X: DuÅ¼e pudeÅ‚ko wskazuje na szeroki rozrzut Å›rodkowych 50%
-   Kraj Y: MaÅ‚e pudeÅ‚ko pokazuje skupienie wartoÅ›ci Å›rodkowych

2.  **DÅ‚ugoÅ›Ä‡ WÄ…sÃ³w**:

    -   Kraj X: DÅ‚ugie wÄ…sy wskazujÄ… na szeroki rozkÅ‚ad caÅ‚kowity
    -   Kraj Y: KrÃ³tkie wÄ…sy pokazujÄ… ograniczony rozrzut

3.  **RozkÅ‚ad PunktÃ³w**:

    -   Kraj X: Punkty szeroko rozproszone
    -   Kraj Y: Punkty gÄ™sto skupione

#### Kluczowe Obserwacje

1.  **Tendencja Centralna**:

    -   Podobne Å›rednie wielkoÅ›ci okrÄ™gÃ³w
    -   RÃ³Å¼ne wzorce rozkÅ‚adu
    -   Odmienne podejÅ›cia do standaryzacji

2.  **Miary ZmiennoÅ›ci**:

    -   Wszystkie miary pokazujÄ… 3-15 razy wiÄ™kszÄ… zmiennoÅ›Ä‡ w Kraju X
    -   SpÃ³jny wzorzec w rÃ³Å¼nych miarach statystycznych
    -   Systematyczna rÃ³Å¼nica w projekcie okrÄ™gÃ³w

3.  **Projekt Systemu**:

    -   Kraj X: Elastyczne, zrÃ³Å¼nicowane podejÅ›cie
    -   Kraj Y: Ustandaryzowane, jednolite podejÅ›cie
    -   RÃ³Å¼ne filozoficzne podejÅ›cia do reprezentacji

4.  **Implikacje ReprezentatywnoÅ›ci**:

    -   Kraj X: Zmienna proporcja wyborcÃ³w do przedstawicieli
    -   Kraj Y: Bardziej spÃ³jne poziomy reprezentacji
    -   RÃ³Å¼ne podejÅ›cia do reprezentacji demokratycznej

Analiza ta pokazuje fundamentalne rÃ³Å¼nice w projektowaniu systemÃ³w wyborczych miÄ™dzy dwoma krajami, gdzie Kraj X przyjmuje bardziej zrÃ³Å¼nicowane podejÅ›cie, a Kraj Y utrzymuje wiÄ™kszÄ… jednolitoÅ›Ä‡ w wielkoÅ›ci okrÄ™gÃ³w wyborczych.

## Cwiczenie 3. Wykresy PudeÅ‚kowe na PrzykÅ‚adzie Danych o DÅ‚ugoÅ›ci Å»ycia

```{r}
#| message: false
library(tidyverse)
library(gapminder)

# Przygotowanie danych
data_2007 <- gapminder %>%
  filter(year == 2007)
```

Wykres pudeÅ‚kowy (ang. box-and-whisker plot) przedstawia piÄ™Ä‡ kluczowych statystyk opisowych danych:

-   **Mediana**: Åšrodkowa linia w pudeÅ‚ku (50. percentyl)
-   **Pierwszy kwartyl (Q1)**: Dolna krawÄ™dÅº pudeÅ‚ka (25. percentyl)
-   **Trzeci kwartyl (Q3)**: GÃ³rna krawÄ™dÅº pudeÅ‚ka (75. percentyl)
-   **RozstÄ™p miÄ™dzykwartylowy (IQR)**: WysokoÅ›Ä‡ pudeÅ‚ka (Q3 - Q1)
-   **WÄ…sy**: RozciÄ…gajÄ… siÄ™ do najbardziej skrajnych wartoÅ›ci niebÄ™dÄ…cych obserwacjami odstajÄ…cymi (metoda Tukeya: 1.5 Ã— IQR)
-   **Obserwacje odstajÄ…ce**: Pojedyncze punkty poza wÄ…sami

### Wizualizacja DÅ‚ugoÅ›ci Å»ycia

```{r}
#| fig.height: 16
#| fig.width: 10
ggplot(data_2007, aes(x = reorder(continent, lifeExp, FUN = median), y = lifeExp)) +
  geom_boxplot(fill = "lightblue", alpha = 0.7, outlier.shape = 24, 
               outlier.fill = "red", outlier.alpha = 0.6, outlier.size = 4) +
  geom_jitter(width = 0.2, alpha = 0.4, color = "darkblue") +
  labs(title = "DÅ‚ugoÅ›Ä‡ Å»ycia wedÅ‚ug KontynentÃ³w (2007)",
       subtitle = "Pojedyncze punkty pokazujÄ… surowe dane; czerwone punkty oznaczajÄ… wartoÅ›ci odstajÄ…ce",
       x = "Kontynent",
       y = "DÅ‚ugoÅ›Ä‡ Å¼ycia (w latach)") +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 16, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  ) +
  scale_y_continuous(breaks = seq(40, 85, by = 5))
```

### Analiza Danych

### Mediana i RozkÅ‚ad

Odpowiedz Prawda lub FaÅ‚sz:

1.  50% krajÃ³w afrykaÅ„skich ma dÅ‚ugoÅ›Ä‡ Å¼ycia poniÅ¼ej 52 lat
2.  Mediana dÅ‚ugoÅ›ci Å¼ycia w Europie wynosi okoÅ‚o 78 lat
3.  Ponad 75% krajÃ³w Oceanii ma dÅ‚ugoÅ›Ä‡ Å¼ycia powyÅ¼ej 75 lat
4.  25% krajÃ³w azjatyckich ma dÅ‚ugoÅ›Ä‡ Å¼ycia poniÅ¼ej 68 lat
5.  Åšrodkowe 50% dÅ‚ugoÅ›ci Å¼ycia w Europie mieÅ›ci siÄ™ miÄ™dzy 76 a 80 lat

### Rozrzut i ZmiennoÅ›Ä‡

Odpowiedz Prawda lub FaÅ‚sz:

1.  Azja wykazuje najwiÄ™kszy rozrzut (IQR) w dÅ‚ugoÅ›ci Å¼ycia
2.  Europa ma najmniejszy IQR wÅ›rÃ³d wszystkich kontynentÃ³w
3.  ZmiennoÅ›Ä‡ dÅ‚ugoÅ›ci Å¼ycia w Afryce jest wiÄ™ksza niÅ¼ w obu Amerykach
4.  Oceania wykazuje najmniejszÄ… zmiennoÅ›Ä‡ w dÅ‚ugoÅ›ci Å¼ycia
5.  WÄ…sy dla Azji rozciÄ…gajÄ… siÄ™ w przybliÅ¼eniu od 58 do 82 lat (z wyÅ‚Ä…czeniem wartoÅ›ci odstajÄ…cych)

### WartoÅ›ci OdstajÄ…ce i Ekstrema

Odpowiedz Prawda lub FaÅ‚sz:

1.  Afryka ma dwa kraje z wyjÄ…tkowo niskÄ… dÅ‚ugoÅ›ciÄ… Å¼ycia
2.  W rozkÅ‚adzie dla Oceanii nie ma wartoÅ›ci odstajÄ…cych
3.  Azja ma kilka niskich wartoÅ›ci odstajÄ…cych (poniÅ¼ej 55 lat)

### Zmiany w Czasie

```{r}
#| fig.height: 8
#| fig.width: 12
time_comparison <- gapminder %>%
  filter(year %in% c(1957, 2007)) %>%
  mutate(year = factor(year))

ggplot(time_comparison, aes(x = continent, y = lifeExp, fill = year)) +
  geom_boxplot(alpha = 0.7, position = "dodge", outlier.shape = 21,
               outlier.alpha = 0.6) +
  labs(title = "DÅ‚ugoÅ›Ä‡ Å»ycia: 1957 vs 2007",
       subtitle = "PorÃ³wnanie zmian rozkÅ‚adu na przestrzeni 50 lat",
       x = "Kontynent",
       y = "DÅ‚ugoÅ›Ä‡ Å¼ycia (w latach)",
       fill = "Rok") +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 16, face = "bold"),
    axis.title = element_text(size = 14),
    axis.text = element_text(size = 14)
  ) +
  scale_fill_brewer(palette = "Set2") +
  scale_y_continuous(breaks = seq(30, 85, by = 5))
```

### Pytania dotyczÄ…ce Zmian w Czasie

Odpowiedz Prawda lub FaÅ‚sz:

1.  Mediana dÅ‚ugoÅ›ci Å¼ycia wzrosÅ‚a na wszystkich kontynentach miÄ™dzy 1957 a 2007 rokiem
2.  ZmiennoÅ›Ä‡ dÅ‚ugoÅ›ci Å¼ycia (IQR) zmniejszyÅ‚a siÄ™ na wiÄ™kszoÅ›ci kontynentÃ³w w czasie
3.  Afryka wykazaÅ‚a najmniejszÄ… poprawÄ™ mediany dÅ‚ugoÅ›ci Å¼ycia
4.  Rozrzut dÅ‚ugoÅ›ci Å¼ycia w Azji znaczÄ…co siÄ™ zmniejszyÅ‚ od 1957 do 2007 roku
5.  Oceania utrzymaÅ‚a najwyÅ¼szÄ… medianÄ™ dÅ‚ugoÅ›ci Å¼ycia w obu okresach

### Podsumowanie Statystyczne

```{r}
# Obliczenie statystyk opisowych
summary_stats <- gapminder %>%
  filter(year %in% c(1957, 2007)) %>%
  group_by(continent, year) %>%
  summarise(
    mediana = median(lifeExp),
    q1 = quantile(lifeExp, 0.25),
    q3 = quantile(lifeExp, 0.75),
    iqr = IQR(lifeExp),
    min = min(lifeExp),
    max = max(lifeExp),
    liczba_odstajÄ…cych = sum(lifeExp < (q1 - 1.5 * iqr) | lifeExp > (q3 + 1.5 * iqr))
  ) %>%
  arrange(continent, year)

knitr::kable(summary_stats, digits = 1,
             caption = "Statystyki Opisowe wedÅ‚ug Kontynentu i Roku")
```

### NajwaÅ¼niejsze Wnioski

1.  **Centrum RozkÅ‚adu**:
    -   Mediana pokazuje typowÄ… dÅ‚ugoÅ›Ä‡ Å¼ycia
    -   Zmiany mediany odzwierciedlajÄ… ogÃ³lnÄ… poprawÄ™
2.  **Rozrzut i ZmiennoÅ›Ä‡**:
    -   IQR (wysokoÅ›Ä‡ pudeÅ‚ka) wskazuje na rozproszenie danych
    -   Szersze pudeÅ‚ka sugerujÄ… wiÄ™ksze nierÃ³wnoÅ›ci w dÅ‚ugoÅ›ci Å¼ycia
3.  **WartoÅ›ci OdstajÄ…ce i Ekstrema**:
    -   WartoÅ›ci odstajÄ…ce czÄ™sto reprezentujÄ… kraje o wyjÄ…tkowej sytuacji
4.  **PorÃ³wnanie w Czasie**:
    -   Pokazuje zarÃ³wno bezwzglÄ™dnÄ… poprawÄ™, jak i zmiany w wariancji
    -   Uwydatnia utrzymujÄ…ce siÄ™ rÃ³Å¼nice regionalne
    -   Ujawnia rÃ³Å¼ne tempo postÄ™pu na poszczegÃ³lnych kontynentach

### Statystyki opisowe (podsumowanie)

```{r}
# Calculate summary statistics
summary_stats <- gapminder %>%
  filter(year %in% c(1957, 2007)) %>%
  group_by(continent, year) %>%
  summarise(
    median = median(lifeExp),
    q1 = quantile(lifeExp, 0.25),
    q3 = quantile(lifeExp, 0.75),
    iqr = IQR(lifeExp),
    min = min(lifeExp),
    max = max(lifeExp),
    n_outliers = sum(lifeExp < (q1 - 1.5 * iqr) | lifeExp > (q3 + 1.5 * iqr))
  ) %>%
  arrange(continent, year)

knitr::kable(summary_stats, digits = 1,
             caption = "Summary Statistics by Continent and Year")
```

## Appendix: Tabele PodsumowujÄ…ce Typy Danych i Odpowiednie Miary Statystyczne

### Zalety i Wady RÃ³Å¼nych Miar Statystycznych

#### Miary Tendencji Centralnej

| Miara | Zalety | Wady | Zastosowanie do |
|------------------|------------------|------------------|-------------------|
| Åšrednia | \- Wykorzystuje wszystkie punkty danych<br>- Pozwala na dalsze obliczenia statystyczne<br>- Idealna dla danych o rozkÅ‚adzie normalnym | \- WraÅ¼liwa na wartoÅ›ci odstajÄ…ce<br>- Nieodpowiednia dla rozkÅ‚adÃ³w skoÅ›nych<br>- Bez znaczenia dla danych nominalnych | InterwaÅ‚owe, Ilorazowe, niektÃ³re Dyskretne, CiÄ…gÅ‚e |
| Mediana | \- NiewraÅ¼liwa na wartoÅ›ci odstajÄ…ce<br>- Dobra dla rozkÅ‚adÃ³w skoÅ›nych<br>- MoÅ¼e byÄ‡ stosowana do danych porzÄ…dkowych | \- Ignoruje rzeczywiste wartoÅ›ci wiÄ™kszoÅ›ci punktÃ³w danych<br>- Mniej uÅ¼yteczna do dalszych analiz statystycznych | PorzÄ…dkowe, InterwaÅ‚owe, Ilorazowe, Dyskretne, CiÄ…gÅ‚e |
| Moda | \- MoÅ¼e byÄ‡ stosowana do kaÅ¼dego typu danych<br>- Dobra do znajdowania najczÄ™stszej kategorii | \- MoÅ¼e nie byÄ‡ unikalna (rozkÅ‚ady multimodalne)<br>- Nieprzydatna do wielu typÃ³w analiz<br>- Ignoruje wielkoÅ›Ä‡ rÃ³Å¼nic miÄ™dzy wartoÅ›ciami | Wszystkie typy |

#### Miary ZmiennoÅ›ci

| Miara | Zalety | Wady | Zastosowanie do |
|------------------|------------------|------------------|-------------------|
| Zakres | \- Prosty do obliczenia i zrozumienia<br>- Daje szybki obraz rozproszenia danych | \- Bardzo wraÅ¼liwy na wartoÅ›ci odstajÄ…ce<br>- Ignoruje wszystkie dane miÄ™dzy ekstremami<br>- Nieprzydatny do dalszych analiz statystycznych | PorzÄ…dkowe, InterwaÅ‚owe, Ilorazowe, Dyskretne, CiÄ…gÅ‚e |
| RozstÄ™p miÄ™dzykwartylowy (IQR) | \- NiewraÅ¼liwy na wartoÅ›ci odstajÄ…ce<br>- Dobry dla rozkÅ‚adÃ³w skoÅ›nych | \- Ignoruje 50% danych<br>- Mniej intuicyjny niÅ¼ zakres | PorzÄ…dkowe, InterwaÅ‚owe, Ilorazowe, Dyskretne, CiÄ…gÅ‚e |
| Wariancja | \- Wykorzystuje wszystkie punkty danych<br>- Podstawa wielu procedur statystycznych | \- WraÅ¼liwa na wartoÅ›ci odstajÄ…ce<br>- Jednostki sÄ… podniesione do kwadratu (mniej intuicyjne) | InterwaÅ‚owe, Ilorazowe, niektÃ³re Dyskretne, CiÄ…gÅ‚e |
| Odchylenie standardowe | \- Wykorzystuje wszystkie punkty danych<br>- Te same jednostki co oryginalne dane<br>- Szeroko stosowane i zrozumiaÅ‚e | \- WraÅ¼liwe na wartoÅ›ci odstajÄ…ce<br>- ZakÅ‚ada w przybliÅ¼eniu rozkÅ‚ad normalny dla interpretacji | InterwaÅ‚owe, Ilorazowe, niektÃ³re Dyskretne, CiÄ…gÅ‚e |
| WspÃ³Å‚czynnik zmiennoÅ›ci | \- Pozwala na porÃ³wnanie miÄ™dzy zbiorami danych o rÃ³Å¼nych jednostkach lub Å›rednich | \- MoÅ¼e byÄ‡ mylÄ…cy, gdy Å›rednie sÄ… bliskie zeru<br>- Bez znaczenia dla danych z wartoÅ›ciami ujemnymi | Ilorazowe, niektÃ³re InterwaÅ‚owe |

#### Miary Korelacji/Asocjacji

| Miara | Zalety | Wady | Zastosowanie do |
|------------------|------------------|------------------|-------------------|
| r Pearsona | \- Mierzy zaleÅ¼noÅ›Ä‡ liniowÄ…<br>- Szeroko stosowany i zrozumiaÅ‚y | \- ZakÅ‚ada rozkÅ‚ad normalny<br>- WraÅ¼liwy na wartoÅ›ci odstajÄ…ce<br>- Uchwytuje tylko zaleÅ¼noÅ›ci liniowe | InterwaÅ‚owe, Ilorazowe, CiÄ…gÅ‚e |
| Rho Spearmana | \- MoÅ¼e byÄ‡ stosowany do danych porzÄ…dkowych<br>- Uchwytuje zaleÅ¼noÅ›ci monotoniczne<br>- Mniej wraÅ¼liwy na wartoÅ›ci odstajÄ…ce | \- Traci informacje przez konwersjÄ™ na rangi<br>- MoÅ¼e pominÄ…Ä‡ niektÃ³re typy zaleÅ¼noÅ›ci | PorzÄ…dkowe, InterwaÅ‚owe, Ilorazowe |
| Tau Kendalla | \- MoÅ¼e byÄ‡ stosowany do danych porzÄ…dkowych<br>- Bardziej odporny niÅ¼ Spearman dla maÅ‚ych prÃ³bek<br>- Ma Å‚adnÄ… interpretacjÄ™ (prawdopodobieÅ„stwo zgodnoÅ›ci) | \- Traci informacje, biorÄ…c pod uwagÄ™ tylko porzÄ…dek<br>- Bardziej intensywny obliczeniowo | PorzÄ…dkowe, InterwaÅ‚owe, Ilorazowe |
| Chi-kwadrat | \- MoÅ¼e byÄ‡ stosowany do danych nominalnych<br>- Testuje niezaleÅ¼noÅ›Ä‡ zmiennych kategorycznych | \- Wymaga duÅ¼ych rozmiarÃ³w prÃ³bek<br>- WraÅ¼liwy na rozmiar prÃ³bki<br>- Nie mierzy siÅ‚y asocjacji | Nominalne, PorzÄ…dkowe |
| V CramÃ©ra | \- MoÅ¼e byÄ‡ stosowany do danych nominalnych<br>- Dostarcza miarÄ™ siÅ‚y asocjacji<br>- Znormalizowany do zakresu \[0,1\] | \- Interpretacja moÅ¼e byÄ‡ subiektywna<br>- MoÅ¼e przeszacowaÄ‡ asocjacjÄ™ w maÅ‚ych prÃ³bkach | Nominalne, PorzÄ…dkowe |

::: callout-note
### Statistical Measures Applicability / Zastosowanie miar statystycznych

| Measure (EN) | Miara (PL) | Nominal | Ordinal | Interval | Ratio |
|------------|------------|:----------:|:----------:|:----------:|:----------:|
| **Central Tendency / Tendencja centralna:** |  |  |  |  |  |
| Mode | Dominanta | âœ“ | âœ“ | âœ“ | âœ“ |
| Median | Mediana | \- | âœ“ | âœ“ | âœ“ |
| Arithmetic Mean | Åšrednia arytmetyczna | \- | \- | âœ“\* | âœ“ |
| Geometric Mean | Åšrednia geometryczna | \- | \- | \- | âœ“ |
| Harmonic Mean | Åšrednia harmoniczna | \- | \- | \- | âœ“ |
| **Dispersion / Rozproszenie:** |  |  |  |  |  |
| Range | RozstÄ™p | \- | âœ“ | âœ“ | âœ“ |
| Interquartile Range | RozstÄ™p miÄ™dzykwartylowy | \- | âœ“ | âœ“ | âœ“ |
| Mean Absolute Deviation | Åšrednie odchylenie bezwzglÄ™dne | \- | \- | âœ“ | âœ“ |
| Variance | Wariancja | \- | \- | âœ“\* | âœ“ |
| Standard Deviation | Odchylenie standardowe | \- | \- | âœ“\* | âœ“ |
| Coefficient of Variation | WspÃ³Å‚czynnik zmiennoÅ›ci | \- | \- | \- | âœ“ |
| **Association / WspÃ³Å‚zaleÅ¼noÅ›Ä‡:** |  |  |  |  |  |
| Chi-square | Chi-kwadrat | âœ“ | âœ“ | âœ“ | âœ“ |
| Spearman Correlation | Korelacja Spearmana | \- | âœ“ | âœ“ | âœ“ |
| Kendall's Tau | Tau Kendalla | \- | âœ“ | âœ“ | âœ“ |
| Pearson Correlation | Korelacja Pearsona | \- | \- | âœ“\* | âœ“ |
| Covariance | Kowariancja | \- | \- | âœ“\* | âœ“ |

\* Theoretically problematic but commonly used in practice / Teoretycznie problematyczne, ale powszechnie stosowane w praktyce

### Notes / Uwagi:

1.  Measurement Scales / Skale pomiarowe:

-   **Nominal**: Categories without order / Kategorie bez uporzÄ…dkowania
-   **Ordinal**: Ordered categories / Kategorie uporzÄ…dkowane
-   **Interval**: Equal intervals, arbitrary zero / RÃ³wne interwaÅ‚y, umowne zero
-   **Ratio**: Equal intervals, absolute zero / RÃ³wne interwaÅ‚y, absolutne zero

2.  Practical Considerations / Aspekty praktyczne:

-   Some measures marked with âœ“\* are commonly used for interval data despite theoretical issues / NiektÃ³re miary oznaczone âœ“\* sÄ… powszechnie stosowane dla danych przedziaÅ‚owych pomimo problemÃ³w teoretycznych
-   Choice of measure should consider both theoretical appropriateness and practical utility / WybÃ³r miary powinien uwzglÄ™dniaÄ‡ zarÃ³wno poprawnoÅ›Ä‡ teoretycznÄ… jak i uÅ¼ytecznoÅ›Ä‡ praktycznÄ…
-   More restrictive scales (ratio) allow all measures from less restrictive scales / Bardziej restrykcyjne skale (ilorazowe) pozwalajÄ… na wszystkie miary z mniej restrykcyjnych skal
:::
