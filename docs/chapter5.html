<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; Fundamentals of Univariate Descriptive Statistics – Statistics: An Introduction (PL: Wprowadzenie do Statystyki)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./rozdzial5.html" rel="next">
<link href="./rozdzial2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ffd282cb318059e0bcb130885a47f5dc.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./chapter5.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamentals of Univariate Descriptive Statistics</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistics: An Introduction (PL: Wprowadzenie do Statystyki)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Foundations of Statistics and Demography</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rozdzial1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Podstawy Statystyki i Demografii</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Understanding Data Types in Social Sciences</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rozdzial2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Typy Danych w Naukach Społecznych</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamentals of Univariate Descriptive Statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rozdzial5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Podstawy Jednowymiarowej Statystyki Opisowej</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data Visualization: with examples in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rozdzial6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Wizualizacja Danych: z przykładami w R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correg_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction to Correlation and Regression Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correg_pl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Wprowadzenie do Analizy Korelacji i Regresji</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Probability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability_pl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Wprowadzenie do Prawdopodobieństwa</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inference_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Introduction to Statistical Inference: The Logic of Statistical Hypothesis Testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inference_pl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Wprowadzenie do Wnioskowania Statystycznego: Logika Testowania Hipotez Statystycznych</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-sigma-notation-σ" id="toc-introduction-to-sigma-notation-σ" class="nav-link active" data-scroll-target="#introduction-to-sigma-notation-σ"><span class="header-section-number">5.1</span> Introduction to Sigma Notation (Σ)</a>
  <ul class="collapse">
  <li><a href="#basic-formula" id="toc-basic-formula" class="nav-link" data-scroll-target="#basic-formula">Basic Formula</a></li>
  <li><a href="#examples-of-sigma-notation-applications" id="toc-examples-of-sigma-notation-applications" class="nav-link" data-scroll-target="#examples-of-sigma-notation-applications">Examples of Sigma Notation Applications</a></li>
  <li><a href="#simple-examples-in-statistical-context" id="toc-simple-examples-in-statistical-context" class="nav-link" data-scroll-target="#simple-examples-in-statistical-context">Simple Examples in Statistical Context</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul></li>
  <li><a href="#types-of-data-distributions" id="toc-types-of-data-distributions" class="nav-link" data-scroll-target="#types-of-data-distributions"><span class="header-section-number">5.2</span> Types of Data Distributions</a>
  <ul class="collapse">
  <li><a href="#normal-distribution" id="toc-normal-distribution" class="nav-link" data-scroll-target="#normal-distribution">Normal Distribution</a></li>
  <li><a href="#uniform-distribution" id="toc-uniform-distribution" class="nav-link" data-scroll-target="#uniform-distribution">Uniform Distribution</a></li>
  <li><a href="#skewed-distributions" id="toc-skewed-distributions" class="nav-link" data-scroll-target="#skewed-distributions">Skewed Distributions</a></li>
  <li><a href="#bimodal-distribution" id="toc-bimodal-distribution" class="nav-link" data-scroll-target="#bimodal-distribution">Bimodal Distribution</a></li>
  </ul></li>
  <li><a href="#visualizing-real-world-data-distributions" id="toc-visualizing-real-world-data-distributions" class="nav-link" data-scroll-target="#visualizing-real-world-data-distributions"><span class="header-section-number">5.3</span> Visualizing Real-World Data Distributions</a>
  <ul class="collapse">
  <li><a href="#histogram-and-density-plot" id="toc-histogram-and-density-plot" class="nav-link" data-scroll-target="#histogram-and-density-plot">Histogram and Density Plot</a></li>
  <li><a href="#box-plot" id="toc-box-plot" class="nav-link" data-scroll-target="#box-plot">Box Plot</a></li>
  <li><a href="#violin-plot" id="toc-violin-plot" class="nav-link" data-scroll-target="#violin-plot">Violin Plot</a></li>
  <li><a href="#ridgeline-plot" id="toc-ridgeline-plot" class="nav-link" data-scroll-target="#ridgeline-plot">Ridgeline Plot</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  <li><a href="#understanding-outliers" id="toc-understanding-outliers" class="nav-link" data-scroll-target="#understanding-outliers"><span class="header-section-number">5.4</span> Understanding Outliers</a></li>
  <li><a href="#statistical-symbols-and-notations---summary" id="toc-statistical-symbols-and-notations---summary" class="nav-link" data-scroll-target="#statistical-symbols-and-notations---summary"><span class="header-section-number">5.5</span> Statistical Symbols and Notations - Summary</a></li>
  <li><a href="#measures-of-central-tendency" id="toc-measures-of-central-tendency" class="nav-link" data-scroll-target="#measures-of-central-tendency"><span class="header-section-number">5.6</span> Measures of Central Tendency</a>
  <ul class="collapse">
  <li><a href="#arithmetic-mean" id="toc-arithmetic-mean" class="nav-link" data-scroll-target="#arithmetic-mean">Arithmetic Mean</a></li>
  <li><a href="#median" id="toc-median" class="nav-link" data-scroll-target="#median">Median</a></li>
  <li><a href="#mode" id="toc-mode" class="nav-link" data-scroll-target="#mode">Mode</a></li>
  <li><a href="#weighted-arithmetic-mean" id="toc-weighted-arithmetic-mean" class="nav-link" data-scroll-target="#weighted-arithmetic-mean">Weighted (arithmetic) Mean (*)</a></li>
  </ul></li>
  <li><a href="#measures-of-variability" id="toc-measures-of-variability" class="nav-link" data-scroll-target="#measures-of-variability"><span class="header-section-number">5.7</span> Measures of Variability</a>
  <ul class="collapse">
  <li><a href="#range" id="toc-range" class="nav-link" data-scroll-target="#range">Range</a></li>
  <li><a href="#interquartile-range-iqr" id="toc-interquartile-range-iqr" class="nav-link" data-scroll-target="#interquartile-range-iqr">Interquartile Range (IQR)</a></li>
  <li><a href="#variance" id="toc-variance" class="nav-link" data-scroll-target="#variance">Variance</a></li>
  <li><a href="#standard-deviation" id="toc-standard-deviation" class="nav-link" data-scroll-target="#standard-deviation">Standard Deviation</a></li>
  <li><a href="#coefficient-of-variation" id="toc-coefficient-of-variation" class="nav-link" data-scroll-target="#coefficient-of-variation">Coefficient of Variation (*)</a></li>
  </ul></li>
  <li><a href="#measures-of-relative-position-standing" id="toc-measures-of-relative-position-standing" class="nav-link" data-scroll-target="#measures-of-relative-position-standing"><span class="header-section-number">5.8</span> Measures of Relative Position (Standing)</a>
  <ul class="collapse">
  <li><a href="#quartiles-q-the-basics" id="toc-quartiles-q-the-basics" class="nav-link" data-scroll-target="#quartiles-q-the-basics">Quartiles (Q): The Basics</a></li>
  <li><a href="#percentiles-a-more-precise-measure-of-relative-standing" id="toc-percentiles-a-more-precise-measure-of-relative-standing" class="nav-link" data-scroll-target="#percentiles-a-more-precise-measure-of-relative-standing">Percentiles: A More Precise Measure of Relative Standing (*)</a></li>
  <li><a href="#percentile-ranks-pr" id="toc-percentile-ranks-pr" class="nav-link" data-scroll-target="#percentile-ranks-pr">Percentile Ranks (PR) (*)</a></li>
  <li><a href="#sec-boxplots" id="toc-sec-boxplots" class="nav-link" data-scroll-target="#sec-boxplots">Understanding and Interpreting Box Plots</a></li>
  </ul></li>
  <li><a href="#shape-measures" id="toc-shape-measures" class="nav-link" data-scroll-target="#shape-measures"><span class="header-section-number">5.9</span> Shape Measures (*)</a>
  <ul class="collapse">
  <li><a href="#skewness" id="toc-skewness" class="nav-link" data-scroll-target="#skewness">Skewness</a></li>
  <li><a href="#kurtosis" id="toc-kurtosis" class="nav-link" data-scroll-target="#kurtosis">Kurtosis</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways</a></li>
  </ul></li>
  <li><a href="#exercise-1.-center-and-dispersion-of-data" id="toc-exercise-1.-center-and-dispersion-of-data" class="nav-link" data-scroll-target="#exercise-1.-center-and-dispersion-of-data"><span class="header-section-number">5.10</span> Exercise 1. Center and dispersion of data</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#measures-of-central-tendency-1" id="toc-measures-of-central-tendency-1" class="nav-link" data-scroll-target="#measures-of-central-tendency-1">Measures of Central Tendency</a></li>
  <li><a href="#measures-of-dispersion" id="toc-measures-of-dispersion" class="nav-link" data-scroll-target="#measures-of-dispersion">Measures of Dispersion</a></li>
  <li><a href="#quartiles" id="toc-quartiles" class="nav-link" data-scroll-target="#quartiles">Quartiles</a></li>
  <li><a href="#tukey-box-plot" id="toc-tukey-box-plot" class="nav-link" data-scroll-target="#tukey-box-plot">Tukey Box Plot</a></li>
  <li><a href="#comparison-of-results" id="toc-comparison-of-results" class="nav-link" data-scroll-target="#comparison-of-results">Comparison of Results</a></li>
  </ul></li>
  <li><a href="#exercise-2.-comparing-electoral-district-size-variation-between-countries" id="toc-exercise-2.-comparing-electoral-district-size-variation-between-countries" class="nav-link" data-scroll-target="#exercise-2.-comparing-electoral-district-size-variation-between-countries"><span class="header-section-number">5.11</span> Exercise 2. Comparing Electoral District Size Variation Between Countries</a>
  <ul class="collapse">
  <li><a href="#data-1" id="toc-data-1" class="nav-link" data-scroll-target="#data-1">Data</a></li>
  <li><a href="#measures-of-central-tendency-2" id="toc-measures-of-central-tendency-2" class="nav-link" data-scroll-target="#measures-of-central-tendency-2">Measures of Central Tendency</a></li>
  <li><a href="#coefficient-of-variation-cv" id="toc-coefficient-of-variation-cv" class="nav-link" data-scroll-target="#coefficient-of-variation-cv">Coefficient of Variation (CV)</a></li>
  <li><a href="#quartiles-and-interquartile-range-iqr" id="toc-quartiles-and-interquartile-range-iqr" class="nav-link" data-scroll-target="#quartiles-and-interquartile-range-iqr">Quartiles and Interquartile Range (IQR)</a></li>
  <li><a href="#results-comparison" id="toc-results-comparison" class="nav-link" data-scroll-target="#results-comparison">Results Comparison</a></li>
  <li><a href="#comparison-using-box-plot" id="toc-comparison-using-box-plot" class="nav-link" data-scroll-target="#comparison-using-box-plot">Comparison using Box Plot</a></li>
  <li><a href="#methodological-notes" id="toc-methodological-notes" class="nav-link" data-scroll-target="#methodological-notes">Methodological Notes</a></li>
  <li><a href="#application-notes" id="toc-application-notes" class="nav-link" data-scroll-target="#application-notes">Application Notes</a></li>
  <li><a href="#conclusion-1" id="toc-conclusion-1" class="nav-link" data-scroll-target="#conclusion-1">Conclusion</a></li>
  </ul></li>
  <li><a href="#exercise-3.-understanding-boxplots-through-life-expectancy-data" id="toc-exercise-3.-understanding-boxplots-through-life-expectancy-data" class="nav-link" data-scroll-target="#exercise-3.-understanding-boxplots-through-life-expectancy-data"><span class="header-section-number">5.12</span> Exercise 3. Understanding Boxplots Through Life Expectancy Data</a></li>
  <li><a href="#introduction-to-boxplots" id="toc-introduction-to-boxplots" class="nav-link" data-scroll-target="#introduction-to-boxplots"><span class="header-section-number">5.13</span> Introduction to Boxplots</a>
  <ul class="collapse">
  <li><a href="#visualizing-life-expectancy" id="toc-visualizing-life-expectancy" class="nav-link" data-scroll-target="#visualizing-life-expectancy">Visualizing Life Expectancy</a></li>
  </ul></li>
  <li><a href="#understanding-the-data" id="toc-understanding-the-data" class="nav-link" data-scroll-target="#understanding-the-data"><span class="header-section-number">5.14</span> Understanding the Data</a>
  <ul class="collapse">
  <li><a href="#median-and-distribution" id="toc-median-and-distribution" class="nav-link" data-scroll-target="#median-and-distribution">Median and Distribution</a></li>
  <li><a href="#spread-and-variation" id="toc-spread-and-variation" class="nav-link" data-scroll-target="#spread-and-variation">Spread and Variation</a></li>
  <li><a href="#outliers-and-extremes" id="toc-outliers-and-extremes" class="nav-link" data-scroll-target="#outliers-and-extremes">Outliers and Extremes</a></li>
  </ul></li>
  <li><a href="#changes-over-time" id="toc-changes-over-time" class="nav-link" data-scroll-target="#changes-over-time"><span class="header-section-number">5.15</span> Changes Over Time</a>
  <ul class="collapse">
  <li><a href="#time-comparison-questions" id="toc-time-comparison-questions" class="nav-link" data-scroll-target="#time-comparison-questions">Time Comparison Questions</a></li>
  <li><a href="#statistical-summary" id="toc-statistical-summary" class="nav-link" data-scroll-target="#statistical-summary">Statistical Summary</a></li>
  </ul></li>
  <li><a href="#key-learning-points" id="toc-key-learning-points" class="nav-link" data-scroll-target="#key-learning-points"><span class="header-section-number">5.16</span> Key Learning Points</a></li>
  <li><a href="#appendix-summary-tables-for-data-types-and-applicable-statistical-measures" id="toc-appendix-summary-tables-for-data-types-and-applicable-statistical-measures" class="nav-link" data-scroll-target="#appendix-summary-tables-for-data-types-and-applicable-statistical-measures"><span class="header-section-number">5.17</span> Appendix: Summary Tables for Data Types and Applicable Statistical Measures</a>
  <ul class="collapse">
  <li><a href="#table-1-pros-and-cons-of-various-statistical-measures" id="toc-table-1-pros-and-cons-of-various-statistical-measures" class="nav-link" data-scroll-target="#table-1-pros-and-cons-of-various-statistical-measures">Table 1: Pros and Cons of Various Statistical Measures</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamentals of Univariate Descriptive Statistics</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Descriptive statistics are fundamental tools in social science research, providing a concise summary of data characteristics. They serve several crucial functions:</p>
<ul>
<li>Summarizing large datasets into manageable information</li>
<li>Identifying patterns and trends in data</li>
<li>Detecting potential anomalies or outliers</li>
<li>Providing a foundation for further statistical analysis</li>
</ul>
<section id="introduction-to-sigma-notation-σ" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="introduction-to-sigma-notation-σ"><span class="header-section-number">5.1</span> Introduction to Sigma Notation (Σ)</h2>
<ul>
<li><strong>What is Sigma summation notation?</strong> Sigma (Σ) is a mathematical operator that instructs us to sum (add) a sequence of terms - it functions as a directive to perform addition of all elements within a specified range.</li>
<li><strong>Purpose:</strong> Provides a concise way to write sums of many similar terms using a single symbol, avoiding lengthy addition expressions.</li>
</ul>
<section id="basic-formula" class="level3">
<h3 class="anchored" data-anchor-id="basic-formula">Basic Formula</h3>
<ul>
<li>The general form of sigma notation is: <span class="math display">\sum_{i=a}^{b} f(i)</span></li>
<li><strong>Summation index:</strong> <span class="math inline">i</span></li>
<li><strong>Lower bound:</strong> <span class="math inline">a</span></li>
<li><strong>Upper bound:</strong> <span class="math inline">b</span></li>
<li><strong>Function:</strong> <span class="math inline">f(i)</span></li>
</ul>
</section>
<section id="examples-of-sigma-notation-applications" class="level3">
<h3 class="anchored" data-anchor-id="examples-of-sigma-notation-applications">Examples of Sigma Notation Applications</h3>
<section id="simple-example-sum-of-natural-numbers" class="level4">
<h4 class="anchored" data-anchor-id="simple-example-sum-of-natural-numbers">Simple Example: Sum of Natural Numbers</h4>
<ul>
<li>Suppose you want to add the first five positive integers: <span class="math inline">\sum_{i=1}^{5} i = 1 + 2 + 3 + 4 + 5 = 15</span></li>
<li>The above notation adds the first five positive integers.</li>
</ul>
</section>
<section id="sum-of-squares" class="level4">
<h4 class="anchored" data-anchor-id="sum-of-squares">Sum of Squares</h4>
<ul>
<li>Suppose you want to sum the squares of the first four positive integers: <span class="math inline">\sum_{i=1}^{4} i^2 = 1^2 + 2^2 + 3^2 + 4^2 = 1 + 4 + 9 + 16 = 30</span></li>
<li>This is the sum of squares of the first four positive integers.</li>
</ul>
</section>
<section id="sum-of-a-constant-value" class="level4">
<h4 class="anchored" data-anchor-id="sum-of-a-constant-value">Sum of a Constant Value</h4>
<ul>
<li>Summing a constant value <span class="math inline">c</span> for <span class="math inline">n</span> terms: <span class="math inline">\sum_{i=1}^{n} c = c + c + c + ... + c \text{ (n times)} = n \cdot c</span></li>
<li><strong>Example</strong>: Sum of five fives: <span class="math inline">\sum_{i=1}^{5} 5 = 5 + 5 + 5 + 5 + 5 = 5 \cdot 5 = 25</span></li>
</ul>
</section>
</section>
<section id="simple-examples-in-statistical-context" class="level3">
<h3 class="anchored" data-anchor-id="simple-examples-in-statistical-context">Simple Examples in Statistical Context</h3>
<p><span class="math display">\sum_{i=1}^{n} x_i</span> - <strong>Summation index:</strong> <span class="math inline">i</span> (typically denotes a specific observation in a dataset) - <strong>Lower bound:</strong> 1 (we usually start from the first observation) - <strong>Upper bound:</strong> <span class="math inline">n</span> (total number of observations in our dataset) - <strong>Expression:</strong> <span class="math inline">x_i</span> (value of the <span class="math inline">i</span>th observation)</p>
<section id="summing-observation-values" class="level4">
<h4 class="anchored" data-anchor-id="summing-observation-values">Summing Observation Values</h4>
<ul>
<li>We have a dataset: 5, 8, 12, 15, 20</li>
<li>Sum of all values: <span class="math display">\sum_{i=1}^{5} x_i = x_1 + x_2 + x_3 + x_4 + x_5 = 5 + 8 + 12 + 15 + 20 = 60</span></li>
<li>This sum is a key element when calculating the arithmetic mean.</li>
</ul>
</section>
<section id="sum-of-deviations-from-the-mean" class="level4">
<h4 class="anchored" data-anchor-id="sum-of-deviations-from-the-mean">Sum of Deviations from the Mean</h4>
<ul>
<li>For the same dataset (5, 8, 12, 15, 20), the mean is <span class="math inline">\bar{x} = 60/5 = 12</span></li>
<li>Sum of deviations from the mean: <span class="math display">\sum_{i=1}^{5} (x_i - \bar{x}) = (5-12) + (8-12) + (12-12) + (15-12) + (20-12)</span> <span class="math display">= -7 + (-4) + 0 + 3 + 8 = 0</span></li>
<li><strong>Important observation:</strong> The sum of deviations from the mean always equals 0, which is a fundamental property of the arithmetic mean.</li>
</ul>
</section>
</section>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary">Summary</h3>
<ul>
<li>Sigma Notation (Σ) allows for concise expression of key statistical formulas</li>
<li>The most important applications include calculating:
<ul>
<li>Arithmetic mean</li>
<li>Variance and standard deviation</li>
<li>Various sums of squares used in regression analysis</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Summation (Σ) and Product (Π) Operators
</div>
</div>
<div class="callout-body-container callout-body">
<section id="sigma-σ-operator" class="level4">
<h4 class="anchored" data-anchor-id="sigma-σ-operator">Sigma (Σ) Operator</h4>
<p><span class="math inline">\sum</span> is a <strong>summation operator</strong> that instructs us to add terms:</p>
<p><span class="math inline">\sum_{i=1}^{n} x_i = x_1 + x_2 + ... + x_n</span></p>
<p>where: - <span class="math inline">i</span> is the index variable - The lower value under Σ (here <span class="math inline">i=1</span>) is the starting point - The upper value (here <span class="math inline">n</span>) is the ending point</p>
</section>
<section id="pi-π-operator" class="level4">
<h4 class="anchored" data-anchor-id="pi-π-operator">Pi (Π) Operator</h4>
<p><span class="math inline">\prod</span> is a <strong>product operator</strong> that instructs us to multiply terms:</p>
<p><span class="math inline">\prod_{i=1}^{n} x_i = x_1 \times x_2 \times ... \times x_n</span></p>
<p>where: - <span class="math inline">i</span> is the index variable - The lower value under Π (here <span class="math inline">i=1</span>) is the starting point - The upper value (here <span class="math inline">n</span>) is the ending point</p>
</section>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example of Σ
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math inline">\sum_{i=1}^{4} i = 1 + 2 + 3 + 4 = 10</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example of Π
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math inline">\prod_{i=1}^{4} i = 1 \times 2 \times 3 \times 4 = 24</span></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Differences
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Σ represents repeated addition</li>
<li>Π represents repeated multiplication</li>
</ul>
</div>
</div>
</section>
</section>
<section id="types-of-data-distributions" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="types-of-data-distributions"><span class="header-section-number">5.2</span> Types of Data Distributions</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Data distribution informs what values a variable takes and how often</strong>.</p>
</div>
</div>
<p>Understanding data distributions is crucial for data analysis and visualization. In this document, we’ll explore various types of distributions and how to visualize them using ggplot2 in R.</p>
<section id="normal-distribution" class="level3">
<h3 class="anchored" data-anchor-id="normal-distribution">Normal Distribution</h3>
<p>The normal distribution, also known as the Gaussian distribution, is symmetric and bell-shaped.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate normal distribution data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>normal_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(normal_data, <span class="fu">aes</span>(x)) <span class="sc">+</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Normal Distribution"</span>, <span class="at">x =</span> <span class="st">"Value"</span>, <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(density)` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="uniform-distribution" class="level3">
<h3 class="anchored" data-anchor-id="uniform-distribution">Uniform Distribution</h3>
<p>In a uniform distribution, all values have an equal probability of occurrence.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate uniform distribution data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>uniform_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(<span class="dv">1000</span>))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(uniform_data, <span class="fu">aes</span>(x)) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Uniform Distribution"</span>, <span class="at">x =</span> <span class="st">"Value"</span>, <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="skewed-distributions" class="level3">
<h3 class="anchored" data-anchor-id="skewed-distributions">Skewed Distributions</h3>
<p>Skewed distributions are asymmetric, with one tail longer than the other.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate right-skewed data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>right_skewed <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rlnorm</span>(<span class="dv">1000</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(right_skewed, <span class="fu">aes</span>(x)) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"lightyellow"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Right-Skewed Distribution"</span>, <span class="at">x =</span> <span class="st">"Value"</span>, <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="bimodal-distribution" class="level3">
<h3 class="anchored" data-anchor-id="bimodal-distribution">Bimodal Distribution</h3>
<p>A bimodal distribution has two peaks, indicating two distinct subgroups in the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate bimodal data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>bimodal_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="at">mean =</span> <span class="sc">-</span><span class="dv">2</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="at">mean =</span> <span class="dv">2</span>)))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bimodal_data, <span class="fu">aes</span>(x)) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"lightpink"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Bimodal Distribution"</span>, <span class="at">x =</span> <span class="st">"Value"</span>, <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Distribution</th>
<th>Key Properties</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Symmetric (Normal)</td>
<td>Symmetric, bell-shaped, most values close to the mean</td>
<td>Adult height in population, IQ test scores, measurement errors, standardized exam results</td>
</tr>
<tr class="even">
<td>Uniform</td>
<td>Equal probability across the entire range</td>
<td>Last digit of phone numbers, random day of the week selection, position of pointer after spinning a wheel of fortune</td>
</tr>
<tr class="odd">
<td>Bimodal</td>
<td>Two distinct peaks, suggests presence of subgroups</td>
<td>Age structure in university towns (students and permanent residents), opinions on strongly polarizing topics, traffic intensity hours (morning and afternoon peak)</td>
</tr>
<tr class="even">
<td>Right-skewed (Positively skewed)</td>
<td>Extended “tail” on the right side, most values less than the mean</td>
<td>Queue waiting time, commute time to work, age at first marriage</td>
</tr>
<tr class="odd">
<td>Heavy-tailed skewed (Log-normal)</td>
<td>Strong right asymmetry, values cannot be negative, long “fat tail”</td>
<td>Personal income, housing prices, household size</td>
</tr>
<tr class="even">
<td>Extreme-tailed skewed (Power law)</td>
<td>Extreme asymmetry, “rich get richer” effect, no characteristic scale</td>
<td>Wealth of the richest individuals, city populations, number of followers on social media, number of citations of scientific publications</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="visualizing-real-world-data-distributions" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="visualizing-real-world-data-distributions"><span class="header-section-number">5.3</span> Visualizing Real-World Data Distributions</h2>
<p>Let’s use the <code>palmerpenguins</code> dataset to explore data distributions.</p>
<section id="histogram-and-density-plot" class="level3">
<h3 class="anchored" data-anchor-id="histogram-and-density-plot">Histogram and Density Plot</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding Histograms and Density
</div>
</div>
<div class="callout-body-container callout-body">
<p>⭐ A histogram is a special graph for numerical data where:</p>
<ul>
<li>Data is grouped into ranges (called “bins”)</li>
<li>Bars touch each other (unlike bar charts!) because the data is continuous</li>
<li>Each bar’s height shows how many values fall into that range</li>
</ul>
<p>Think of density as showing how <em>common</em> or <em>concentrated</em> certain values are in your data:</p>
<ul>
<li>A higher point on a density curve (or taller bar in a histogram) means those values appear more frequently in your data</li>
<li>A lower point means those values are less common</li>
</ul>
<p>Just like a crowded area has more people per space (higher density), a taller part of the graph shows values that appear more often in your dataset!</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Penguin Flipper Lengths"</span>, </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Flipper Length (mm)"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="box-plot" class="level3">
<h3 class="anchored" data-anchor-id="box-plot">Box Plot</h3>
<p>Box plots are useful for comparing distributions across categories.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> body_mass_g, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Penguin Body Mass by Species"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Species"</span>, </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Body Mass (g)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="violin-plot" class="level3">
<h3 class="anchored" data-anchor-id="violin-plot">Violin Plot</h3>
<p>Violin plots combine box plot and density plot features.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> body_mass_g, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">trim =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">fill =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Penguin Body Mass by Species"</span>, </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Species"</span>, </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Body Mass (g)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite outside the scale range
(`stat_ydensity()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ridgeline-plot" class="level3">
<h3 class="anchored" data-anchor-id="ridgeline-plot">Ridgeline Plot</h3>
<p>Ridgeline plots are useful for comparing multiple distributions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Flipper Length by Penguin Species"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Flipper Length (mm)"</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Species"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 2.38</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite outside the scale range
(`stat_density_ridges()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>Understanding and visualizing data distributions is crucial in data analysis. ggplot2 provides a flexible and powerful toolkit for creating various types of distribution plots. By exploring different visualization techniques, we can gain insights into the underlying patterns and characteristics of our data.</p>
</section>
</section>
<section id="understanding-outliers" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="understanding-outliers"><span class="header-section-number">5.4</span> Understanding Outliers</h2>
<p>Before diving into specific measures, it’s crucial to understand the concept of outliers, as they can significantly impact many descriptive statistics.</p>
<p>Outliers are data points that differ significantly from other observations in the dataset. They can occur due to:</p>
<ul>
<li>Measurement or recording errors</li>
<li>Genuine extreme values in the population</li>
</ul>
<p>Outliers can have a substantial effect on many statistical measures, especially those based on means or sums of squared deviations. Therefore, it’s essential to:</p>
<ol type="1">
<li>Identify outliers through both statistical methods and domain knowledge</li>
<li>Investigate the cause of outliers</li>
<li>Make informed decisions about whether to include or exclude them in analyses</li>
</ol>
<p>Throughout this guide, we’ll discuss how different descriptive measures are affected by outliers.</p>
</section>
<section id="statistical-symbols-and-notations---summary" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="statistical-symbols-and-notations---summary"><span class="header-section-number">5.5</span> Statistical Symbols and Notations - Summary</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Measure</th>
<th>Population Parameter</th>
<th>Sample Statistic</th>
<th>Alternative Notations</th>
<th>Usage Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Size</td>
<td><span class="math inline">N</span></td>
<td><span class="math inline">n</span></td>
<td>-</td>
<td>Total count of observations</td>
</tr>
<tr class="even">
<td>Mean</td>
<td><span class="math inline">\mu</span></td>
<td><span class="math inline">\bar{x}</span>, <span class="math inline">m</span></td>
<td><span class="math inline">M</span>, <span class="math inline">E(X)</span></td>
<td><span class="math inline">E(X)</span> used in probability theory</td>
</tr>
<tr class="odd">
<td>Variance</td>
<td><span class="math inline">\sigma^2</span></td>
<td><span class="math inline">s^2</span></td>
<td><span class="math inline">\text{Var}(X)</span>, <span class="math inline">V(X)</span></td>
<td>Squared deviations from mean</td>
</tr>
<tr class="even">
<td>Standard Deviation</td>
<td><span class="math inline">\sigma</span></td>
<td><span class="math inline">s</span></td>
<td><span class="math inline">\text{SD}</span>, <span class="math inline">\text{std}</span></td>
<td>Square root of variance</td>
</tr>
<tr class="odd">
<td>Proportion</td>
<td><span class="math inline">\pi</span>, <span class="math inline">P</span></td>
<td><span class="math inline">\hat{p}</span></td>
<td><span class="math inline">\text{prop}</span></td>
<td>Relative frequencies</td>
</tr>
<tr class="even">
<td>Correlation</td>
<td><span class="math inline">\rho</span></td>
<td><span class="math inline">r</span></td>
<td><span class="math inline">\text{corr}(x,y)</span></td>
<td>Ranges from -1 to +1</td>
</tr>
<tr class="odd">
<td>Standard Error</td>
<td><span class="math inline">\sigma_{\bar{x}}</span></td>
<td><span class="math inline">s_{\bar{x}}</span></td>
<td><span class="math inline">\text{SE}</span></td>
<td>Standard error of mean</td>
</tr>
<tr class="even">
<td>Sum</td>
<td><span class="math inline">\sum</span></td>
<td><span class="math inline">\sum</span></td>
<td><span class="math inline">\sum_{i=1}^n</span></td>
<td>With indexing</td>
</tr>
<tr class="odd">
<td>Individual Value</td>
<td><span class="math inline">X_i</span></td>
<td><span class="math inline">x_i</span></td>
<td>-</td>
<td><span class="math inline">i</span>th observation</td>
</tr>
<tr class="even">
<td>Covariance</td>
<td><span class="math inline">\sigma_{xy}</span></td>
<td><span class="math inline">s_{xy}</span></td>
<td><span class="math inline">\text{Cov}(X,Y)</span></td>
<td>Joint variation</td>
</tr>
<tr class="odd">
<td>Median</td>
<td><span class="math inline">\eta</span></td>
<td><span class="math inline">\text{Med}</span></td>
<td><span class="math inline">M</span></td>
<td>Central value</td>
</tr>
<tr class="even">
<td>Range</td>
<td><span class="math inline">R</span></td>
<td><span class="math inline">r</span></td>
<td><span class="math inline">\text{max}(X) - \text{min}(X)</span></td>
<td>Spread measure</td>
</tr>
<tr class="odd">
<td>Mode</td>
<td><span class="math inline">\text{Mo}</span></td>
<td><span class="math inline">\text{mo}</span></td>
<td><span class="math inline">\text{mod}</span></td>
<td>Most frequent value</td>
</tr>
<tr class="even">
<td>Skewness</td>
<td><span class="math inline">\gamma_1</span></td>
<td><span class="math inline">g_1</span></td>
<td><span class="math inline">\text{SK}</span></td>
<td>Distribution asymmetry</td>
</tr>
<tr class="odd">
<td>Kurtosis</td>
<td><span class="math inline">\gamma_2</span></td>
<td><span class="math inline">g_2</span></td>
<td><span class="math inline">\text{KU}</span></td>
<td>Distribution peakedness</td>
</tr>
</tbody>
</table>
<p>Additional useful notations:</p>
<ul>
<li>Sample moments: <span class="math inline">m_k = \frac{1}{n}\sum_{i=1}^n (x_i - \bar{x})^k</span></li>
<li>Population moments: <span class="math inline">\mu_k = E[(X - \mu)^k]</span></li>
</ul>
</section>
<section id="measures-of-central-tendency" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="measures-of-central-tendency"><span class="header-section-number">5.6</span> Measures of Central Tendency</h2>
<p>Measures of central tendency aim to identify the “typical” or “central” value in a dataset. The three primary measures are mean, median, and mode.</p>
<section id="arithmetic-mean" class="level3">
<h3 class="anchored" data-anchor-id="arithmetic-mean">Arithmetic Mean</h3>
<p>The arithmetic mean is the sum of all values divided by the number of values.</p>
<p><strong>Formula:</strong> <span class="math inline">\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i</span></p>
<p><strong>Important Property:</strong> The mean is a balancing point in the data. The sum of deviations from the mean is always zero:</p>
<p><span class="math inline">\sum_{i=1}^n (x_i - \bar{x}) = 0</span></p>
<p>This property makes the mean useful in many statistical calculations.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding Mean as a Balance Point 🎯
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s consider a dataset <span class="math inline">X = \{1, 2, 6, 7, 9\}</span> on a number line, imagining it as a seesaw:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="stat_imgs/IMG_4336.jpg" class="img-fluid figure-img"></p>
<figcaption>https://www.gastonsanchez.com/matrix4sl/mean-as-a-balancing-point.html</figcaption>
</figure>
</div>
<p>The mean (<span class="math inline">\mu</span>) acts as the perfect <strong>balance point</strong> of this seesaw. For our data:</p>
<p><span class="math inline">\mu = \frac{1 + 2 + 6 + 7 + 9}{5} = 5</span></p>
<section id="what-happens-at-different-support-points" class="level3">
<h3 class="anchored" data-anchor-id="what-happens-at-different-support-points">What happens at different support points? 🤔</h3>
<ol type="1">
<li><strong>Support point at 6</strong> (too high):
<ul>
<li>Left side: Values (1, 2) are below</li>
<li>Right side: Values (7, 9) are above</li>
<li><span class="math inline">\sum</span> distances from left = (6-1) + (6-2) = 9</li>
<li><span class="math inline">\sum</span> distances from right = (7-6) + (9-6) = 4</li>
<li>The seesaw tilts left! ⬅️ because 9 &gt; 4</li>
</ul></li>
<li><strong>Support point at 4</strong> (too low):
<ul>
<li>Left side: Values (1, 2) are below</li>
<li>Right side: Values (6, 7, 9) are above</li>
<li><span class="math inline">\sum</span> distances from left = (4-1) + (4-2) = 5</li>
<li><span class="math inline">\sum</span> distances from right = (6-4) + (7-4) + (9-4) = 10</li>
<li>The seesaw tilts right! ➡️ because 5 &lt; 10</li>
</ul></li>
<li><strong>Support point at mean (5)</strong> (perfect balance):
<ul>
<li><span class="math inline">\sum</span> distances below = <span class="math inline">\sum</span> distances above</li>
<li><span class="math inline">((5-1) + (5-2)) = ((6-5) + (7-5) + (9-5))</span></li>
<li><span class="math inline">7 = 7</span> ✨ Perfect balance!</li>
</ul></li>
</ol>
<p>This shows why the mean is the unique balance point, where:</p>
<p><span class="math inline">\sum_{i=1}^n (x_i - \mu) = 0</span></p>
<p>The seesaw will always tilt unless the support point is placed exactly at the mean! 🎪</p>
</section>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Mean as a Balance Point
</div>
</div>
<div class="callout-body-container callout-body">
<p>This visualization shows how the arithmetic mean (5) acts as a balance point between clustered points on the left and dispersed points on the right:</p>
<p>Left side of the mean: - Points with values 2 and 3 - Close together (difference of 1 unit) - Distances from mean: 3 and 2 units - Sum of “pull” = 5 units</p>
<p>Right side of the mean: - Points with values 6 and 9 - More spread out (difference of 3 units) - Distances from mean: 1 and 4 units - Sum of “pull” = 5 units</p>
<p>Key observations:</p>
<ol type="1">
<li>The mean (5) is a balance point, even though:
<ul>
<li>Points on the left are clustered (2,3)</li>
<li>Points on the right are dispersed (6,9)</li>
<li>Green arrows show distances from the mean</li>
</ul></li>
<li>Balance is maintained because:
<ul>
<li>Sum of distances balances out: (5-2) + (5-3) = (6-5) + (9-5)</li>
<li>Total sum of distances = 5 units on each side</li>
</ul></li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>Manual Calculation Example:</strong></p>
<p>Let’s calculate the mean for the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Sum all values</td>
<td>2 + 4 + 4 + 5 + 5 + 7 + 9 = 36</td>
</tr>
<tr class="even">
<td>2</td>
<td>Count the number of values</td>
<td>n = 7</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Divide the sum by n</td>
<td>36 / 7 = 5.14</td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.142857</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Easy to calculate and understand</li>
<li>Uses all data points</li>
<li>Useful for further statistical calculations</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Sensitive to outliers</li>
<li>Not ideal for skewed distributions</li>
</ul>
<p><strong>Example with outlier:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>data_with_outlier <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">100</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data_with_outlier)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18.14286</code></pre>
</div>
</div>
<p>As we can see, the outlier (100) drastically affects the mean.</p>
</section>
<section id="median" class="level3">
<h3 class="anchored" data-anchor-id="median">Median</h3>
<p>The median is the “middle value” that divides ordered data into two equal-sized halves.</p>
<p>More precisely:</p>
<ul>
<li>If n is odd: The median is the middle observation (the one at position (n+1)/2)</li>
<li>If n is even: The median is the average of the two middle observations (at positions n/2 and n/2 + 1)</li>
</ul>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the same dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Order the data</td>
<td>2, 4, 4, 5, 5, 7, 9</td>
</tr>
<tr class="even">
<td>2</td>
<td>Find the middle value</td>
<td>5</td>
</tr>
</tbody>
</table>
<p>For even number of values, take the average of the two middle values.</p>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(data_with_outlier)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Not affected by extreme outliers</li>
<li>Better for skewed distributions</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Doesn’t use all data points</li>
<li>Less useful for further statistical calculations</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>To find the position of the median in a dataset:</p>
<ol type="1">
<li><p>First sort the data in ascending order</p></li>
<li><p>If n is odd:</p>
<ul>
<li>Median position = <span class="math inline">\frac{n + 1}{2}</span></li>
</ul></li>
<li><p>If n is even:</p>
<ul>
<li>First median position = <span class="math inline">\frac{n}{2}</span></li>
<li>Second median position = <span class="math inline">\frac{n}{2} + 1</span></li>
<li>Median = <span class="math inline">\frac{\text{value at }\frac{n}{2} + \text{value at }(\frac{n}{2}+1)}{2}</span></li>
</ul></li>
</ol>
<p>For example:</p>
<ul>
<li>Odd n=7: position = <span class="math inline">\frac{7+1}{2} = 4</span>th value</li>
<li>Even n=8: positions = <span class="math inline">\frac{8}{2} = 4</span>th and <span class="math inline">4+1 = 5</span>th value</li>
</ul>
</div>
</div>
</section>
<section id="mode" class="level3">
<h3 class="anchored" data-anchor-id="mode">Mode</h3>
<p>The mode is the most frequently occurring value.</p>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Value</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>2</td>
</tr>
<tr class="odd">
<td>5</td>
<td>2</td>
</tr>
<tr class="even">
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td>9</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>The mode is 4 and 5 (bimodal).</p>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modeest)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mfv</span>(data)  <span class="co"># Most frequent value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 5</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Only measure of central tendency for nominal data</li>
<li>Can identify multiple peaks in the data</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Not always uniquely defined</li>
<li>Not useful for continuous data</li>
</ul>
</section>
<section id="weighted-arithmetic-mean" class="level3">
<h3 class="anchored" data-anchor-id="weighted-arithmetic-mean">Weighted (arithmetic) Mean (*)</h3>
<p>The weighted mean is used when some data points are more important than others. There are two types of weighted means: with not normalized weights and with normalized weights.</p>
<section id="weighted-mean-with-not-normalized-weights" class="level4">
<h4 class="anchored" data-anchor-id="weighted-mean-with-not-normalized-weights">Weighted Mean with Not Normalized Weights</h4>
<p>This is the standard form of the weighted mean, where weights can be any positive numbers representing the importance of each data point.</p>
<p><strong>Formula:</strong> <span class="math inline">\bar{x}_w = \frac{\sum_{i=1}^n w_i x_i}{\sum_{i=1}^n w_i}</span></p>
<p><strong>Manual Calculation Example:</strong></p>
<p>Let’s calculate the weighted mean for the dataset: 2, 4, 5, 7 with weights 1, 2, 3, 1</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Multiply each value by its weight</td>
<td>(2 * 1) + (4 * 2) + (5 * 3) + (7 * 1) = 2 + 8 + 15 + 7 = 32</td>
</tr>
<tr class="even">
<td>2</td>
<td>Sum the weights</td>
<td>1 + 2 + 3 + 1 = 7</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Divide the result from step 1 by the result from step 2</td>
<td>32 / 7 = 4.57</td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">weighted.mean</span>(x, w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.571429</code></pre>
</div>
</div>
</section>
<section id="weighted-mean-with-normalized-weights-fractions" class="level4">
<h4 class="anchored" data-anchor-id="weighted-mean-with-normalized-weights-fractions">Weighted Mean with Normalized Weights (Fractions)</h4>
<p>In this case, the weights are fractions that sum to 1, representing the proportion of importance for each data point.</p>
<p><strong>Formula:</strong> <span class="math inline">\bar{x}_w = \sum_{i=1}^n w_i x_i</span>, where <span class="math inline">\sum_{i=1}^n w_i = 1</span></p>
<p><strong>Manual Calculation Example:</strong></p>
<p>Let’s calculate the weighted mean for the dataset: 2, 4, 5, 7 with normalized weights 0.1, 0.3, 0.4, 0.2</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Multiply each value by its weight</td>
<td>(2 * 0.1) + (4 * 0.3) + (5 * 0.4) + (7 * 0.2)</td>
</tr>
<tr class="even">
<td>2</td>
<td>Sum the results</td>
<td>0.2 + 1.2 + 2.0 + 1.4 = 4.8</td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>w_normalized <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>)  <span class="co"># Note: these sum to 1</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x <span class="sc">*</span> w_normalized)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.8</code></pre>
</div>
</div>
<p><strong>Pros of Weighted Means:</strong></p>
<ul>
<li>Account for varying importance of data points</li>
<li>Useful in survey analysis with different sample sizes or importance levels</li>
<li>Can adjust for unequal probabilities in sampling designs</li>
</ul>
<p><strong>Cons of Weighted Means:</strong></p>
<ul>
<li>Require justification for weights</li>
<li>Can be misused to manipulate results</li>
<li>May be less intuitive to interpret than simple arithmetic mean</li>
</ul>
</section>
</section>
</section>
<section id="measures-of-variability" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="measures-of-variability"><span class="header-section-number">5.7</span> Measures of Variability</h2>
<p>These measures describe how spread out the data is. They are crucial for understanding the dispersion of data points around the central tendency.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding Variance
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell">
<div class="cell-output-display">
<div id="fig-variance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-variance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="chapter5_files/figure-html/fig-variance-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-variance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.1: Three dot plots showing increasing variance with constant mean
</figcaption>
</figure>
</div>
</div>
</div>
<p>The three dot plots above demonstrate how variance measures the spread of data around a central value:</p>
<ul>
<li>All distributions have the same mean (μ = 10), shown by the dashed line</li>
<li><strong>Low Variance</strong> (σ² = 1): Points cluster tightly around the mean</li>
<li><strong>Medium Variance</strong> (σ² = 4): Points show moderate spread</li>
<li><strong>High Variance</strong> (σ² = 9): Points spread widely around the mean</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Understanding Different Levels of Variability
</div>
</div>
<div class="callout-body-container callout-body">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>This visualization shows three normal distributions with the same mean (μ = 10) but different levels of variability:</p>
<ol type="1">
<li><strong>Low Variability (σ = 0.5)</strong>
<ul>
<li>Data points cluster tightly around the mean</li>
<li>The density curve is tall and narrow</li>
<li>Most observations fall within ±0.5 units of the mean</li>
</ul></li>
<li><strong>Medium Variability (σ = 2.0)</strong>
<ul>
<li>Data points spread out more from the mean</li>
<li>The density curve is lower and wider</li>
<li>Most observations fall within ±2 units of the mean</li>
</ul></li>
<li><strong>High Variability (σ = 4.0)</strong>
<ul>
<li>Data points spread widely from the mean</li>
<li>The density curve is much flatter and wider</li>
<li>Most observations fall within ±4 units of the mean</li>
</ul></li>
</ol>
</div>
</div>
<section id="range" class="level3">
<h3 class="anchored" data-anchor-id="range">Range</h3>
<p>The range is the difference between the maximum and minimum values.</p>
<p><strong>Formula:</strong> <span class="math inline">R = x_{max} - x_{min}</span></p>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Find the maximum value</td>
<td>9</td>
</tr>
<tr class="even">
<td>2</td>
<td>Find the minimum value</td>
<td>2</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Subtract minimum from maximum</td>
<td>9 - 2 = 7</td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(data) <span class="sc">-</span> <span class="fu">min</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Simple to calculate and understand</li>
<li>Gives an immediate sense of data spread</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Extremely sensitive to outliers</li>
<li>Doesn’t provide information about the distribution between extremes</li>
</ul>
</section>
<section id="interquartile-range-iqr" class="level3">
<h3 class="anchored" data-anchor-id="interquartile-range-iqr">Interquartile Range (IQR)</h3>
<p>The IQR is the difference between the 75th and 25th percentiles.</p>
<p><strong>Formula:</strong> <span class="math inline">IQR = Q_3 - Q_1</span></p>
<p>To find quartiles manually:</p>
<ol type="1">
<li>For odd number of values:
<ul>
<li>Q2 (median) is the middle value</li>
<li>Q1 is the median of the lower half (excluding the median of all observations)</li>
<li>Q3 is the median of the upper half (excluding the median of all observations)</li>
</ul></li>
<li>For even number of values:
<ul>
<li>Q2 is the average of the two middle values</li>
<li>Q1 is the median of the lower half (excluding the median of all observations)</li>
<li>Q3 is the median of the upper half (excluding the median of all observations)</li>
</ul></li>
</ol>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Order the data</td>
<td>2, 4, 4, 5, 5, 7, 9</td>
</tr>
<tr class="even">
<td>2</td>
<td>Find Q2 (median)</td>
<td>5</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Find Q1 (median of lower half)</td>
<td>4</td>
</tr>
<tr class="even">
<td>4</td>
<td>Find Q3 (median of upper half)</td>
<td>7</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Calculate IQR</td>
<td>Q3 - Q1 = 7 - 4 = 3</td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 4 5 5 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(data, <span class="at">type =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
   2    4    5    7    9 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(data, <span class="at">type =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Robust to outliers</li>
<li>Provides information about the spread of the middle 50% of the data</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Ignores the tails of the distribution</li>
<li>Less efficient than standard deviation for normal distributions</li>
</ul>
</section>
<section id="variance" class="level3">
<h3 class="anchored" data-anchor-id="variance">Variance</h3>
<p>Variance measures the average squared deviation from the mean.</p>
<p><strong>Formula:</strong> <span class="math inline">s^2 = \frac{\sum_{i=1}^n (x_i - \bar{x})^2}{n - 1}</span></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Variance: Understanding Average Squared Deviations
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>What is Variance?</strong> Variance measures how “spread out” numbers are from their mean - it’s the average of squared deviations from the mean.</p>
<p>Formula: <span class="math inline">s^2 = \frac{\sum(x_i - \bar{x})^2}{n-1}</span></p>
<p><strong>Simple Example:</strong> Consider numbers: 2, 4, 6, 8, 10 Mean (<span class="math inline">\bar{x}</span>) = 6</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><strong>Calculating Deviations:</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Value</th>
<th>Deviation from mean</th>
<th>Square of deviation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>-4</td>
<td>16</td>
</tr>
<tr class="even">
<td>4</td>
<td>-2</td>
<td>4</td>
</tr>
<tr class="odd">
<td>6</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>8</td>
<td>+2</td>
<td>4</td>
</tr>
<tr class="odd">
<td>10</td>
<td>+4</td>
<td>16</td>
</tr>
</tbody>
</table>
<p>Variance = <span class="math inline">\frac{16 + 4 + 0 + 4 + 16}{4} = 10</span></p>
<p><strong>Key Points:</strong></p>
<ol type="1">
<li>Mean acts as a reference line (blue dashed line)</li>
<li>Deviations show distance from mean (red dotted lines)</li>
<li>Squaring makes all deviations positive (blue bars)</li>
<li>Larger deviations contribute more to variance</li>
</ol>
</div>
</div>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Calculate the mean</td>
<td><span class="math inline">\bar{x} = 5.14</span></td>
</tr>
<tr class="even">
<td>2</td>
<td>Subtract the mean from each value and square the result</td>
<td><span class="math inline">(2 - 5.14)^2 = 9.86</span></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td><span class="math inline">(4 - 5.14)^2 = 1.30</span></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td><span class="math inline">(4 - 5.14)^2 = 1.30</span></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td><span class="math inline">(5 - 5.14)^2 = 0.02</span></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td><span class="math inline">(5 - 5.14)^2 = 0.02</span></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td><span class="math inline">(7 - 5.14)^2 = 3.46</span></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td><span class="math inline">(9 - 5.14)^2 = 14.90</span></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Sum the squared differences</td>
<td>30.86</td>
</tr>
<tr class="even">
<td>4</td>
<td>Divide by (n-1), i.e.&nbsp;by the number of observations - 1</td>
<td>30.86 / 6 = 5.14</td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.142857</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Uses all data points</li>
<li>Foundation for many statistical tests</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Units are squared, making interpretation less intuitive</li>
<li>Sensitive to outliers</li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bessel’s Correction: Why We Divide by (n-1) And Not by n
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>The Key Insight:</strong></p>
<p>When we calculate deviations from the mean, they must sum to zero. This is a mathematical fact: <span class="math inline">\sum(x_i - \bar{x}) = 0</span></p>
<p><strong>Think of it Like This:</strong></p>
<p>If you have 5 numbers and their mean:</p>
<ul>
<li>Once you calculate 4 deviations from the mean</li>
<li>The 5th deviation MUST be whatever makes the sum zero</li>
<li>You don’t really have 5 independent deviations</li>
<li>You only have 4 truly “free” deviations</li>
</ul>
<p><strong>Simple Example:</strong></p>
<p>Numbers: 2, 4, 6, 8, 10</p>
<ul>
<li>Mean = 6</li>
<li>Deviations: -4, -2, 0, +2, +4</li>
<li>Notice they sum to zero</li>
<li>If you know any 4 deviations, the 5th is predetermined!</li>
</ul>
<p><strong>This is Why:</strong></p>
<ul>
<li>When calculating variance: <span class="math inline">s^2 = \frac{\sum(x_i - \bar{x})^2}{n-1}</span></li>
<li>We divide by (n-1) not n</li>
<li>Because only (n-1) deviations are truly independent</li>
<li>The last one is determined by the others</li>
</ul>
<p><strong>Degrees of Freedom:</strong></p>
<ul>
<li>n = number of observations</li>
<li>1 = constraint (deviations must sum to zero)</li>
<li>n-1 = degrees of freedom = number of truly independent deviations</li>
</ul>
<p><strong>When to Use It:</strong></p>
<ul>
<li>When calculating sample variance</li>
<li>When calculating sample standard deviation</li>
</ul>
<p><strong>When NOT to Use It:</strong></p>
<ul>
<li>Population calculations (when you have all data)</li>
</ul>
<p><strong>Remember:</strong></p>
<ul>
<li>It’s not just a statistical trick</li>
<li>Deviations from the mean must sum to zero</li>
<li>This constraint costs us one degree of freedom</li>
</ul>
</div>
</div>
</section>
<section id="standard-deviation" class="level3">
<h3 class="anchored" data-anchor-id="standard-deviation">Standard Deviation</h3>
<p>The standard deviation is the square root of the variance and measures the average dispersion of the data about their arithmetic mean. In contrast to the variance, it has the advantage of being expressed in the same units as the original measurements, making its interpretation more intuitive.</p>
<p><strong>Formula:</strong> <span class="math inline">s = \sqrt{\frac{\sum_{i=1}^n (x_i - \bar{x})^2}{n - 1}}</span></p>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 33%">
<col style="width: 58%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Calculate the variance</td>
<td><span class="math inline">s^2 = 5.14</span> (from previous calculation)</td>
</tr>
<tr class="even">
<td>2</td>
<td>Take the square root</td>
<td><span class="math inline">s = \sqrt{5.14} = 2.27</span></td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.267787</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>In same units as original data</li>
<li>Widely used and understood</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Still sensitive to outliers</li>
<li>Assumes data is roughly “normally” distributed</li>
</ul>
</section>
<section id="coefficient-of-variation" class="level3">
<h3 class="anchored" data-anchor-id="coefficient-of-variation">Coefficient of Variation (*)</h3>
<p>The coefficient of variation is the standard deviation divided by the mean, often expressed as a percentage.</p>
<p><strong>Formula:</strong> <span class="math inline">CV = \frac{s}{\bar{x}} \times 100\%</span></p>
<p><strong>Manual Calculation Example:</strong></p>
<p>Using the dataset: 2, 4, 4, 5, 5, 7, 9</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Description</th>
<th>Calculation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Calculate the mean</td>
<td><span class="math inline">\bar{x} = 5.14</span></td>
</tr>
<tr class="even">
<td>2</td>
<td>Calculate the standard deviation</td>
<td><span class="math inline">s = 2.27</span></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Divide s by the mean and multiply by 100</td>
<td><span class="math inline">(2.27 / 5.14) * 100 = 44.16\%</span></td>
</tr>
</tbody>
</table>
<p><strong>R calculation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">sd</span>(data) <span class="sc">/</span> <span class="fu">mean</span>(data)) <span class="sc">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 44.09586</code></pre>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Allows comparison of variability between datasets with different units or means</li>
<li>Useful in fields like finance for risk assessment</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Not meaningful for data with both positive and negative values</li>
<li>Can be misleading when mean is close to zero</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Limitations of Coefficient of Variation (CV)
</div>
</div>
<div class="callout-body-container callout-body">
<p>The coefficient of variation, calculated as <span class="math inline">(σ/μ) × 100\%</span>, has two important limitations:</p>
<section id="not-meaningful-for-data-with-both-positive-and-negative-values" class="level4">
<h4 class="anchored" data-anchor-id="not-meaningful-for-data-with-both-positive-and-negative-values">Not meaningful for data with both positive and negative values</h4>
<ul>
<li>The mean could be close to zero due to positive and negative values cancelling out</li>
<li>Example: Dataset {-5, -3, 2, 6} has mean = 0
<ul>
<li>CV = (std dev / 0) × 100%</li>
<li>This leads to division by zero</li>
<li>Even if mean isn’t exactly zero, the CV doesn’t represent true relative variability when data cross zero</li>
</ul></li>
<li>The CV assumes a natural zero point and meaningful ratios between values</li>
</ul>
</section>
<section id="misleading-when-mean-is-close-to-zero" class="level4">
<h4 class="anchored" data-anchor-id="misleading-when-mean-is-close-to-zero">Misleading when mean is close to zero</h4>
<ul>
<li>Since CV = <span class="math inline">(σ/μ) × 100\%</span>, as <span class="math inline">μ</span> approaches zero:
<ul>
<li>The denominator becomes very small</li>
<li>Results in extremely large CV values</li>
<li>These large values don’t meaningfully represent relative variability</li>
</ul></li>
<li>Example:
<ul>
<li>Dataset A: {0.001, 0.002, 0.003} has mean = 0.002</li>
<li>Even small standard deviations will produce very large CVs</li>
<li>The resulting large CV might suggest extreme variability when the data are actually quite close together</li>
</ul></li>
</ul>
</section>
<section id="best-use-cases" class="level4">
<h4 class="anchored" data-anchor-id="best-use-cases">Best Use Cases</h4>
<p>CV is most useful for:</p>
<ul>
<li>Strictly positive data</li>
<li>Data measured on a ratio scale</li>
<li>Data with means well above zero</li>
<li>Comparing variability between datasets with different units or scales</li>
</ul>
</section>
</div>
</div>
</section>
</section>
<section id="measures-of-relative-position-standing" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="measures-of-relative-position-standing"><span class="header-section-number">5.8</span> Measures of Relative Position (Standing)</h2>
<p>Understanding where values sit within a dataset is crucial for data analysis. Let’s explore these concepts step by step.</p>
<section id="quartiles-q-the-basics" class="level3">
<h3 class="anchored" data-anchor-id="quartiles-q-the-basics">Quartiles (Q): The Basics</h3>
<p>Think of quartiles as special numbers that split your ordered data into four equal parts.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="stat_imgs/IMG_4327.jpg" class="img-fluid figure-img"></p>
<figcaption>Doane, D. P., &amp; Seward, L. W. (2016). Applied statistics in business and economics. Mcgraw-Hill.</figcaption>
</figure>
</div>
<section id="what-are-quartiles" class="level4">
<h4 class="anchored" data-anchor-id="what-are-quartiles">What Are Quartiles?</h4>
<p>First Quartile (Q1):</p>
<ul>
<li>Separates the lowest 25% of data from the rest</li>
<li>Also called the 25th percentile</li>
<li>Example: If Q1 = 50 in a test score dataset, 25% of students scored below 50</li>
</ul>
<p>Second Quartile (Q2):</p>
<ul>
<li>The median - splits data in half</li>
<li>Also called the 50th percentile</li>
<li>Example: If Q2 = 70, half the students scored below 70</li>
</ul>
<p>Third Quartile (Q3):</p>
<ul>
<li>Separates the highest 25% of data from the rest</li>
<li>Also called the 75th percentile</li>
<li>Example: If Q3 = 85, 75% of students scored below 85</li>
</ul>
</section>
<section id="how-to-calculate-quartiles-step-by-step---two-methods" class="level4">
<h4 class="anchored" data-anchor-id="how-to-calculate-quartiles-step-by-step---two-methods">How to Calculate Quartiles (Step by Step) - Two Methods</h4>
<p>Let’s examine student test scores using both common quartile calculation methods:</p>
<p><strong>Example 1: Odd Number Case (11 scores)</strong><br>
60, 65, 70, 72, 75, 78, 80, 82, 85, 88, 90</p>
<p>Step 1: Find Q2 (median) - Same for both methods</p>
<ul>
<li>With n = 11 values (odd)</li>
<li>Median position = (n + 1)/2 = 6</li>
<li>Q2 = 78</li>
</ul>
<p>Step 2: Find Q1</p>
<ul>
<li>Tukey’s Method:
<ul>
<li>Look at lower half: 60, 65, 70, 72, 75</li>
<li>Q1 = median of lower half = 70</li>
</ul></li>
<li>Interpolation Method:
<ul>
<li>Position = (n + 1)/4 = (11 + 1)/4 = 3</li>
<li>Q1 = 70 (3rd value)</li>
</ul></li>
</ul>
<p>Step 3: Find Q3</p>
<ul>
<li>Tukey’s Method:
<ul>
<li>Look at upper half: 80, 82, 85, 88, 90</li>
<li>Q3 = median of upper half = 85</li>
</ul></li>
<li>Interpolation Method:
<ul>
<li>Position = 3(n + 1)/4 = 3(12)/4 = 9</li>
<li>Q3 = 85 (9th value)</li>
</ul></li>
</ul>
<p><strong>Example 2: Even Number Case (10 scores)</strong><br>
60, 65, 70, 72, 75, 78, 80, 82, 85, 90</p>
<p>Step 1: Find Q2 (median) - Same for both methods</p>
<ul>
<li>With n = 10 values (even)</li>
<li>Median positions = 5 and 6</li>
<li>Q2 = (75 + 78)/2 = 76.5</li>
</ul>
<p>Step 2: Find Q1</p>
<ul>
<li>Tukey’s Method:
<ul>
<li>Look at lower half: 60, 65, 70, 72, 75</li>
<li>Q1 = median of lower half = 70</li>
</ul></li>
<li>Interpolation Method:
<ul>
<li>Position = (10 + 1)/4 = 2.75</li>
<li>Q1 = 65 + 0.75(70 - 65) = 68.75</li>
</ul></li>
</ul>
<p>Step 3: Find Q3</p>
<ul>
<li>Tukey’s Method:
<ul>
<li>Look at upper half: 78, 80, 82, 85, 90</li>
<li>Q3 = median of upper half = 82</li>
</ul></li>
<li>Interpolation Method:
<ul>
<li>Position = 3(10 + 1)/4 = 8.25</li>
<li>Q3 = 82 + 0.25(85 - 82) = 82.75</li>
</ul></li>
</ul>
<p>Important Notes:</p>
<ol type="1">
<li><p>Tukey’s Method:</p>
<ul>
<li>First find the median (Q2)</li>
<li>Split the data into lower and upper halves</li>
<li>Find Q1 as the median of the lower half</li>
<li>Find Q3 as the median of the upper half</li>
<li>When n is odd, the median is not included in either half</li>
</ul></li>
<li><p>Interpolation Method:</p>
<ul>
<li>Uses positions (n+1)/4 for Q1 and 3(n+1)/4 for Q3</li>
<li>When position falls between values, uses linear interpolation</li>
<li>Doesn’t require splitting data into halves</li>
</ul></li>
</ol>
<p>Both methods give the same results for simple positions (Example 1) but can differ when interpolation is needed (Example 2).</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Manual Construction of Tukey Boxplot
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Step 1: Calculate Key Components</strong></p>
<ol type="1">
<li>Find quartiles: <span class="math inline">Q_1</span>, <span class="math inline">Q_2</span> (median), <span class="math inline">Q_3</span></li>
<li>Calculate Interquartile Range: <span class="math inline">IQR = Q_3 - Q_1</span></li>
</ol>
<p><strong>Step 2: Determine Whisker Boundaries</strong></p>
<ul>
<li>Lower fence: <span class="math inline">Q_1 - 1.5 \times IQR</span></li>
<li>Upper fence: <span class="math inline">Q_3 + 1.5 \times IQR</span></li>
</ul>
<p><strong>Step 3: Identify Outliers</strong> Data points are outliers if they are:</p>
<ul>
<li>Below lower fence: <span class="math inline">x &lt; Q_1 - 1.5 \times IQR</span></li>
<li>Above upper fence: <span class="math inline">x &gt; Q_3 + 1.5 \times IQR</span></li>
</ul>
<p><strong>Example:</strong> Given data: 2, 4, 6, 8, 9, 10, 11, 12, 14, 16, 50</p>
<ol type="1">
<li><p>Find quartiles:</p>
<ul>
<li><span class="math inline">Q_1 = 6</span></li>
<li><span class="math inline">Q_2 = 10</span></li>
<li><span class="math inline">Q_3 = 14</span></li>
</ul></li>
<li><p>Calculate <span class="math inline">IQR</span>:</p>
<ul>
<li><span class="math inline">IQR = 14 - 6 = 8</span></li>
</ul></li>
<li><p>Calculate fences:</p>
<ul>
<li>Lower: <span class="math inline">6 - (1.5 \times 8) = -6</span></li>
<li>Upper: <span class="math inline">14 + (1.5 \times 8) = 26</span></li>
</ul></li>
<li><p>Identify outliers:</p>
<ul>
<li>50 &gt; 26, therefore 50 is an outlier</li>
</ul></li>
</ol>
<p><strong>Graphical Elements:</strong></p>
<ol type="1">
<li>Box: Draw from <span class="math inline">Q_1</span> to <span class="math inline">Q_3</span></li>
<li>Line inside box: Draw at <span class="math inline">Q_2</span></li>
<li>Whiskers: Extend to most extreme non-outlier points</li>
<li>Points: Plot outliers individually beyond whiskers</li>
</ol>
</div>
</div>
</section>
</section>
<section id="percentiles-a-more-precise-measure-of-relative-standing" class="level3">
<h3 class="anchored" data-anchor-id="percentiles-a-more-precise-measure-of-relative-standing">Percentiles: A More Precise Measure of Relative Standing (*)</h3>
<section id="what-are-percentiles" class="level4">
<h4 class="anchored" data-anchor-id="what-are-percentiles">What Are Percentiles?</h4>
<p>Percentiles give us a more detailed view by dividing data into 100 equal parts.</p>
<p>Key Points:</p>
<ul>
<li>The 25th percentile equals Q1</li>
<li>The 50th percentile equals Q2 (median)</li>
<li>The 75th percentile equals Q3</li>
</ul>
</section>
<section id="calculating-percentiles" class="level4">
<h4 class="anchored" data-anchor-id="calculating-percentiles">Calculating Percentiles</h4>
<p>The Formula: <span class="math inline">P_k = \frac{k(n+1)}{100}</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">P_k</span> is the position for the kth percentile</li>
<li>k is the percentile we want (1-100)</li>
<li>n is the number of observations</li>
</ul>
<p><strong>Example 3: Finding the 60th Percentile</strong> Let’s use student homework scores: 72, 75, 78, 80, 82, 85, 88, 90, 92, 95</p>
<p>Step 1: Calculate position</p>
<ul>
<li>n = 10 scores</li>
<li>For 60th percentile: <span class="math inline">P_{60} = \frac{60(10+1)}{100} = 6.6</span></li>
</ul>
<p>Step 2: Find surrounding values</p>
<ul>
<li>Position 6: score of 85</li>
<li>Position 7: score of 88</li>
</ul>
<p>Step 3: Interpolate (important: percentiles use linear interpolation)</p>
<ul>
<li>We need to go 0.6 of the way between 85 and 88 <span class="math inline">P_{60} = 85 + 0.6(88-85)</span> <span class="math inline">P_{60} = 85 + 0.6(3)</span> <span class="math inline">P_{60} = 85 + 1.8 = 86.8</span></li>
</ul>
<p>What this means: 60% of students scored 86.8 or below.</p>
</section>
</section>
<section id="percentile-ranks-pr" class="level3">
<h3 class="anchored" data-anchor-id="percentile-ranks-pr">Percentile Ranks (PR) (*)</h3>
<section id="what-is-a-percentile-rank" class="level4">
<h4 class="anchored" data-anchor-id="what-is-a-percentile-rank">What is a Percentile Rank?</h4>
<p>Percentiles and percentile ranks are related but opposite concepts:</p>
<p><strong>Key Difference:</strong> - <strong>Percentile</strong> → “What score is at the 75th percentile?” (position → value) - <strong>Percentile Rank</strong> → “What percentile rank does a score of 75 have?” (value → position)</p>
<p><strong>Percentile rank</strong> tells us what percentage of values fall below a specific score. Think of it as answering: <em>“What percentage of the class did I score higher than?”</em></p>
</section>
<section id="the-formula" class="level4">
<h4 class="anchored" data-anchor-id="the-formula">The Formula</h4>
<p><span class="math display">
PR = \frac{\text{number of values below} + 0.5 \times \text{number of equal values}}{\text{total number of values}} \times 100
</span></p>
</section>
<section id="example-4-finding-a-percentile-rank" class="level4">
<h4 class="anchored" data-anchor-id="example-4-finding-a-percentile-rank">Example 4: Finding a Percentile Rank</h4>
<p>Consider these exam scores (sorted):</p>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Position</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Score</td>
<td>65</td>
<td>70</td>
<td>70</td>
<td><strong>75</strong></td>
<td><strong>75</strong></td>
<td><strong>75</strong></td>
<td>80</td>
<td>85</td>
<td>85</td>
<td>90</td>
</tr>
</tbody>
</table>
<p>Let’s find the PR for a score of <strong>75</strong> (highlighted).</p>
<p><strong>Step 1: Count carefully</strong> - Values <strong>below</strong> 75: 65, 70, 70 → <strong>3 values</strong> - Values <strong>equal to</strong> 75: 75, 75, 75 → <strong>3 values</strong> - Total values: <strong>10</strong></p>
<p><strong>Step 2: Apply the formula</strong></p>
<p><span class="math display">
PR = \frac{3 + 0.5(3)}{10} \times 100 = \frac{3 + 1.5}{10} \times 100 = \frac{4.5}{10} \times 100 = 45\%
</span></p>
<p><strong>Interpretation:</strong> A score of 75 is higher than 45% of the class scores.</p>
<p><strong>Sanity check:</strong> This makes sense! There are 3 scores clearly below 75, and you’re in the middle of the 3 people who scored 75, so you’re at roughly position 4.5 out of 10 = 45%. ✓</p>
</section>
<section id="understanding-the-0.5-factor" class="level4">
<h4 class="anchored" data-anchor-id="understanding-the-0.5-factor">Understanding the 0.5 Factor</h4>
<p><strong>Q: Why do we multiply equal values by 0.5?</strong></p>
<p><strong>A:</strong> The 0.5 factor means we count <strong>half</strong> of the tied values as being below us.</p>
<p>Here’s the intuition: If you scored 75 along with two other people, should you count yourself as: - Above all of them? (That wouldn’t be fair to them) - Below all of them? (That wouldn’t be fair to you) - Somewhere in the middle? ✓ (This is the fairest approach)</p>
<p><strong>Using our example:</strong> - 3 people scored below 75: we count all <strong>3</strong> of them - 3 people scored exactly 75 (including you): we count <strong>half</strong> of them = 0.5 × 3 = <strong>1.5</strong> - Total below or tied: 3 + 1.5 = 4.5 out of 10 = 45%</p>
<p>By using 0.5, we’re essentially saying: <em>“Of the people who tied with me, I can assume I did better than half of them.”</em> This treats everyone with the same score equally and avoids giving any one person an unfair advantage.</p>
</section>
<section id="practice-problem" class="level4">
<h4 class="anchored" data-anchor-id="practice-problem">Practice Problem</h4>
<p>Using the same dataset above, find the percentile rank for a score of <strong>85</strong>.</p>
<details>
<summary>
Click to see the solution
</summary>
<p><strong>Counting:</strong> - Values below 85: 65, 70, 70, 75, 75, 75, 80 → 7 values - Values equal to 85: 85, 85 → 2 values - Total: 10 values</p>
<p><strong>Calculation:</strong> <span class="math display">
PR = \frac{7 + 0.5(2)}{10} \times 100 = \frac{8}{10} \times 100 = 80\%
</span></p>
<p><strong>Answer:</strong> A score of 85 has a percentile rank of 80%.</p>
</details>
</section>
<section id="note-on-software-implementation" class="level4">
<h4 class="anchored" data-anchor-id="note-on-software-implementation">Note on Software Implementation</h4>
<p>Different software packages may use slightly different methods for calculating percentile ranks: - <strong>R</strong>: Use <code>ecdf()</code> function or manually calculate - <strong>Python (pandas)</strong>: Use <code>rank(pct=True)</code> method</p>
<p>These may produce slightly different results depending on how they handle ties and boundary cases.</p>
</section>
</section>
<section id="sec-boxplots" class="level3">
<h3 class="anchored" data-anchor-id="sec-boxplots">Understanding and Interpreting Box Plots</h3>
<p>Box plots (also known as box-and-whisker plots) are powerful visualization tools for understanding data distributions. In this section, we’ll explore how to construct and interpret box plots using height measurements from two groups.</p>
<section id="sec-boxplot-construction" class="level4">
<h4 class="anchored" data-anchor-id="sec-boxplot-construction">Construction of the Tukey Box Plot</h4>
<p>The box plot was introduced by John Tukey as part of his exploratory data analysis toolkit. It provides a standardized way of displaying the distribution of data based on a five-number summary.</p>
<section id="the-five-number-summary" class="level5">
<h5 class="anchored" data-anchor-id="the-five-number-summary">The Five-Number Summary</h5>
<p>A box plot represents five key statistical values:</p>
<ol type="1">
<li><strong>Minimum</strong>: The smallest value in the dataset (excluding outliers)</li>
<li><strong>First Quartile (Q1)</strong>: The 25th percentile, below which 25% of observations fall</li>
<li><strong>Median (Q2)</strong>: The 50th percentile, which divides the dataset into two equal halves</li>
<li><strong>Third Quartile (Q3)</strong>: The 75th percentile, below which 75% of observations fall</li>
<li><strong>Maximum</strong>: The largest value in the dataset (excluding outliers)</li>
</ol>
</section>
<section id="box-plot-components" class="level5">
<h5 class="anchored" data-anchor-id="box-plot-components">Box Plot Components</h5>
<div class="cell">
<div class="cell-output-display">
<div id="fig-boxplot-diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxplot-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="chapter5_files/figure-html/fig-boxplot-diagram-1.png" class="img-fluid figure-img" width="768">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxplot-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.2: Boxplot diagram showing its key components.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The components of a box plot include:</p>
<ol type="1">
<li><strong>The Box</strong>:
<ul>
<li>Represents the interquartile range (IQR), containing the middle 50% of the data</li>
<li>Lower edge represents Q1</li>
<li>Upper edge represents Q3</li>
<li>Line inside the box represents the median (Q2)</li>
</ul></li>
<li><strong>The Whiskers</strong>:
<ul>
<li>Extend from the box to show the range of non-outlier data</li>
<li>In a Tukey box plot, whiskers extend up to 1.5 × IQR from the box edges:
<ul>
<li>Lower whisker: extends to the minimum value ≥ (Q1 - 1.5 × IQR)</li>
<li>Upper whisker: extends to the maximum value ≤ (Q3 + 1.5 × IQR)</li>
</ul></li>
</ul></li>
<li><strong>Outliers</strong>:
<ul>
<li>Points that fall beyond the whiskers</li>
<li>Individually plotted as dots or symbols</li>
<li>Values that are &lt; (Q1 - 1.5 × IQR) or &gt; (Q3 + 1.5 × IQR)</li>
</ul></li>
</ol>
</section>
<section id="key-features-to-observe" class="level5">
<h5 class="anchored" data-anchor-id="key-features-to-observe">Key Features to Observe</h5>
<p>When interpreting box plots, look for these characteristics:</p>
<ol type="1">
<li><strong>Central Tendency</strong>: Location of the median line within the box</li>
<li><strong>Dispersion</strong>: Width of the box (IQR) and length of the whiskers</li>
<li><strong>Skewness</strong>:
<ul>
<li>Symmetrical data: median is approximately in the middle of the box, whiskers are roughly equal in length</li>
<li>Right (positive) skew: median is closer to the bottom of the box, upper whisker is longer</li>
<li>Left (negative) skew: median is closer to the top of the box, lower whisker is longer</li>
</ul></li>
<li><strong>Outliers</strong>: Presence of individual points beyond the whiskers</li>
</ol>
</section>
</section>
<section id="sec-height-comparison" class="level4">
<h4 class="anchored" data-anchor-id="sec-height-comparison">Case Study: Comparing Heights Between Groups</h4>
<p>Let’s apply our understanding of box plots to a real dataset. We have height measurements (in centimeters) from two groups of 25 students each.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the dataset</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>data_height <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">group_1 =</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">165</span>, <span class="dv">168</span>, <span class="dv">172</span>, <span class="dv">173</span>, <span class="dv">175</span>, <span class="dv">176</span>, <span class="dv">177</span>, <span class="dv">178</span>, <span class="dv">179</span>, <span class="dv">180</span>, <span class="dv">180</span>, <span class="dv">181</span>, <span class="dv">181</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">183</span>, <span class="dv">183</span>, <span class="dv">184</span>, <span class="dv">186</span>, <span class="dv">188</span>, <span class="dv">190</span>, <span class="dv">191</span>, <span class="dv">200</span>),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">group_2 =</span> <span class="fu">c</span>(<span class="dv">138</span>, <span class="dv">140</span>, <span class="dv">148</span>, <span class="dv">152</span>, <span class="dv">164</span>, <span class="dv">164</span>, <span class="dv">165</span>, <span class="dv">165</span>, <span class="dv">166</span>, <span class="dv">166</span>, <span class="dv">170</span>, <span class="dv">175</span>, <span class="dv">175</span>, <span class="dv">175</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">183</span>, <span class="dv">183</span>, <span class="dv">183</span>, <span class="dv">188</span>, <span class="dv">210</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform dataset from wide to long format</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>data_height_l <span class="ot">&lt;-</span> <span class="fu">gather</span>(<span class="at">data =</span> data_height, <span class="at">key =</span> <span class="st">"Group_number"</span>, <span class="at">value =</span> <span class="st">"height"</span>, group_1<span class="sc">:</span>group_2)</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_height_l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Group_number height
1      group_1    150
2      group_1    160
3      group_1    165
4      group_1    168
5      group_1    172
6      group_1    173</code></pre>
</div>
</div>
<p>Let’s calculate some summary statistics for each group:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate summary statistics for each group</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>group1_stats <span class="ot">&lt;-</span> <span class="fu">summary</span>(data_height<span class="sc">$</span>group_1)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>group2_stats <span class="ot">&lt;-</span> <span class="fu">summary</span>(data_height<span class="sc">$</span>group_2)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate IQR</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>group1_iqr <span class="ot">&lt;-</span> <span class="fu">IQR</span>(data_height<span class="sc">$</span>group_1)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>group2_iqr <span class="ot">&lt;-</span> <span class="fu">IQR</span>(data_height<span class="sc">$</span>group_2)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a comparison table</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>stats_table <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  group1_stats,</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  group2_stats</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(stats_table) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Group 1"</span>, <span class="st">"Group 2"</span>)</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the table</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>stats_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Min. 1st Qu. Median Mean 3rd Qu. Max.
Group 1  150     175    180  179     183  200
Group 2  138     165    175  172     182  210</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display IQR values</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"IQR for Group 1:"</span>, group1_iqr, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IQR for Group 1: 8 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"IQR for Group 2:"</span>, group2_iqr, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IQR for Group 2: 17 </code></pre>
</div>
</div>
</section>
<section id="sec-visualizing-heights" class="level4">
<h4 class="anchored" data-anchor-id="sec-visualizing-heights">Visualizing the Height Data</h4>
<p>Now, let’s visualize the data using box plots and density plots:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create horizontal boxplots</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_height_l) <span class="sc">+</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Group_number, <span class="at">y =</span> height, <span class="at">colour =</span> Group_number), <span class="at">notch =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">130</span>, <span class="dv">210</span>, <span class="dv">5</span>)) <span class="sc">+</span> </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_pubr</span>() <span class="sc">+</span> </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grids</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Height Distribution by Group"</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Group"</span>,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Height (cm)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.
ℹ The deprecated feature was likely used in the ggpubr package.
  Please report the issue at &lt;https://github.com/kassambara/ggpubr/issues&gt;.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.
ℹ The deprecated feature was likely used in the ggpubr package.
  Please report the issue at &lt;https://github.com/kassambara/ggpubr/issues&gt;.</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-boxplots" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxplots-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="chapter5_files/figure-html/fig-boxplots-1.png" class="img-fluid figure-img" width="768">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxplots-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.3: Box plots comparing height distributions between groups.
</figcaption>
</figure>
</div>
</div>
</div>
<p>To complement our box plots, let’s also look at the density distributions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plots</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_height_l) <span class="sc">+</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">fill =</span> Group_number), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span> Group_number) <span class="sc">+</span> </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">130</span>, <span class="dv">210</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Height Density by Group"</span>,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Height (cm)"</span>,</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-density" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="chapter5_files/figure-html/fig-density-1.png" class="img-fluid figure-img" width="768">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.4: Density plots showing the height distributions for each group.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-boxplot-exercise" class="level4">
<h4 class="anchored" data-anchor-id="sec-boxplot-exercise">Box Plot Interpretation Exercise</h4>
<p>Based on the box plots and density plots above, determine whether each of the following statements is <strong>True</strong> or <strong>False</strong>. For each statement, provide a brief explanation based on evidence from the visualizations.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Students from group 2 (G2) in the studied sample are, on average, taller than those from group 1 (G1).</p></li>
<li><p>Group 1 (G1) height measurements are more dispersed/spread out than group 2 (G2).</p></li>
<li><p>The lowest person is in group 2 (G2).</p></li>
<li><p>Both data sets are negatively (left) skewed.</p></li>
<li><p>Half of the students in group 2 (G2) measure at least 175 cm.</p></li>
</ol>
</div>
</div>
<section id="hints-for-interpretation" class="level5">
<h5 class="anchored" data-anchor-id="hints-for-interpretation">Hints for Interpretation</h5>
<p>When answering these questions, consider:</p>
<ul>
<li>The position of the median line within each box</li>
<li>The relative sizes of the boxes (IQR)</li>
<li>The positions of the minimum and maximum values</li>
<li>The symmetry of the distributions (balanced or skewed)</li>
<li>The lengths of the whiskers</li>
</ul>
<p>For each statement, determine whether it is True or False and provide your explanation:</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer Template
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li>Students from G2 are, on average, taller than G1: [True/False]
<ul>
<li>Explanation:</li>
</ul></li>
<li>G1 height is more dispersed/spread out: [True/False]
<ul>
<li>Explanation:</li>
</ul></li>
<li>The lowest person is in G2: [True/False]
<ul>
<li>Explanation:</li>
</ul></li>
<li>Both data sets are negatively (left) skewed: [True/False]
<ul>
<li>Explanation:</li>
</ul></li>
<li>Half of G2 measure at least 175 cm: [True/False]
<ul>
<li>Explanation:</li>
</ul></li>
</ol>
</div>
</div>
</div>
<p>Let’s review the answers to our box plot interpretation questions:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solutions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li>Students from G2 are, on average, taller than G1: <strong>False</strong>
<ul>
<li>Explanation: The median height (middle line in the boxplot) for G1 is higher than G2.</li>
</ul></li>
<li>G1 height is more dispersed/spread out: <strong>False</strong>
<ul>
<li>Explanation: G2 shows greater dispersion. This is visible in the boxplot where G2 has a larger interquartile range (IQR) of 17.5 cm compared to G1’s 9.5 cm. G2 also has a wider range from minimum to maximum values.</li>
</ul></li>
<li>The lowest person is in G2: <strong>True</strong>
<ul>
<li>Explanation: The minimum value in G2 is 138 cm, which is lower than the minimum value in G1 (150 cm).</li>
</ul></li>
<li>Both data sets are negatively (left) skewed: <strong>True</strong>
<ul>
<li>Explanation: In both groups, the median line is positioned toward the upper part of the box, and the lower whisker is longer than the upper whisker. This indicates that there’s a longer tail on the left side of the distribution, which means negative skewness.</li>
</ul></li>
<li>Half of G2 measure at least 175 cm: <strong>True</strong>
<ul>
<li>Explanation: The median (middle line in the boxplot) for G2 is 175 cm, which means that 50% of the values are greater than or equal to 175 cm.</li>
</ul></li>
</ol>
</div>
</div>
</div>
</section>
</section>
<section id="sec-boxplot-code" class="level4">
<h4 class="anchored" data-anchor-id="sec-boxplot-code">R Code Reference</h4>
<p>Here’s the complete R code used in this section:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required packages</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Set display options</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the dataset</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>data_height <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">group_1 =</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">165</span>, <span class="dv">168</span>, <span class="dv">172</span>, <span class="dv">173</span>, <span class="dv">175</span>, <span class="dv">176</span>, <span class="dv">177</span>, <span class="dv">178</span>, <span class="dv">179</span>, <span class="dv">180</span>, <span class="dv">180</span>, <span class="dv">181</span>, <span class="dv">181</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">183</span>, <span class="dv">183</span>, <span class="dv">184</span>, <span class="dv">186</span>, <span class="dv">188</span>, <span class="dv">190</span>, <span class="dv">191</span>, <span class="dv">200</span>),</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">group_2 =</span> <span class="fu">c</span>(<span class="dv">138</span>, <span class="dv">140</span>, <span class="dv">148</span>, <span class="dv">152</span>, <span class="dv">164</span>, <span class="dv">164</span>, <span class="dv">165</span>, <span class="dv">165</span>, <span class="dv">166</span>, <span class="dv">166</span>, <span class="dv">170</span>, <span class="dv">175</span>, <span class="dv">175</span>, <span class="dv">175</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">182</span>, <span class="dv">183</span>, <span class="dv">183</span>, <span class="dv">183</span>, <span class="dv">188</span>, <span class="dv">210</span>)</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform dataset from wide to long format</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>data_height_l <span class="ot">&lt;-</span> <span class="fu">gather</span>(<span class="at">data =</span> data_height, <span class="at">key =</span> <span class="st">"Group_number"</span>, <span class="at">value =</span> <span class="st">"height"</span>, group_1<span class="sc">:</span>group_2)</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_height_l)</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate summary statistics for each group</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>group1_stats <span class="ot">&lt;-</span> <span class="fu">summary</span>(data_height<span class="sc">$</span>group_1)</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>group2_stats <span class="ot">&lt;-</span> <span class="fu">summary</span>(data_height<span class="sc">$</span>group_2)</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate IQR</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>group1_iqr <span class="ot">&lt;-</span> <span class="fu">IQR</span>(data_height<span class="sc">$</span>group_1)</span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>group2_iqr <span class="ot">&lt;-</span> <span class="fu">IQR</span>(data_height<span class="sc">$</span>group_2)</span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Create horizontal boxplots</span></span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_height_l) <span class="sc">+</span> </span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Group_number, <span class="at">y =</span> height, <span class="at">colour =</span> Group_number), <span class="at">notch =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">130</span>, <span class="dv">210</span>, <span class="dv">5</span>)) <span class="sc">+</span> </span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_pubr</span>() <span class="sc">+</span> </span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grids</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Height Distribution by Group"</span>,</span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Group"</span>,</span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Height (cm)"</span>)</span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plots</span></span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_height_l) <span class="sc">+</span> </span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">fill =</span> Group_number), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span> Group_number) <span class="sc">+</span> </span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">130</span>, <span class="dv">210</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Height Density by Group"</span>,</span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Height (cm)"</span>,</span>
<span id="cb59-47"><a href="#cb59-47" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
</section>
<section id="shape-measures" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="shape-measures"><span class="header-section-number">5.9</span> Shape Measures (*)</h2>
<section id="skewness" class="level3">
<h3 class="anchored" data-anchor-id="skewness">Skewness</h3>
<p><strong>What it measures:</strong> The asymmetry of your data distribution. Think of it as answering “which tail is longer?”</p>
<p><strong>Formula:</strong></p>
<p><span class="math inline">SK = \frac{n}{(n-1)(n-2)} \sum_{i=1}^n \left(\frac{x_i - \bar{x}}{s}\right)^3</span></p>
<p><strong>Quick interpretation:</strong></p>
<ul>
<li><strong>SK &gt; 0</strong>: Right tail is longer (most data on the left, few high outliers)</li>
<li><strong>SK &lt; 0</strong>: Left tail is longer (most data on the right, few low outliers)<br>
</li>
<li><strong>SK ≈ 0</strong>: Roughly symmetric</li>
</ul>
<section id="clear-visualization-of-skewness" class="level4">
<h4 class="anchored" data-anchor-id="clear-visualization-of-skewness">Clear Visualization of Skewness</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(moments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'moments'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:modeest':

    skewness</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate clear examples with more data for smooth distributions</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>right_skewed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">800</span>, <span class="dv">5</span>, <span class="fl">1.5</span>), <span class="fu">rexp</span>(<span class="dv">200</span>, <span class="fl">0.2</span>) <span class="sc">+</span> <span class="dv">5</span>)</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>left_skewed <span class="ot">&lt;-</span> <span class="dv">20</span> <span class="sc">-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">800</span>, <span class="dv">5</span>, <span class="fl">1.5</span>), <span class="fu">rexp</span>(<span class="dv">200</span>, <span class="fl">0.2</span>) <span class="sc">+</span> <span class="dv">5</span>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>symmetric <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine into data frame</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>df_skew <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(right_skewed, left_skewed, symmetric),</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Right-Skewed"</span>, <span class="st">"Left-Skewed"</span>, <span class="st">"Symmetric"</span>),</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">each =</span> <span class="dv">1000</span>),</span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Right-Skewed"</span>, <span class="st">"Symmetric"</span>, <span class="st">"Left-Skewed"</span>))</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate statistics for each type</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>stats_skew <span class="ot">&lt;-</span> df_skew <span class="sc">%&gt;%</span></span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span></span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(value),</span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(value),</span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">sk =</span> <span class="fu">round</span>(<span class="fu">skewness</span>(value), <span class="dv">2</span>)</span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plot with clear annotations</span></span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_skew, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">fill =</span> type)) <span class="sc">+</span></span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> stats_skew, <span class="fu">aes</span>(<span class="at">xintercept =</span> mean),</span>
<span id="cb63-32"><a href="#cb63-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"#D55E00"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb63-33"><a href="#cb63-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> stats_skew, <span class="fu">aes</span>(<span class="at">xintercept =</span> median),</span>
<span id="cb63-34"><a href="#cb63-34" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"#0072B2"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">"solid"</span>) <span class="sc">+</span></span>
<span id="cb63-35"><a href="#cb63-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> stats_skew,</span>
<span id="cb63-36"><a href="#cb63-36" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> <span class="cn">Inf</span>, <span class="at">y =</span> <span class="cn">Inf</span>, </span>
<span id="cb63-37"><a href="#cb63-37" aria-hidden="true" tabindex="-1"></a>                <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Skewness = "</span>, sk)),</span>
<span id="cb63-38"><a href="#cb63-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="fl">1.1</span>, <span class="at">vjust =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb63-39"><a href="#cb63-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>type, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb63-40"><a href="#cb63-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#E69F00"</span>, <span class="st">"#009E73"</span>, <span class="st">"#CC79A7"</span>)) <span class="sc">+</span></span>
<span id="cb63-41"><a href="#cb63-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb63-42"><a href="#cb63-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Understanding Skewness: Where Are the Tails?"</span>,</span>
<span id="cb63-43"><a href="#cb63-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Orange dashed = Mean  |  Blue solid = Median"</span>,</span>
<span id="cb63-44"><a href="#cb63-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb63-45"><a href="#cb63-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span></span>
<span id="cb63-46"><a href="#cb63-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb63-47"><a href="#cb63-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb63-48"><a href="#cb63-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb63-49"><a href="#cb63-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb63-50"><a href="#cb63-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb63-51"><a href="#cb63-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb63-52"><a href="#cb63-52" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="applied-example-income-distribution" class="level4">
<h4 class="anchored" data-anchor-id="applied-example-income-distribution">Applied Example: Income Distribution</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">456</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Realistic income scenarios (in thousands)</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Right-skewed: Most earn moderate, few earn very high</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>income_city_a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rgamma</span>(<span class="dv">900</span>, <span class="at">shape =</span> <span class="dv">2</span>, <span class="at">scale =</span> <span class="dv">15</span>) <span class="sc">+</span> <span class="dv">25</span>, </span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">runif</span>(<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">300</span>))</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Left-skewed: Most earn high, few earn low (wealthy area)</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>income_city_b <span class="ot">&lt;-</span> <span class="dv">180</span> <span class="sc">-</span> <span class="fu">c</span>(<span class="fu">rgamma</span>(<span class="dv">900</span>, <span class="at">shape =</span> <span class="dv">2</span>, <span class="at">scale =</span> <span class="dv">15</span>), </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">runif</span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">50</span>))</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Symmetric: More balanced income distribution</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>income_city_c <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="dv">80</span>, <span class="dv">20</span>)</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>df_income <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">income =</span> <span class="fu">c</span>(income_city_a, income_city_b, income_city_c),</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">city =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"City A: Right-Skewed"</span>, </span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"City B: Left-Skewed"</span>, </span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"City C: Symmetric"</span>),</span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>                    <span class="at">each =</span> <span class="dv">1000</span>),</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"City A: Right-Skewed"</span>, </span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"City C: Symmetric"</span>,</span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"City B: Left-Skewed"</span>))</span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate stats</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a>stats_income <span class="ot">&lt;-</span> df_income <span class="sc">%&gt;%</span></span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city) <span class="sc">%&gt;%</span></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(income),</span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(income),</span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">sk =</span> <span class="fu">round</span>(<span class="fu">skewness</span>(income), <span class="dv">2</span>)</span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_income, <span class="fu">aes</span>(<span class="at">x =</span> income)) <span class="sc">+</span></span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">after_stat</span>(density), <span class="at">fill =</span> city),</span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">40</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb64-38"><a href="#cb64-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb64-39"><a href="#cb64-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> stats_income, <span class="fu">aes</span>(<span class="at">xintercept =</span> mean),</span>
<span id="cb64-40"><a href="#cb64-40" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"#D55E00"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb64-41"><a href="#cb64-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> stats_income, <span class="fu">aes</span>(<span class="at">xintercept =</span> median),</span>
<span id="cb64-42"><a href="#cb64-42" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"#0072B2"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb64-43"><a href="#cb64-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="at">data =</span> stats_income,</span>
<span id="cb64-44"><a href="#cb64-44" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> <span class="cn">Inf</span>, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"SK ="</span>, sk)),</span>
<span id="cb64-45"><a href="#cb64-45" aria-hidden="true" tabindex="-1"></a>             <span class="at">vjust =</span> <span class="fl">1.5</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb64-46"><a href="#cb64-46" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb64-47"><a href="#cb64-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>city, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb64-48"><a href="#cb64-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#E69F00"</span>, <span class="st">"#009E73"</span>, <span class="st">"#CC79A7"</span>)) <span class="sc">+</span></span>
<span id="cb64-49"><a href="#cb64-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb64-50"><a href="#cb64-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Income Distributions Across Three Cities"</span>,</span>
<span id="cb64-51"><a href="#cb64-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Orange dashed = Mean  |  Blue solid = Median"</span>,</span>
<span id="cb64-52"><a href="#cb64-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Annual Income ($1000s)"</span>,</span>
<span id="cb64-53"><a href="#cb64-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span></span>
<span id="cb64-54"><a href="#cb64-54" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb64-55"><a href="#cb64-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb64-56"><a href="#cb64-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb64-57"><a href="#cb64-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb64-58"><a href="#cb64-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>)</span>
<span id="cb64-59"><a href="#cb64-59" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="kurtosis" class="level3">
<h3 class="anchored" data-anchor-id="kurtosis">Kurtosis</h3>
<p><strong>What it measures:</strong> The “tailedness” of your distribution. Think of it as answering “how extreme are the extremes?”</p>
<p><strong>Formula:</strong></p>
<p><span class="math inline">K = \frac{n(n+1)}{(n-1)(n-2)(n-3)} \sum_{i=1}^n \left(\frac{x_i - \bar{x}}{s}\right)^4 - \frac{3(n-1)^2}{(n-2)(n-3)}</span></p>
<p><strong>Quick interpretation:</strong></p>
<ul>
<li><strong>K &gt; 3</strong> (Leptokurtic): Heavy tails, sharp peak (more extreme values)</li>
<li><strong>K &lt; 3</strong> (Platykurtic): Light tails, flat peak (fewer extreme values)</li>
<li><strong>K ≈ 3</strong> (Mesokurtic): Normal-like behavior</li>
</ul>
<section id="visualization-of-kurtosis" class="level4">
<h4 class="anchored" data-anchor-id="visualization-of-kurtosis">Visualization of Kurtosis</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">789</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate VERY clear examples - all centered at 0 with sd ≈ 1</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">8000</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="co"># EXTREME heavy tails: mixture of tight center + extreme outliers</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>heavy_tails <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">7000</span>, <span class="dv">0</span>, <span class="fl">0.5</span>),    <span class="co"># Very tight center (sharp peak)</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="dv">4</span>))       <span class="co"># Many extreme outliers</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Light tails: uniform distribution (no outliers possible)</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>light_tails <span class="ot">&lt;-</span> <span class="fu">runif</span>(n, <span class="sc">-</span><span class="fl">1.73</span>, <span class="fl">1.73</span>)  <span class="co"># Scaled to sd ≈ 1</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Normal: reference distribution</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>normal_tails <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize all to same scale</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>heavy_tails <span class="ot">&lt;-</span> <span class="fu">scale</span>(heavy_tails)[,<span class="dv">1</span>]</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>light_tails <span class="ot">&lt;-</span> <span class="fu">scale</span>(light_tails)[,<span class="dv">1</span>]</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>normal_tails <span class="ot">&lt;-</span> <span class="fu">scale</span>(normal_tails)[,<span class="dv">1</span>]</span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>df_kurt <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(heavy_tails, light_tails, normal_tails),</span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Heavy Tails (Leptokurtic)"</span>, </span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Light Tails (Platykurtic)"</span>, </span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Normal (Mesokurtic)"</span>),</span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>                    <span class="at">each =</span> n),</span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Heavy Tails (Leptokurtic)"</span>,</span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Normal (Mesokurtic)"</span>,</span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"Light Tails (Platykurtic)"</span>))</span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">5</span> <span class="sc">&amp;</span> value <span class="sc">&lt;=</span> <span class="dv">5</span>)</span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate kurtosis</span></span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a>stats_kurt <span class="ot">&lt;-</span> df_kurt <span class="sc">%&gt;%</span></span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span></span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">k =</span> <span class="fu">round</span>(<span class="fu">kurtosis</span>(value), <span class="dv">2</span>))</span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Overlapping density plot - this shows tail behavior best</span></span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_kurt, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">color =</span> type, <span class="at">fill =</span> type)) <span class="sc">+</span></span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.15</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">color =</span> <span class="st">"gray30"</span>, </span>
<span id="cb65-42"><a href="#cb65-42" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb65-43"><a href="#cb65-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">xmax =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="fl">0.5</span>,</span>
<span id="cb65-44"><a href="#cb65-44" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-45"><a href="#cb65-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin =</span> <span class="dv">2</span>, <span class="at">xmax =</span> <span class="dv">5</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="fl">0.5</span>,</span>
<span id="cb65-46"><a href="#cb65-46" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-47"><a href="#cb65-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="sc">-</span><span class="fl">3.5</span>, <span class="at">y =</span> <span class="fl">0.48</span>, <span class="at">label =</span> <span class="st">"Tail Region"</span>,</span>
<span id="cb65-48"><a href="#cb65-48" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"darkred"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fl">4.5</span>) <span class="sc">+</span></span>
<span id="cb65-49"><a href="#cb65-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">3.5</span>, <span class="at">y =</span> <span class="fl">0.48</span>, <span class="at">label =</span> <span class="st">"Tail Region"</span>,</span>
<span id="cb65-50"><a href="#cb65-50" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"darkred"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fl">4.5</span>) <span class="sc">+</span></span>
<span id="cb65-51"><a href="#cb65-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="fl">0.48</span>, <span class="at">label =</span> <span class="st">"Peak Region"</span>,</span>
<span id="cb65-52"><a href="#cb65-52" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fl">4.5</span>) <span class="sc">+</span></span>
<span id="cb65-53"><a href="#cb65-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb65-54"><a href="#cb65-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#D55E00"</span>, <span class="st">"#009E73"</span>, <span class="st">"#0072B2"</span>),</span>
<span id="cb65-55"><a href="#cb65-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) {</span>
<span id="cb65-56"><a href="#cb65-56" aria-hidden="true" tabindex="-1"></a>      k_val <span class="ot">&lt;-</span> stats_kurt<span class="sc">$</span>k[<span class="fu">match</span>(x, stats_kurt<span class="sc">$</span>type)]</span>
<span id="cb65-57"><a href="#cb65-57" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(x, <span class="st">"</span><span class="sc">\n</span><span class="st">K = "</span>, k_val)</span>
<span id="cb65-58"><a href="#cb65-58" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb65-59"><a href="#cb65-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-60"><a href="#cb65-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb65-61"><a href="#cb65-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#D55E00"</span>, <span class="st">"#009E73"</span>, <span class="st">"#0072B2"</span>),</span>
<span id="cb65-62"><a href="#cb65-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) {</span>
<span id="cb65-63"><a href="#cb65-63" aria-hidden="true" tabindex="-1"></a>      k_val <span class="ot">&lt;-</span> stats_kurt<span class="sc">$</span>k[<span class="fu">match</span>(x, stats_kurt<span class="sc">$</span>type)]</span>
<span id="cb65-64"><a href="#cb65-64" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(x, <span class="st">"</span><span class="sc">\n</span><span class="st">K = "</span>, k_val)</span>
<span id="cb65-65"><a href="#cb65-65" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb65-66"><a href="#cb65-66" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-67"><a href="#cb65-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb65-68"><a href="#cb65-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb65-69"><a href="#cb65-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Kurtosis: Comparing Peak Sharpness and Tail Weight"</span>,</span>
<span id="cb65-70"><a href="#cb65-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Orange (K=10.3) has SHARP peak + HEAVY tails  |  Pink (K=1.8) is FLAT everywhere"</span>,</span>
<span id="cb65-71"><a href="#cb65-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Standardized Value"</span>,</span>
<span id="cb65-72"><a href="#cb65-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb65-73"><a href="#cb65-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Distribution Type"</span>,</span>
<span id="cb65-74"><a href="#cb65-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Distribution Type"</span></span>
<span id="cb65-75"><a href="#cb65-75" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-76"><a href="#cb65-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb65-77"><a href="#cb65-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb65-78"><a href="#cb65-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb65-79"><a href="#cb65-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb65-80"><a href="#cb65-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb65-81"><a href="#cb65-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb65-82"><a href="#cb65-82" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Faceted view focusing on the differences</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_kurt, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">fill =</span> type)) <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">after_stat</span>(density)), </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">100</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>) <span class="sc">+</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> stats_kurt,</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> <span class="cn">Inf</span>, <span class="at">y =</span> <span class="cn">Inf</span>, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"K ="</span>, k)),</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="fl">1.1</span>, <span class="at">vjust =</span> <span class="fl">1.5</span>, <span class="at">size =</span> <span class="dv">6</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>type, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#D55E00"</span>, <span class="st">"#009E73"</span>, <span class="st">"#0072B2"</span>)) <span class="sc">+</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Kurtosis Comparison: Notice the Peak and Tails"</span>,</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Heavy tails = Most data clustered + frequent extremes  |  Light tails = Spread evenly, no extremes"</span>,</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Standardized Value"</span>,</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-27-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="applied-example-stock-returns" class="level4">
<h4 class="anchored" data-anchor-id="applied-example-stock-returns">Applied Example: Stock Returns</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">101</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate daily stock returns with VERY different kurtosis</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>n_days <span class="ot">&lt;-</span> <span class="dv">3000</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Volatile crypto: extreme movements (crashes and surges)</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Most days normal, but frequent extreme events</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>crypto_returns <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">2400</span>, <span class="dv">0</span>, <span class="fl">0.8</span>),     <span class="co"># 80% normal days</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">rnorm</span>(<span class="dv">600</span>, <span class="dv">0</span>, <span class="dv">5</span>))         <span class="co"># 20% extreme volatility days</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Stable bond: very consistent, bounded returns (no surprises)</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>bond_returns <span class="ot">&lt;-</span> <span class="fu">runif</span>(n_days, <span class="sc">-</span><span class="fl">1.2</span>, <span class="fl">1.2</span>)</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Index fund: typical market behavior</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>index_returns <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n_days, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize for comparison</span></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>crypto_returns <span class="ot">&lt;-</span> <span class="fu">scale</span>(crypto_returns)[,<span class="dv">1</span>]</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>bond_returns <span class="ot">&lt;-</span> <span class="fu">scale</span>(bond_returns)[,<span class="dv">1</span>]</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>index_returns <span class="ot">&lt;-</span> <span class="fu">scale</span>(index_returns)[,<span class="dv">1</span>]</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>df_returns <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">return =</span> <span class="fu">c</span>(crypto_returns, bond_returns, index_returns),</span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">investment =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Cryptocurrency"</span>, </span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Bond Fund"</span>, </span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Stock Index"</span>),</span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>                          <span class="at">each =</span> n_days),</span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Cryptocurrency"</span>,</span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Stock Index"</span>,</span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Bond Fund"</span>))</span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(return <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">5</span> <span class="sc">&amp;</span> return <span class="sc">&lt;=</span> <span class="dv">5</span>)</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate kurtosis</span></span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>stats_returns <span class="ot">&lt;-</span> df_returns <span class="sc">%&gt;%</span></span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(investment) <span class="sc">%&gt;%</span></span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">k =</span> <span class="fu">round</span>(<span class="fu">kurtosis</span>(return), <span class="dv">2</span>),</span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">risk_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a>      k <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"EXTREME RISK"</span>,</span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>      k <span class="sc">&gt;</span> <span class="fl">3.5</span> <span class="sc">~</span> <span class="st">"HIGH RISK"</span>,</span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a>      k <span class="sc">&gt;</span> <span class="fl">2.5</span> <span class="sc">~</span> <span class="st">"MODERATE"</span>,</span>
<span id="cb67-43"><a href="#cb67-43" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"LOW RISK"</span></span>
<span id="cb67-44"><a href="#cb67-44" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb67-45"><a href="#cb67-45" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb67-46"><a href="#cb67-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-47"><a href="#cb67-47" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_returns, <span class="fu">aes</span>(<span class="at">x =</span> return, <span class="at">fill =</span> investment)) <span class="sc">+</span></span>
<span id="cb67-48"><a href="#cb67-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">after_stat</span>(density)), </span>
<span id="cb67-49"><a href="#cb67-49" aria-hidden="true" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">80</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb67-50"><a href="#cb67-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb67-51"><a href="#cb67-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>) <span class="sc">+</span></span>
<span id="cb67-52"><a href="#cb67-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="at">data =</span> stats_returns,</span>
<span id="cb67-53"><a href="#cb67-53" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> <span class="cn">Inf</span>, <span class="at">y =</span> <span class="cn">Inf</span>, </span>
<span id="cb67-54"><a href="#cb67-54" aria-hidden="true" tabindex="-1"></a>                 <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"K = "</span>, k, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, risk_level)),</span>
<span id="cb67-55"><a href="#cb67-55" aria-hidden="true" tabindex="-1"></a>             <span class="at">hjust =</span> <span class="fl">1.1</span>, <span class="at">vjust =</span> <span class="fl">1.1</span>, <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb67-56"><a href="#cb67-56" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb67-57"><a href="#cb67-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>investment, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb67-58"><a href="#cb67-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#D55E00"</span>, <span class="st">"#009E73"</span>, <span class="st">"#0072B2"</span>)) <span class="sc">+</span></span>
<span id="cb67-59"><a href="#cb67-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb67-60"><a href="#cb67-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb67-61"><a href="#cb67-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Investment Returns: Kurtosis as Risk Indicator"</span>,</span>
<span id="cb67-62"><a href="#cb67-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"High K = More 'Black Swan' events (extreme gains AND crashes)"</span>,</span>
<span id="cb67-63"><a href="#cb67-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Standardized Daily Return"</span>,</span>
<span id="cb67-64"><a href="#cb67-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Density"</span></span>
<span id="cb67-65"><a href="#cb67-65" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb67-66"><a href="#cb67-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb67-67"><a href="#cb67-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb67-68"><a href="#cb67-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb67-69"><a href="#cb67-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb67-70"><a href="#cb67-70" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="key-takeaways" class="level3">
<h3 class="anchored" data-anchor-id="key-takeaways">Key Takeaways</h3>
<p><strong>Skewness tells you about asymmetry:</strong></p>
<ul>
<li>Positive: Long right tail → Mean pulled above median</li>
<li>Negative: Long left tail → Mean pulled below median</li>
</ul>
<p><strong>Kurtosis tells you about extremes:</strong></p>
<ul>
<li>High kurtosis (K &gt; 5): Expect frequent outliers - “black swan” events</li>
<li>Low kurtosis (K &lt; 2): Data stays predictable, within tight bounds</li>
<li>Normal kurtosis (K ≈ 3): Typical bell curve behavior</li>
</ul>
<p><strong>Visual cues:</strong></p>
<ul>
<li><strong>Skewness</strong>: Look at tail length - mean vs median separation</li>
<li><strong>Kurtosis</strong>: Look at peak sharpness AND tail thickness simultaneously</li>
</ul>
<p><strong>Practical meaning:</strong></p>
<ul>
<li>High kurtosis ≠ just “fat tails” - it’s a sharp peak WITH heavy tails</li>
<li>It means: “mostly clustered, but watch out for surprises”</li>
</ul>
<hr>
</section>
</section>
<section id="exercise-1.-center-and-dispersion-of-data" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="exercise-1.-center-and-dispersion-of-data"><span class="header-section-number">5.10</span> Exercise 1. Center and dispersion of data</h2>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>We have salary data (in thousands of euros) from two small European companies:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Index</th>
<th>Company X</th>
<th>Company Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="even">
<td>2</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="odd">
<td>3</td>
<td>2</td>
<td>4</td>
</tr>
<tr class="even">
<td>4</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="odd">
<td>5</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td>6</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="odd">
<td>7</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="even">
<td>8</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="odd">
<td>9</td>
<td>3</td>
<td>5</td>
</tr>
<tr class="even">
<td>10</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="odd">
<td>11</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="even">
<td>12</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="odd">
<td>13</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="even">
<td>14</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="odd">
<td>15</td>
<td>5</td>
<td>6</td>
</tr>
<tr class="even">
<td>16</td>
<td>5</td>
<td>6</td>
</tr>
<tr class="odd">
<td>17</td>
<td>5</td>
<td>6</td>
</tr>
<tr class="even">
<td>18</td>
<td>5</td>
<td>7</td>
</tr>
<tr class="odd">
<td>19</td>
<td>20</td>
<td>7</td>
</tr>
<tr class="even">
<td>20</td>
<td>35</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>This table presents the data for both Company X and Company Y side by side, with an index column for easy reference.</p>
</section>
<section id="measures-of-central-tendency-1" class="level3">
<h3 class="anchored" data-anchor-id="measures-of-central-tendency-1">Measures of Central Tendency</h3>
<section id="mean" class="level4">
<h4 class="anchored" data-anchor-id="mean">Mean</h4>
<p>The mean is the average of all values in a dataset.</p>
<p>Formula: <span class="math inline">\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}</span></p>
<p>Można też zapisać ten wzór w postaci:</p>
<p><span class="math inline">\bar{x} = \frac{\sum_{i=1}^{k} x_i f_i}{n}</span></p>
<p>gdzie <span class="math inline">f_i</span> to częstość bezwzględna (liczba wystąpień, waga bezwzględna) <span class="math inline">i</span>-tej wartości, a <span class="math inline">k</span> to liczba różnych wartości cechy (liczba wartości wyróżnionych).</p>
<p>Z użyciem częstości względnych:</p>
<p><span class="math inline">\bar{x} = \sum_{i=1}^{k} x_i p_i</span></p>
<p>gdzie <span class="math inline">p_i</span> to częstość względna (frakcja, waga znormalizowana) <span class="math inline">i</span>-tej wartości, a <span class="math inline">k</span> to liczba różnych wartości cechy (liczba wartości wyróżnionych).</p>
<section id="manual-calculation-for-company-x" class="level5">
<h5 class="anchored" data-anchor-id="manual-calculation-for-company-x">Manual Calculation for Company X</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Value (<span class="math inline">x_i</span>)</th>
<th>Frequency (<span class="math inline">f_i</span>)</th>
<th><span class="math inline">x_i \cdot f_i</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>3</td>
<td>6</td>
</tr>
<tr class="even">
<td>3</td>
<td>6</td>
<td>18</td>
</tr>
<tr class="odd">
<td>4</td>
<td>5</td>
<td>20</td>
</tr>
<tr class="even">
<td>5</td>
<td>4</td>
<td>20</td>
</tr>
<tr class="odd">
<td>20</td>
<td>1</td>
<td>20</td>
</tr>
<tr class="even">
<td>35</td>
<td>1</td>
<td>35</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>n = 20</td>
<td>Sum = 119</td>
</tr>
</tbody>
</table>
<p><span class="math inline">\bar{x} = \frac{119}{20} = 5.95</span></p>
</section>
<section id="manual-calculation-for-company-y" class="level5">
<h5 class="anchored" data-anchor-id="manual-calculation-for-company-y">Manual Calculation for Company Y</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Value (<span class="math inline">x_i</span>)</th>
<th>Frequency (<span class="math inline">f_i</span>)</th>
<th><span class="math inline">x_i \cdot f_i</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td>2</td>
<td>6</td>
</tr>
<tr class="even">
<td>4</td>
<td>6</td>
<td>24</td>
</tr>
<tr class="odd">
<td>5</td>
<td>6</td>
<td>30</td>
</tr>
<tr class="even">
<td>6</td>
<td>3</td>
<td>18</td>
</tr>
<tr class="odd">
<td>7</td>
<td>2</td>
<td>14</td>
</tr>
<tr class="even">
<td>8</td>
<td>1</td>
<td>8</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>n = 20</td>
<td>Sum = 100</td>
</tr>
</tbody>
</table>
<p><span class="math inline">\bar{y} = \frac{100}{20} = 5</span></p>
</section>
<section id="r-verification" class="level5">
<h5 class="anchored" data-anchor-id="r-verification">R Verification</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">20</span>,<span class="dv">35</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.95</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</section>
</section>
<section id="median-1" class="level4">
<h4 class="anchored" data-anchor-id="median-1">Median</h4>
<p>The median is the middle value when the data is ordered.</p>
<section id="manual-calculation-for-company-x-1" class="level5">
<h5 class="anchored" data-anchor-id="manual-calculation-for-company-x-1">Manual Calculation for Company X</h5>
<p>Ordered data: [2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 20, 35]</p>
<p>n = 20 (even), so we take the average of the 10th and 11th values:</p>
<p>Median = <span class="math inline">\frac{4 + 4}{2} = 4</span></p>
</section>
<section id="manual-calculation-for-company-y-1" class="level5">
<h5 class="anchored" data-anchor-id="manual-calculation-for-company-y-1">Manual Calculation for Company Y</h5>
<p>Ordered data: [3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 7, 7, 8]</p>
<p>n = 20 (even), so we take the average of the 10th and 11th values:</p>
<p>Median = <span class="math inline">\frac{5 + 5}{2} = 5</span></p>
</section>
<section id="r-verification-1" class="level5">
<h5 class="anchored" data-anchor-id="r-verification-1">R Verification</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
</section>
</section>
<section id="mode-1" class="level4">
<h4 class="anchored" data-anchor-id="mode-1">Mode</h4>
<p>The mode is the most frequent value in the dataset.</p>
<p>For Company X, the mode is 3 (appears 6 times). For Company Y, there are two modes: 4 and 5 (both appear 6 times).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to calculate mode</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>get_mode <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  unique_x <span class="ot">&lt;-</span> <span class="fu">unique</span>(x)</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  unique_x[<span class="fu">which.max</span>(<span class="fu">tabulate</span>(<span class="fu">match</span>(x, unique_x)))]</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="fu">get_mode</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_mode</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
</section>
</section>
<section id="measures-of-dispersion" class="level3">
<h3 class="anchored" data-anchor-id="measures-of-dispersion">Measures of Dispersion</h3>
<section id="variance-1" class="level4">
<h4 class="anchored" data-anchor-id="variance-1">Variance</h4>
<p>The variance measures the average squared deviation from the mean.</p>
<p>Formula: <span class="math inline">s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}</span></p>
<p>Poprawka Bessela jest stosowana przy obliczaniu wariancji z próby, aby uzyskać nieobciążony estymator wariancji populacji. W standardowym wzorze na wariancję z próby dzielimy przez <span class="math inline">(n-1)</span> zamiast przez <span class="math inline">n</span>.</p>
<p><strong>Modyfikacje wzoru dla danych pogrupowanych (szereg częstości):</strong></p>
<p>Można też zapisać ten wzór w postaci:</p>
<p><span class="math display">s^2 = \frac{1}{n-1} \sum_{i=1}^{k} f_i(x_i - \bar{x})^2</span></p>
<p>gdzie <span class="math inline">f_i</span> to częstość bezwzględna (liczba wystąpień) <span class="math inline">i</span>-tej wartości.</p>
<p>Gdy w obliczeniach stosujemy częstości względne <span class="math inline">p = f_i/n</span>, gdzie:</p>
<ul>
<li><span class="math inline">f_i</span> to częstość (liczba wystąpień)</li>
<li><span class="math inline">n</span> to całkowita liczebność próby</li>
</ul>
<p>Wzór na wariancję z uwzględnieniem poprawki Bessela przyjmuje postać:</p>
<p><span class="math display">s^2 = \frac{n}{n-1} \sum_{i=1}^{k} p_i(x_i - \bar{x})^2</span></p>
<p>gdzie:</p>
<ul>
<li><span class="math inline">s^2</span> to wariancja z próby</li>
<li><span class="math inline">n</span> to liczebność próby</li>
<li><span class="math inline">p_i</span> to częstość względna <span class="math inline">i</span>-tej wartości</li>
<li><span class="math inline">x_i</span> to <span class="math inline">i</span>-ta wartość cechy</li>
<li><span class="math inline">\bar{x}</span> to średnia arytmetyczna</li>
<li><span class="math inline">k</span> to liczba różnych wartości cechy</li>
</ul>
<p>Kluczowe jest to, że przy stosowaniu częstości względnych mnożymy całe wyrażenie przez czynnik <span class="math inline">\frac{n}{n-1}</span>, który wprowadza poprawkę Bessela.</p>
<section id="manual-calculation-for-company-x-2" class="level5">
<h5 class="anchored" data-anchor-id="manual-calculation-for-company-x-2">Manual Calculation for Company X</h5>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 22%">
<col style="width: 27%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">f_i</span></th>
<th><span class="math inline">x_i - \bar{x}</span></th>
<th><span class="math inline">(x_i - \bar{x})^2</span></th>
<th><span class="math inline">f_i(x_i - \bar{x})^2</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>3</td>
<td>-3.95</td>
<td>15.6025</td>
<td>46.8075</td>
</tr>
<tr class="even">
<td>3</td>
<td>6</td>
<td>-2.95</td>
<td>8.7025</td>
<td>52.215</td>
</tr>
<tr class="odd">
<td>4</td>
<td>5</td>
<td>-1.95</td>
<td>3.8025</td>
<td>19.0125</td>
</tr>
<tr class="even">
<td>5</td>
<td>4</td>
<td>-0.95</td>
<td>0.9025</td>
<td>3.61</td>
</tr>
<tr class="odd">
<td>20</td>
<td>1</td>
<td>14.05</td>
<td>197.4025</td>
<td>197.4025</td>
</tr>
<tr class="even">
<td>35</td>
<td>1</td>
<td>29.05</td>
<td>843.9025</td>
<td>843.9025</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>20</td>
<td></td>
<td></td>
<td>1162.95</td>
</tr>
</tbody>
</table>
<p><span class="math inline">s^2 = \frac{1162.95}{19} = 61.21</span></p>
</section>
<section id="manual-calculation-for-company-y-2" class="level5">
<h5 class="anchored" data-anchor-id="manual-calculation-for-company-y-2">Manual Calculation for Company Y</h5>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 22%">
<col style="width: 27%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">y_i</span></th>
<th><span class="math inline">f_i</span></th>
<th><span class="math inline">y_i - \bar{y}</span></th>
<th><span class="math inline">(y_i - \bar{y})^2</span></th>
<th><span class="math inline">f_i(y_i - \bar{y})^2</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td>2</td>
<td>-2</td>
<td>4</td>
<td>8</td>
</tr>
<tr class="even">
<td>4</td>
<td>6</td>
<td>-1</td>
<td>1</td>
<td>6</td>
</tr>
<tr class="odd">
<td>5</td>
<td>6</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>6</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>3</td>
</tr>
<tr class="odd">
<td>7</td>
<td>2</td>
<td>2</td>
<td>4</td>
<td>8</td>
</tr>
<tr class="even">
<td>8</td>
<td>1</td>
<td>3</td>
<td>9</td>
<td>9</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>20</td>
<td></td>
<td></td>
<td>34</td>
</tr>
</tbody>
</table>
<p><span class="math inline">s^2 = \frac{34}{19} = 1.79</span></p>
</section>
<section id="r-verification-2" class="level5">
<h5 class="anchored" data-anchor-id="r-verification-2">R Verification</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 61.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.79</code></pre>
</div>
</div>
</section>
</section>
<section id="standard-deviation-1" class="level4">
<h4 class="anchored" data-anchor-id="standard-deviation-1">Standard Deviation</h4>
<p>The standard deviation is the square root of the variance.</p>
<p>Formula: <span class="math inline">s = \sqrt{s^2}</span></p>
<ul>
<li>For Company X: <span class="math inline">s = \sqrt{61.21} = 7.82</span></li>
<li>For Company Y: <span class="math inline">s = \sqrt{1.79} = 1.34</span></li>
</ul>
<section id="r-verification-3" class="level5">
<h5 class="anchored" data-anchor-id="r-verification-3">R Verification</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.82</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.34</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="quartiles" class="level3">
<h3 class="anchored" data-anchor-id="quartiles">Quartiles</h3>
<p>Quartiles divide the dataset into four equal parts.</p>
<section id="manual-calculation-for-company-x-3" class="level4">
<h4 class="anchored" data-anchor-id="manual-calculation-for-company-x-3">Manual Calculation for Company X</h4>
<p>Ordered data: [2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 20, 35]</p>
<ul>
<li>Q1 (25th percentile): median of first 10 numbers = 3</li>
<li>Q2 (50th percentile, median): 4</li>
<li>Q3 (75th percentile): median of last 10 numbers = 5</li>
</ul>
</section>
<section id="manual-calculation-for-company-y-3" class="level4">
<h4 class="anchored" data-anchor-id="manual-calculation-for-company-y-3">Manual Calculation for Company Y</h4>
<p>Ordered data: [3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 7, 7, 8]</p>
<ul>
<li>Q1 (25th percentile): median of first 10 numbers = 4</li>
<li>Q2 (50th percentile, median): 5</li>
<li>Q3 (75th percentile): median of last 10 numbers = 6</li>
</ul>
</section>
<section id="r-verification-4" class="level4">
<h4 class="anchored" data-anchor-id="r-verification-4">R Verification</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
   2    3    4    5   35 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
   3    4    5    6    8 </code></pre>
</div>
</div>
</section>
<section id="iqr" class="level4">
<h4 class="anchored" data-anchor-id="iqr">IQR</h4>
<ul>
<li><span class="math inline">IQR_x = 5 - 3 = 2</span></li>
<li><span class="math inline">IQR_y = 6 - 4 = 2</span></li>
</ul>
</section>
</section>
<section id="tukey-box-plot" class="level3">
<h3 class="anchored" data-anchor-id="tukey-box-plot">Tukey Box Plot</h3>
<p>A Tukey box plot visually represents the distribution of data based on quartiles. We’ll use ggplot2 to create the plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Company =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"X"</span>, <span class="st">"Y"</span>), <span class="at">each =</span> <span class="dv">20</span>),</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Salary =</span> <span class="fu">c</span>(X, Y)</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the box plot</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> Company, <span class="at">y =</span> Salary, <span class="at">fill =</span> Company)) <span class="sc">+</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Salary Distribution in Companies X and Y"</span>,</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Company"</span>,</span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Salary (thousands of euros)"</span>) <span class="sc">+</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"X"</span> <span class="ot">=</span> <span class="st">"#69b3a2"</span>, <span class="st">"Y"</span> <span class="ot">=</span> <span class="st">"#404080"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the box plot</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> Company, <span class="at">y =</span> Salary, <span class="at">fill =</span> Company)) <span class="sc">+</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outliers =</span> F) <span class="sc">+</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Salary Distribution in Companies X and Y"</span>,</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Company"</span>,</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Salary (thousands of euros)"</span>) <span class="sc">+</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"X"</span> <span class="ot">=</span> <span class="st">"#69b3a2"</span>, <span class="st">"Y"</span> <span class="ot">=</span> <span class="st">"#404080"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-35-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="interpreting-the-box-plot" class="level4">
<h4 class="anchored" data-anchor-id="interpreting-the-box-plot">Interpreting the Box Plot</h4>
<ol type="1">
<li>The box represents the interquartile range (IQR) from Q1 to Q3.</li>
<li>The line inside the box is the median (Q2).</li>
<li>Whiskers extend to the smallest and largest values within 1.5 * IQR.</li>
<li>Points beyond the whiskers are considered outliers.</li>
</ol>
</section>
</section>
<section id="comparison-of-results" class="level3">
<h3 class="anchored" data-anchor-id="comparison-of-results">Comparison of Results</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Measure</th>
<th>Company X</th>
<th>Company Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mean</td>
<td>5.95</td>
<td>5.00</td>
</tr>
<tr class="even">
<td>Median</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="odd">
<td>Mode</td>
<td>3</td>
<td>4 and 5</td>
</tr>
<tr class="even">
<td>Variance</td>
<td>61.21</td>
<td>1.79</td>
</tr>
<tr class="odd">
<td>Standard Deviation</td>
<td>7.82</td>
<td>1.34</td>
</tr>
<tr class="even">
<td>Q1</td>
<td>3</td>
<td>4</td>
</tr>
<tr class="odd">
<td>Q3</td>
<td>5</td>
<td>6</td>
</tr>
</tbody>
</table>
<section id="key-observations" class="level4">
<h4 class="anchored" data-anchor-id="key-observations">Key Observations:</h4>
<ol type="1">
<li>Central Tendency: Company X has a higher mean but lower median than Company Y, indicating a right-skewed distribution for Company X.</li>
<li>Dispersion: Company X shows much higher variance and standard deviation, suggesting greater salary disparities.</li>
<li>Distribution Shape: Company Y’s salaries are more tightly clustered, while Company X has extreme values (potential outliers) that significantly affect its mean and variance.</li>
<li>Quartiles: Company Y’s interquartile range (Q3 - Q1) is slightly larger, but its overall range is much smaller than Company X’s.</li>
</ol>
</section>
</section>
</section>
<section id="exercise-2.-comparing-electoral-district-size-variation-between-countries" class="level2" data-number="5.11">
<h2 data-number="5.11" class="anchored" data-anchor-id="exercise-2.-comparing-electoral-district-size-variation-between-countries"><span class="header-section-number">5.11</span> Exercise 2. Comparing Electoral District Size Variation Between Countries</h2>
<section id="data-1" class="level3">
<h3 class="anchored" data-anchor-id="data-1">Data</h3>
<p>We have electoral district size data from two countries:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">17</span>, <span class="dv">19</span>)  <span class="co"># Country high variance</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">12</span>, <span class="dv">13</span>)  <span class="co"># Country low variance</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country X (High var.)"</span> <span class="ot">=</span> x,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country Y (Low var.)"</span> <span class="ot">=</span> y</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Country.X..High.var..</th>
<th style="text-align: right;">Country.Y..Low.var..</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: right;">11</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: right;">15</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="even">
<td style="text-align: right;">19</td>
<td style="text-align: right;">13</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="measures-of-central-tendency-2" class="level3">
<h3 class="anchored" data-anchor-id="measures-of-central-tendency-2">Measures of Central Tendency</h3>
<section id="arithmetic-mean-1" class="level4">
<h4 class="anchored" data-anchor-id="arithmetic-mean-1">Arithmetic Mean</h4>
<p>Formula: <span class="math inline">\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}</span></p>
<section id="calculations-for-country-x" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-x">Calculations for Country X</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Element</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>3</td>
</tr>
<tr class="odd">
<td>3</td>
<td>5</td>
</tr>
<tr class="even">
<td>4</td>
<td>7</td>
</tr>
<tr class="odd">
<td>5</td>
<td>9</td>
</tr>
<tr class="even">
<td>6</td>
<td>11</td>
</tr>
<tr class="odd">
<td>7</td>
<td>13</td>
</tr>
<tr class="even">
<td>8</td>
<td>15</td>
</tr>
<tr class="odd">
<td>9</td>
<td>17</td>
</tr>
<tr class="even">
<td>10</td>
<td>19</td>
</tr>
<tr class="odd">
<td>Sum</td>
<td>100</td>
</tr>
</tbody>
</table>
<p><span class="math inline">\bar{x} = \frac{100}{10} = 10</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">"R"</span> <span class="ot">=</span> mean_x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
    10     10 </code></pre>
</div>
</div>
</section>
<section id="calculations-for-country-y" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-y">Calculations for Country Y</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Element</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>8</td>
</tr>
<tr class="even">
<td>2</td>
<td>9</td>
</tr>
<tr class="odd">
<td>3</td>
<td>9</td>
</tr>
<tr class="even">
<td>4</td>
<td>10</td>
</tr>
<tr class="odd">
<td>5</td>
<td>10</td>
</tr>
<tr class="even">
<td>6</td>
<td>11</td>
</tr>
<tr class="odd">
<td>7</td>
<td>11</td>
</tr>
<tr class="even">
<td>8</td>
<td>12</td>
</tr>
<tr class="odd">
<td>9</td>
<td>12</td>
</tr>
<tr class="even">
<td>10</td>
<td>13</td>
</tr>
<tr class="odd">
<td>Sum</td>
<td>105</td>
</tr>
</tbody>
</table>
<p><span class="math inline">\bar{y} = \frac{105}{10} = 10.5</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>mean_y <span class="ot">&lt;-</span> <span class="fu">mean</span>(y)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">10.5</span>, <span class="st">"R"</span> <span class="ot">=</span> mean_y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
  10.5   10.5 </code></pre>
</div>
</div>
</section>
</section>
<section id="median-2" class="level4">
<h4 class="anchored" data-anchor-id="median-2">Median</h4>
<p>The median is the middle value in an ordered dataset.</p>
<section id="calculations-for-country-x-1" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-x-1">Calculations for Country X</h5>
<p>Ordered data: 1, 3, 5, 7, 9, 11, 13, 15, 17, 19</p>
<p>For n = 10 (even number of observations): Middle positions: 5 and 6 Middle values: 9 and 11</p>
<p>Median = <span class="math inline">\frac{9 + 11}{2} = 10</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>median_x <span class="ot">&lt;-</span> <span class="fu">median</span>(x)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="dv">10</span>, <span class="st">"R"</span> <span class="ot">=</span> median_x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
    10     10 </code></pre>
</div>
</div>
</section>
<section id="calculations-for-country-y-1" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-y-1">Calculations for Country Y</h5>
<p>Ordered data: 8, 9, 9, 10, 10, 11, 11, 12, 12, 13</p>
<p>For n = 10 (even number of observations): Middle positions: 5 and 6 Middle values: 10 and 11</p>
<p>Median = <span class="math inline">\frac{10 + 11}{2} = 10.5</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>median_y <span class="ot">&lt;-</span> <span class="fu">median</span>(y)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">10.5</span>, <span class="st">"R"</span> <span class="ot">=</span> median_y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
  10.5   10.5 </code></pre>
</div>
</div>
</section>
</section>
<section id="mode-2" class="level4">
<h4 class="anchored" data-anchor-id="mode-2">Mode</h4>
<section id="calculations-for-country-x-2" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-x-2">Calculations for Country X</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Value</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td>5</td>
<td>1</td>
</tr>
<tr class="even">
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td>9</td>
<td>1</td>
</tr>
<tr class="even">
<td>11</td>
<td>1</td>
</tr>
<tr class="odd">
<td>13</td>
<td>1</td>
</tr>
<tr class="even">
<td>15</td>
<td>1</td>
</tr>
<tr class="odd">
<td>17</td>
<td>1</td>
</tr>
<tr class="even">
<td>19</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Conclusion: No mode (all values occur once)</p>
</section>
<section id="calculations-for-country-y-2" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-y-2">Calculations for Country Y</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Value</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8</td>
<td>1</td>
</tr>
<tr class="even">
<td>9</td>
<td>2</td>
</tr>
<tr class="odd">
<td>10</td>
<td>2</td>
</tr>
<tr class="even">
<td>11</td>
<td>2</td>
</tr>
<tr class="odd">
<td>12</td>
<td>2</td>
</tr>
<tr class="even">
<td>13</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Conclusion: Four modes: 9, 10, 11, 12 (each occurs twice)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency tables</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>table_x <span class="ot">&lt;-</span> <span class="fu">table</span>(x)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>table_y <span class="ot">&lt;-</span> <span class="fu">table</span>(y)</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country X"</span> <span class="ot">=</span> table_x,</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country Y"</span> <span class="ot">=</span> table_y</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`Country X`
x
 1  3  5  7  9 11 13 15 17 19 
 1  1  1  1  1  1  1  1  1  1 

$`Country Y`
y
 8  9 10 11 12 13 
 1  2  2  2  2  1 </code></pre>
</div>
</div>
</section>
</section>
<section id="variance-2" class="level4">
<h4 class="anchored" data-anchor-id="variance-2">Variance</h4>
<p>Variance measures the average squared deviation from the mean.</p>
<p>Formula: <span class="math inline">s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}</span></p>
<section id="calculations-for-country-x-3" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-x-3">Calculations for Country X</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">(x_i - \bar{x})</span></th>
<th><span class="math inline">(x_i - \bar{x})^2</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>-9</td>
<td>81</td>
</tr>
<tr class="even">
<td>3</td>
<td>-7</td>
<td>49</td>
</tr>
<tr class="odd">
<td>5</td>
<td>-5</td>
<td>25</td>
</tr>
<tr class="even">
<td>7</td>
<td>-3</td>
<td>9</td>
</tr>
<tr class="odd">
<td>9</td>
<td>-1</td>
<td>1</td>
</tr>
<tr class="even">
<td>11</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>13</td>
<td>3</td>
<td>9</td>
</tr>
<tr class="even">
<td>15</td>
<td>5</td>
<td>25</td>
</tr>
<tr class="odd">
<td>17</td>
<td>7</td>
<td>49</td>
</tr>
<tr class="even">
<td>19</td>
<td>9</td>
<td>81</td>
</tr>
<tr class="odd">
<td>Sum</td>
<td></td>
<td>330</td>
</tr>
</tbody>
</table>
<p><span class="math inline">s^2_X = \frac{330}{9} = 36.67</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>var_x <span class="ot">&lt;-</span> <span class="fu">var</span>(x)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">36.67</span>, <span class="st">"R"</span> <span class="ot">=</span> var_x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
 36.67  36.67 </code></pre>
</div>
</div>
</section>
<section id="calculations-for-country-y-3" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-y-3">Calculations for Country Y</h5>
<table class="caption-top table">
<thead>
<tr class="header">
<th><span class="math inline">x_i</span></th>
<th><span class="math inline">(y_i - \bar{y})</span></th>
<th><span class="math inline">(y_i - \bar{y})^2</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8</td>
<td>-2.5</td>
<td>6.25</td>
</tr>
<tr class="even">
<td>9</td>
<td>-1.5</td>
<td>2.25</td>
</tr>
<tr class="odd">
<td>9</td>
<td>-1.5</td>
<td>2.25</td>
</tr>
<tr class="even">
<td>10</td>
<td>-0.5</td>
<td>0.25</td>
</tr>
<tr class="odd">
<td>10</td>
<td>-0.5</td>
<td>0.25</td>
</tr>
<tr class="even">
<td>11</td>
<td>0.5</td>
<td>0.25</td>
</tr>
<tr class="odd">
<td>11</td>
<td>0.5</td>
<td>0.25</td>
</tr>
<tr class="even">
<td>12</td>
<td>1.5</td>
<td>2.25</td>
</tr>
<tr class="odd">
<td>12</td>
<td>1.5</td>
<td>2.25</td>
</tr>
<tr class="even">
<td>13</td>
<td>2.5</td>
<td>6.25</td>
</tr>
<tr class="odd">
<td>Sum</td>
<td></td>
<td>22.5</td>
</tr>
</tbody>
</table>
<p><span class="math inline">s^2_Y = \frac{22.5}{9} = 2.5</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>var_y <span class="ot">&lt;-</span> <span class="fu">var</span>(y)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">2.5</span>, <span class="st">"R"</span> <span class="ot">=</span> var_y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
   2.5    2.5 </code></pre>
</div>
</div>
</section>
</section>
<section id="standard-deviation-2" class="level4">
<h4 class="anchored" data-anchor-id="standard-deviation-2">Standard Deviation</h4>
<p>Standard deviation is the square root of variance. It measures variability in the same units as the data.</p>
<p>Formula: <span class="math inline">s = \sqrt{s^2}</span></p>
<section id="calculations-for-country-x-4" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-x-4">Calculations for Country X</h5>
<p>Using previously calculated variance: <span class="math inline">s^2_X = 36.67</span></p>
<p>Calculate square root: <span class="math inline">s_X = \sqrt{36.67} \approx 6.06</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step</th>
<th>Calculation</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1. Variance</td>
<td><span class="math inline">s^2_X</span></td>
<td>36.67</td>
</tr>
<tr class="even">
<td>2. Square root</td>
<td><span class="math inline">\sqrt{36.67}</span></td>
<td>6.06</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>sd_x <span class="ot">&lt;-</span> <span class="fu">sd</span>(x)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">6.06</span>, <span class="st">"R"</span> <span class="ot">=</span> sd_x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
 6.060  6.055 </code></pre>
</div>
</div>
</section>
<section id="calculations-for-country-y-4" class="level5">
<h5 class="anchored" data-anchor-id="calculations-for-country-y-4">Calculations for Country Y</h5>
<p>Using previously calculated variance: <span class="math inline">s^2_Y = 2.5</span></p>
<p>Calculate square root: <span class="math inline">s_Y = \sqrt{2.5} \approx 1.58</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step</th>
<th>Calculation</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1. Variance</td>
<td><span class="math inline">s^2_Y</span></td>
<td>2.5</td>
</tr>
<tr class="even">
<td>2. Square root</td>
<td><span class="math inline">\sqrt{2.5}</span></td>
<td>1.58</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>sd_y <span class="ot">&lt;-</span> <span class="fu">sd</span>(y)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">1.58</span>, <span class="st">"R"</span> <span class="ot">=</span> sd_y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
 1.580  1.581 </code></pre>
</div>
</div>
<p>Interpretation:</p>
<ul>
<li>Country X: Average deviation from the mean is about 6 seats</li>
<li>Country Y: Average deviation from the mean is about 1.6 seats</li>
</ul>
</section>
</section>
</section>
<section id="coefficient-of-variation-cv" class="level3">
<h3 class="anchored" data-anchor-id="coefficient-of-variation-cv">Coefficient of Variation (CV)</h3>
<p>The coefficient of variation is the ratio of standard deviation to mean, expressed as a percentage.</p>
<p>Formula: <span class="math inline">CV = \frac{s}{\bar{x}} \times 100\%</span></p>
<section id="calculations-for-country-x-5" class="level4">
<h4 class="anchored" data-anchor-id="calculations-for-country-x-5">Calculations for Country X</h4>
<p><span class="math inline">CV_X = \frac{6.06}{10} \times 100\% = 60.6\%</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Component</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Standard deviation (<span class="math inline">s</span>)</td>
<td>6.06</td>
</tr>
<tr class="even">
<td>Mean (<span class="math inline">\bar{x}</span>)</td>
<td>10</td>
</tr>
<tr class="odd">
<td>CV</td>
<td>60.6%</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>cv_x <span class="ot">&lt;-</span> <span class="fu">sd</span>(x) <span class="sc">/</span> <span class="fu">mean</span>(x) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">60.6</span>, <span class="st">"R"</span> <span class="ot">=</span> cv_x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
 60.60  60.55 </code></pre>
</div>
</div>
</section>
<section id="calculations-for-country-y-5" class="level4">
<h4 class="anchored" data-anchor-id="calculations-for-country-y-5">Calculations for Country Y</h4>
<p><span class="math inline">CV_Y = \frac{1.58}{10.5} \times 100\% = 15.0\%</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Component</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Standard deviation (<span class="math inline">s</span>)</td>
<td>1.58</td>
</tr>
<tr class="even">
<td>Mean (<span class="math inline">\bar{x}</span>)</td>
<td>10.5</td>
</tr>
<tr class="odd">
<td>CV</td>
<td>15.0%</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>cv_y <span class="ot">&lt;-</span> <span class="fu">sd</span>(y) <span class="sc">/</span> <span class="fu">mean</span>(y) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">"Manual"</span> <span class="ot">=</span> <span class="fl">15.0</span>, <span class="st">"R"</span> <span class="ot">=</span> cv_y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Manual      R 
 15.00  15.06 </code></pre>
</div>
</div>
</section>
</section>
<section id="quartiles-and-interquartile-range-iqr" class="level3">
<h3 class="anchored" data-anchor-id="quartiles-and-interquartile-range-iqr">Quartiles and Interquartile Range (IQR)</h3>
<section id="methods-for-calculating-quartiles" class="level4">
<h4 class="anchored" data-anchor-id="methods-for-calculating-quartiles">Methods for Calculating Quartiles</h4>
<p>There are different methods for calculating quartiles. In our manual calculations, we’ll use the median-excluding method:</p>
<ol type="1">
<li>Split the series at the median</li>
<li>Median is not included in quartile calculations</li>
<li>Calculate median of each part - these will be Q1 and Q3 respectively</li>
</ol>
</section>
<section id="calculations-for-country-x-6" class="level4">
<h4 class="anchored" data-anchor-id="calculations-for-country-x-6">Calculations for Country X</h4>
<p>Ordered data: 1, 3, 5, 7, 9, 11, 13, 15, 17, 19</p>
<p>Median = 10 (not included in quartile calculations)</p>
<p>Lower half: 1, 3, 5, 7, 9 Q1 = median of lower half = 5</p>
<p>Upper half: 11, 13, 15, 17, 19 Q3 = median of upper half = 15</p>
<p>IQR = Q3 - Q1 = 15 - 5 = 10</p>
</section>
<section id="calculations-for-country-y-6" class="level4">
<h4 class="anchored" data-anchor-id="calculations-for-country-y-6">Calculations for Country Y</h4>
<p>Ordered data: 8, 9, 9, 10, 10, 11, 11, 12, 12, 13</p>
<p>Median = 10.5 (not included in quartile calculations)</p>
<p>Lower half: 8, 9, 9, 10, 10 Q1 = median of lower half = 9</p>
<p>Upper half: 11, 11, 12, 12, 13 Q3 = median of upper half = 12</p>
<p>IQR = Q3 - Q1 = 12 - 9 = 3</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparison of different quartile calculation methods in R</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>methods_comparison <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Method =</span> <span class="fu">c</span>(<span class="st">"Manual (excl. median)"</span>, </span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"R type=1"</span>, <span class="st">"R type=2"</span>, <span class="st">"R type=7 (default)"</span>),</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q1 Country X"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">5</span>, </span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(x, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">1</span>),</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(x, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">2</span>),</span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(x, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">7</span>)),</span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q3 Country X"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">15</span>,</span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(x, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">1</span>),</span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(x, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">2</span>),</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(x, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">7</span>)),</span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q1 Country Y"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">9</span>,</span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(y, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">1</span>),</span>
<span id="cb117-15"><a href="#cb117-15" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(y, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">2</span>),</span>
<span id="cb117-16"><a href="#cb117-16" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(y, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">7</span>)),</span>
<span id="cb117-17"><a href="#cb117-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q3 Country Y"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">12</span>,</span>
<span id="cb117-18"><a href="#cb117-18" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(y, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">1</span>),</span>
<span id="cb117-19"><a href="#cb117-19" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(y, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">2</span>),</span>
<span id="cb117-20"><a href="#cb117-20" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">quantile</span>(y, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">7</span>))</span>
<span id="cb117-21"><a href="#cb117-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb117-22"><a href="#cb117-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-23"><a href="#cb117-23" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(methods_comparison, <span class="at">digits =</span> <span class="dv">2</span>,</span>
<span id="cb117-24"><a href="#cb117-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Comparison of different quartile calculation methods"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Comparison of different quartile calculation methods</caption>
<colgroup>
<col style="width: 29%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Method</th>
<th style="text-align: right;">Q1.Country.X</th>
<th style="text-align: right;">Q3.Country.X</th>
<th style="text-align: right;">Q1.Country.Y</th>
<th style="text-align: right;">Q3.Country.Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Manual (excl. median)</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: right;">12.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">R type=1</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: right;">12.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R type=2</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">15.0</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: right;">12.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">R type=7 (default)</td>
<td style="text-align: right;">5.5</td>
<td style="text-align: right;">14.5</td>
<td style="text-align: right;">9.25</td>
<td style="text-align: right;">11.75</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="explanation-of-different-quartile-calculation-methods" class="level4">
<h4 class="anchored" data-anchor-id="explanation-of-different-quartile-calculation-methods">Explanation of Different Quartile Calculation Methods</h4>
<ol type="1">
<li><strong>Manual method (excluding median)</strong>:
<ul>
<li>Splits data into two parts</li>
<li>Excludes median</li>
<li>Finds median of each part</li>
</ul></li>
<li><strong>R type=1</strong>:
<ul>
<li>First method in R</li>
<li>Uses whole positions</li>
<li>No interpolation</li>
</ul></li>
<li><strong>R type=2</strong>:
<ul>
<li>Second method in R</li>
<li>Uses whole positions</li>
<li>Interpolates when position is not whole</li>
</ul></li>
<li><strong>R type=7 (default)</strong>:
<ul>
<li>Default method in R</li>
<li>Uses quantile()[5] from SAS</li>
<li>Interpolates according to Hyndman and Fan method</li>
</ul></li>
</ol>
</section>
</section>
<section id="results-comparison" class="level3">
<h3 class="anchored" data-anchor-id="results-comparison">Results Comparison</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>summary_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Measure =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"Median"</span>, <span class="st">"Mode"</span>, <span class="st">"Range"</span>, <span class="st">"Variance"</span>, </span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Std. Dev."</span>, <span class="st">"Q1"</span>, <span class="st">"Q3"</span>, <span class="st">"IQR"</span>, <span class="st">"CV (%)"</span>),</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country X"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="st">"none"</span>, <span class="dv">18</span>, <span class="fl">36.67</span>, <span class="fl">6.06</span>, <span class="dv">5</span>, <span class="dv">15</span>, <span class="dv">10</span>, <span class="fl">60.6</span>),</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Country Y"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">10.5</span>, <span class="fl">10.5</span>, <span class="st">"9,10,11,12"</span>, <span class="dv">5</span>, <span class="fl">2.5</span>, <span class="fl">1.58</span>, <span class="dv">9</span>, <span class="dv">12</span>, <span class="dv">3</span>, <span class="fl">15.0</span>)</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(summary_df, </span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Summary of all statistical measures"</span>,</span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">align =</span> <span class="fu">c</span>(<span class="st">'l'</span>, <span class="st">'r'</span>, <span class="st">'r'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Summary of all statistical measures</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Measure</th>
<th style="text-align: right;">Country.X</th>
<th style="text-align: right;">Country.Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mean</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Median</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mode</td>
<td style="text-align: right;">none</td>
<td style="text-align: right;">9,10,11,12</td>
</tr>
<tr class="even">
<td style="text-align: left;">Range</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Variance</td>
<td style="text-align: right;">36.67</td>
<td style="text-align: right;">2.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Std. Dev.</td>
<td style="text-align: right;">6.06</td>
<td style="text-align: right;">1.58</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Q1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Q3</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">IQR</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">CV (%)</td>
<td style="text-align: right;">60.6</td>
<td style="text-align: right;">15</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="comparison-using-box-plot" class="level3">
<h3 class="anchored" data-anchor-id="comparison-using-box-plot">Comparison using Box Plot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">country =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"X"</span>, <span class="st">"Y"</span>), <span class="at">each =</span> <span class="dv">10</span>),</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="fu">c</span>(x, y)</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic plot</span></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_long, <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> size, <span class="at">fill =</span> country)) <span class="sc">+</span></span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>) <span class="sc">+</span>  <span class="co"># Disable default outlier points</span></span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span>  <span class="co"># Add points with transparency</span></span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"X"</span> <span class="ot">=</span> <span class="st">"#FFA07A"</span>, <span class="st">"Y"</span> <span class="ot">=</span> <span class="st">"#98FB98"</span>)) <span class="sc">+</span></span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Comparison of Electoral District Size Variation"</span>,</span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"CV: Country X ="</span>, <span class="fu">round</span>(cv_x, <span class="dv">1</span>), <span class="st">"%, Country Y ="</span>, <span class="fu">round</span>(cv_y, <span class="dv">1</span>), <span class="st">"%"</span>),</span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb119-15"><a href="#cb119-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"District Size"</span></span>
<span id="cb119-16"><a href="#cb119-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb119-17"><a href="#cb119-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb119-18"><a href="#cb119-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb119-19"><a href="#cb119-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-20"><a href="#cb119-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Add quartile annotations</span></span>
<span id="cb119-21"><a href="#cb119-21" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">annotate</span>(</span>
<span id="cb119-22"><a href="#cb119-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"text"</span>, </span>
<span id="cb119-23"><a href="#cb119-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>), </span>
<span id="cb119-24"><a href="#cb119-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="fu">max</span>(x)<span class="sc">+</span><span class="dv">1</span>, <span class="fu">mean</span>(x), <span class="fu">min</span>(x)<span class="sc">-</span><span class="dv">1</span>, <span class="fu">max</span>(y)<span class="sc">+</span><span class="dv">1</span>, <span class="fu">mean</span>(y), <span class="fu">min</span>(y)<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb119-25"><a href="#cb119-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">c</span>(</span>
<span id="cb119-26"><a href="#cb119-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Q3 ="</span>, <span class="fu">quantile</span>(x, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">1</span>)),</span>
<span id="cb119-27"><a href="#cb119-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"M ="</span>, <span class="fu">median</span>(x)),</span>
<span id="cb119-28"><a href="#cb119-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Q1 ="</span>, <span class="fu">quantile</span>(x, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">1</span>)),</span>
<span id="cb119-29"><a href="#cb119-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Q3 ="</span>, <span class="fu">quantile</span>(y, <span class="fl">0.75</span>, <span class="at">type=</span><span class="dv">1</span>)),</span>
<span id="cb119-30"><a href="#cb119-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"M ="</span>, <span class="fu">median</span>(y)),</span>
<span id="cb119-31"><a href="#cb119-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"Q1 ="</span>, <span class="fu">quantile</span>(y, <span class="fl">0.25</span>, <span class="at">type=</span><span class="dv">1</span>))</span>
<span id="cb119-32"><a href="#cb119-32" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb119-33"><a href="#cb119-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb119-34"><a href="#cb119-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/boxplot-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="methodological-notes" class="level3">
<h3 class="anchored" data-anchor-id="methodological-notes">Methodological Notes</h3>
<ol type="1">
<li><strong>Quartile Calculations</strong>:
<ul>
<li>The median-excluding method used may give different results than R’s default functions</li>
<li>Differences in calculation methods don’t affect overall conclusions</li>
<li>Always important to specify the method used in reports</li>
</ul></li>
<li><strong>Visualization</strong>:
<ul>
<li>Box plot effectively shows differences in distributions</li>
<li>Additional points show actual values</li>
<li>Annotations facilitate interpretation</li>
</ul></li>
</ol>
</section>
<section id="application-notes" class="level3">
<h3 class="anchored" data-anchor-id="application-notes">Application Notes</h3>
<ol type="1">
<li><strong>Using the Analysis</strong>:
<ul>
<li>All calculations can be reproduced using the provided R code</li>
<li>Code chunks are self-contained and documented</li>
<li>Data format requirements are clearly specified</li>
</ul></li>
<li><strong>Customization</strong>:
<ul>
<li>Analysis can be adapted for different district size datasets</li>
<li>Visualization parameters can be adjusted for different presentation needs</li>
<li>Statistical methods can be modified based on specific requirements</li>
</ul></li>
</ol>
</section>
<section id="conclusion-1" class="level3">
<h3 class="anchored" data-anchor-id="conclusion-1">Conclusion</h3>
<section id="summary-statistics-comparison" class="level4">
<h4 class="anchored" data-anchor-id="summary-statistics-comparison">Summary Statistics Comparison</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Measure</th>
<th>Country X</th>
<th>Country Y</th>
<th>Relative Difference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mean</td>
<td>10.0</td>
<td>10.5</td>
<td>Similar</td>
</tr>
<tr class="even">
<td>Median</td>
<td>10.0</td>
<td>10.5</td>
<td>Similar</td>
</tr>
<tr class="odd">
<td>Mode</td>
<td>None</td>
<td>Multiple (9,10,11,12)</td>
<td>-</td>
</tr>
<tr class="even">
<td>Range</td>
<td>18</td>
<td>5</td>
<td>3.6× larger in X</td>
</tr>
<tr class="odd">
<td>Variance</td>
<td>36.67</td>
<td>2.5</td>
<td>14.7× larger in X</td>
</tr>
<tr class="even">
<td>IQR</td>
<td>10</td>
<td>3</td>
<td>3.3× larger in X</td>
</tr>
<tr class="odd">
<td>CV</td>
<td>60.6%</td>
<td>15.0%</td>
<td>4.0× larger in X</td>
</tr>
</tbody>
</table>
</section>
<section id="distribution-characteristics" class="level4">
<h4 class="anchored" data-anchor-id="distribution-characteristics">Distribution Characteristics</h4>
<p><strong>Country X</strong>:</p>
<ul>
<li>Uniform distribution pattern</li>
<li>No dominant district size (no mode)</li>
<li>Wide range: 1 to 19 seats</li>
<li>High variability (CV = 60.6%) - Even spread of values across range</li>
</ul>
<p><strong>Country Y</strong>:</p>
<ul>
<li>Clustered distribution pattern</li>
<li>Multiple common sizes (four modes)</li>
<li>Narrow range: 8 to 13 seats</li>
<li>Low variability (CV = 15.0%) - Values concentrated around mean</li>
</ul>
</section>
<section id="box-plot-interpretation" class="level4">
<h4 class="anchored" data-anchor-id="box-plot-interpretation">Box Plot Interpretation</h4>
<p>The box plot visualization reveals:</p>
<p><strong>Structure Elements</strong>:</p>
<ul>
<li>Box: Shows interquartile range (IQR)</li>
<li>Lower edge: First quartile (Q1)</li>
<li>Upper edge: Third quartile (Q3)</li>
<li>Internal line: Median (Q2)</li>
<li>Whiskers: Extend to ±1.5 IQR - Points: Individual district sizes</li>
</ul>
<p><strong>Key Visual Findings</strong>:</p>
<ol type="1">
<li><strong>Box Size</strong>:</li>
</ol>
<ul>
<li>Country X: Large box indicates wide spread of middle 50%</li>
<li>Country Y: Small box shows tight clustering of middle values</li>
</ul>
<ol start="2" type="1">
<li><p><strong>Whisker Length</strong>:</p>
<ul>
<li>Country X: Long whiskers indicate broad overall distribution</li>
<li>Country Y: Short whiskers show limited total spread</li>
</ul></li>
<li><p><strong>Point Distribution</strong>:</p>
<ul>
<li>Country X: Points widely dispersed</li>
<li>Country Y: Points densely clustered</li>
</ul></li>
</ol>
</section>
<section id="key-observations-1" class="level4">
<h4 class="anchored" data-anchor-id="key-observations-1">Key Observations</h4>
<ol type="1">
<li><p><strong>Central Tendency</strong>:</p>
<ul>
<li>Similar average district sizes</li>
<li>Different distribution patterns</li>
<li>Distinct approaches to standardization</li>
</ul></li>
<li><p><strong>Variability Measures</strong>:</p>
<ul>
<li>All metrics show Country X with 3-15 times more variation</li>
<li>Consistent pattern across different statistical measures</li>
<li>Systematic difference in district design</li>
</ul></li>
<li><p><strong>System Design</strong>:</p>
<ul>
<li>Country X: Flexible, varied approach</li>
<li>Country Y: Standardized, uniform approach</li>
<li>Different philosophical approaches to representation</li>
</ul></li>
<li><p><strong>Representative Implications</strong>:</p>
<ul>
<li>Country X: Variable voter-to-representative ratios</li>
<li>Country Y: More consistent representation levels</li>
<li>Different approaches to democratic representation</li>
</ul></li>
</ol>
<p>This analysis demonstrates fundamental differences in electoral system design between the two countries, with Country X adopting a more varied approach and Country Y maintaining greater uniformity in district sizes.</p>
</section>
</section>
</section>
<section id="exercise-3.-understanding-boxplots-through-life-expectancy-data" class="level2" data-number="5.12">
<h2 data-number="5.12" class="anchored" data-anchor-id="exercise-3.-understanding-boxplots-through-life-expectancy-data"><span class="header-section-number">5.12</span> Exercise 3. Understanding Boxplots Through Life Expectancy Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>data_2007 <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="introduction-to-boxplots" class="level2" data-number="5.13">
<h2 data-number="5.13" class="anchored" data-anchor-id="introduction-to-boxplots"><span class="header-section-number">5.13</span> Introduction to Boxplots</h2>
<p>A boxplot (also known as a box-and-whisker plot) reveals key statistics about your data:</p>
<ul>
<li><strong>Median</strong>: The middle line in the box (50th percentile)</li>
<li><strong>First quartile (Q1)</strong>: Bottom of the box (25th percentile)</li>
<li><strong>Third quartile (Q3)</strong>: Top of the box (75th percentile)</li>
<li><strong>Interquartile Range (IQR)</strong>: The height of the box (Q3 - Q1)</li>
<li><strong>Whiskers</strong>: Extend to the most extreme non-outlier values (Tukey’s method: 1.5 × IQR)</li>
<li><strong>Outliers</strong>: Individual points beyond the whiskers</li>
</ul>
<section id="visualizing-life-expectancy" class="level3">
<h3 class="anchored" data-anchor-id="visualizing-life-expectancy">Visualizing Life Expectancy</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_2007, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(continent, lifeExp, <span class="at">FUN =</span> median), <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">24</span>, </span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.fill =</span> <span class="st">"red"</span>, <span class="at">outlier.alpha =</span> <span class="fl">0.6</span>, <span class="at">outlier.size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"darkblue"</span>) <span class="sc">+</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life Expectancy by Continent (2007)"</span>,</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Individual points show raw data; red points indicate outliers"</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Continent"</span>,</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Life Expectancy (years)"</span>) <span class="sc">+</span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">40</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="understanding-the-data" class="level2" data-number="5.14">
<h2 data-number="5.14" class="anchored" data-anchor-id="understanding-the-data"><span class="header-section-number">5.14</span> Understanding the Data</h2>
<section id="median-and-distribution" class="level3">
<h3 class="anchored" data-anchor-id="median-and-distribution">Median and Distribution</h3>
<p>Answer True or False:</p>
<ol type="1">
<li>50% of African countries have life expectancy below 54 years</li>
<li>The median life expectancy in Europe is approximately 78 years</li>
<li>More than 75% of countries in Oceania have life expectancy above 74 years</li>
<li>25% of Asian countries have life expectancy below 65 years</li>
<li>The middle 50% of life expectancies in Europe fall between 74 and 80 years</li>
</ol>
</section>
<section id="spread-and-variation" class="level3">
<h3 class="anchored" data-anchor-id="spread-and-variation">Spread and Variation</h3>
<p>Answer True or False:</p>
<ol type="1">
<li>Asia shows the largest spread (IQR) in life expectancy</li>
<li>Europe has the smallest IQR among all continents</li>
<li>The variation in Africa’s life expectancy is greater than in the Americas</li>
<li>Oceania shows the least variation in life expectancy</li>
<li>The range (excluding outliers) in Asia is approximately 20 years</li>
</ol>
</section>
<section id="outliers-and-extremes" class="level3">
<h3 class="anchored" data-anchor-id="outliers-and-extremes">Outliers and Extremes</h3>
<p>Answer True or False:</p>
<ol type="1">
<li>Africa has two countries with unusually low life expectancy</li>
<li>There are no outliers in Oceania’s distribution</li>
<li>Asia has both high and low outliers</li>
</ol>
</section>
</section>
<section id="changes-over-time" class="level2" data-number="5.15">
<h2 data-number="5.15" class="anchored" data-anchor-id="changes-over-time"><span class="header-section-number">5.15</span> Changes Over Time</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>time_comparison <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1957</span>, <span class="dv">2007</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">factor</span>(year))</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(time_comparison, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp, <span class="at">fill =</span> year)) <span class="sc">+</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">outlier.shape =</span> <span class="dv">21</span>,</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life Expectancy: 1957 vs 2007"</span>,</span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Comparing distribution changes over 50 years"</span>,</span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Continent"</span>,</span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Life Expectancy (years)"</span>,</span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">30</span>, <span class="dv">85</span>, <span class="at">by =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="chapter5_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<section id="time-comparison-questions" class="level3">
<h3 class="anchored" data-anchor-id="time-comparison-questions">Time Comparison Questions</h3>
<p>Answer True or False:</p>
<ol type="1">
<li>The median life expectancy increased in all continents between 1957 and 2007</li>
<li>The variation in life expectancy (IQR) decreased in most continents over time</li>
<li>Africa showed the smallest improvement in median life expectancy</li>
<li>The spread of life expectancies in Asia decreased substantially from 1957 to 2007</li>
<li>Oceania maintained the highest median life expectancy in both time periods</li>
</ol>
</section>
<section id="statistical-summary" class="level3">
<h3 class="anchored" data-anchor-id="statistical-summary">Statistical Summary</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate summary statistics</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1957</span>, <span class="dv">2007</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">%&gt;%</span></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(lifeExp),</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">q1 =</span> <span class="fu">quantile</span>(lifeExp, <span class="fl">0.25</span>),</span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">q3 =</span> <span class="fu">quantile</span>(lifeExp, <span class="fl">0.75</span>),</span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">iqr =</span> <span class="fu">IQR</span>(lifeExp),</span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_outliers =</span> <span class="fu">sum</span>(lifeExp <span class="sc">&lt;</span> (q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> iqr) <span class="sc">|</span> lifeExp <span class="sc">&gt;</span> (q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> iqr))</span>
<span id="cb123-11"><a href="#cb123-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb123-12"><a href="#cb123-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(continent, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'continent'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(summary_stats, <span class="at">digits =</span> <span class="dv">1</span>,</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">"Summary Statistics by Continent and Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Summary Statistics by Continent and Year</caption>
<thead>
<tr class="header">
<th style="text-align: left;">continent</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">median</th>
<th style="text-align: right;">q1</th>
<th style="text-align: right;">q3</th>
<th style="text-align: right;">iqr</th>
<th style="text-align: right;">n_outliers</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Africa</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">40.6</td>
<td style="text-align: right;">37.4</td>
<td style="text-align: right;">44.8</td>
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">52.9</td>
<td style="text-align: right;">47.8</td>
<td style="text-align: right;">59.4</td>
<td style="text-align: right;">11.6</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Americas</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">56.1</td>
<td style="text-align: right;">48.6</td>
<td style="text-align: right;">62.6</td>
<td style="text-align: right;">14.0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Americas</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">72.9</td>
<td style="text-align: right;">71.8</td>
<td style="text-align: right;">76.4</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">48.3</td>
<td style="text-align: right;">41.9</td>
<td style="text-align: right;">54.1</td>
<td style="text-align: right;">12.2</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">72.4</td>
<td style="text-align: right;">65.5</td>
<td style="text-align: right;">75.6</td>
<td style="text-align: right;">10.2</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Europe</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">67.7</td>
<td style="text-align: right;">65.0</td>
<td style="text-align: right;">69.2</td>
<td style="text-align: right;">4.2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Europe</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">78.6</td>
<td style="text-align: right;">75.0</td>
<td style="text-align: right;">79.8</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oceania</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">70.3</td>
<td style="text-align: right;">70.3</td>
<td style="text-align: right;">70.3</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">80.7</td>
<td style="text-align: right;">80.5</td>
<td style="text-align: right;">81.0</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="key-learning-points" class="level2" data-number="5.16">
<h2 data-number="5.16" class="anchored" data-anchor-id="key-learning-points"><span class="header-section-number">5.16</span> Key Learning Points</h2>
<ol type="1">
<li><strong>Distribution Center</strong>:
<ul>
<li>Median shows the typical life expectancy</li>
<li>Changes in median reflect overall improvements</li>
</ul></li>
<li><strong>Spread and Variation</strong>:
<ul>
<li>IQR (box height) indicates data dispersion</li>
<li>Wider boxes suggest more inequality in life expectancy</li>
</ul></li>
<li><strong>Outliers and Extremes</strong>:
<ul>
<li>Outliers often represent countries with unique circumstances</li>
</ul></li>
<li><strong>Time Comparison</strong>:
<ul>
<li>Shows both absolute improvements and changes in variation</li>
<li>Highlights persistent regional disparities</li>
<li>Reveals different rates of progress across continents</li>
</ul></li>
</ol>
</section>
<section id="appendix-summary-tables-for-data-types-and-applicable-statistical-measures" class="level2" data-number="5.17">
<h2 data-number="5.17" class="anchored" data-anchor-id="appendix-summary-tables-for-data-types-and-applicable-statistical-measures"><span class="header-section-number">5.17</span> Appendix: Summary Tables for Data Types and Applicable Statistical Measures</h2>
<section id="table-1-pros-and-cons-of-various-statistical-measures" class="level3">
<h3 class="anchored" data-anchor-id="table-1-pros-and-cons-of-various-statistical-measures">Table 1: Pros and Cons of Various Statistical Measures</h3>
<section id="measures-of-center" class="level4">
<h4 class="anchored" data-anchor-id="measures-of-center">Measures of Center</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Measure</th>
<th>Pros</th>
<th>Cons</th>
<th>Applicable to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mean</td>
<td>- Uses all data points<br>- Allows for further statistical calculations<br>- Ideal for normally distributed data</td>
<td>- Sensitive to outliers<br>- Not ideal for skewed distributions<br>- Not meaningful for nominal data</td>
<td>Interval, Ratio, some Discrete, Continuous</td>
</tr>
<tr class="even">
<td>Median</td>
<td>- Not affected by outliers<br>- Good for skewed distributions<br>- Can be used with ordinal data</td>
<td>- Ignores the actual values of most data points<br>- Less useful for further statistical analyses</td>
<td>Ordinal, Interval, Ratio, Discrete, Continuous</td>
</tr>
<tr class="odd">
<td>Mode</td>
<td>- Can be used with any data type<br>- Good for finding most common category</td>
<td>- May not be unique (multimodal)<br>- Not useful for many types of analyses<br>- Ignores magnitude of differences between values</td>
<td>All types</td>
</tr>
</tbody>
</table>
</section>
<section id="measures-of-variability-1" class="level4">
<h4 class="anchored" data-anchor-id="measures-of-variability-1">Measures of Variability</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Measure</th>
<th>Pros</th>
<th>Cons</th>
<th>Applicable to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Range</td>
<td>- Simple to calculate and understand<br>- Gives quick idea of data spread</td>
<td>- Very sensitive to outliers<br>- Ignores all data between extremes<br>- Not useful for further statistical analyses</td>
<td>Ordinal, Interval, Ratio, Discrete, Continuous</td>
</tr>
<tr class="even">
<td>Interquartile Range (IQR)</td>
<td>- Not affected by outliers<br>- Good for skewed distributions</td>
<td>- Ignores 50% of the data<br>- Less intuitive than range</td>
<td>Ordinal, Interval, Ratio, Discrete, Continuous</td>
</tr>
<tr class="odd">
<td>Variance</td>
<td>- Uses all data points<br>- Basis for many statistical procedures</td>
<td>- Sensitive to outliers<br>- Units are squared (less intuitive)</td>
<td>Interval, Ratio, some Discrete, Continuous</td>
</tr>
<tr class="even">
<td>Standard Deviation</td>
<td>- Uses all data points<br>- Same units as original data<br>- Widely used and understood</td>
<td>- Sensitive to outliers<br>- Assumes roughly normal distribution for interpretation</td>
<td>Interval, Ratio, some Discrete, Continuous</td>
</tr>
<tr class="odd">
<td>Coefficient of Variation</td>
<td>- Allows comparison between datasets with different units or means</td>
<td>- Can be misleading when means are close to zero<br>- Not meaningful for data with negative values</td>
<td>Ratio, some Interval</td>
</tr>
</tbody>
</table>
</section>
<section id="measures-of-correlationassociation" class="level4">
<h4 class="anchored">Measures of Correlation/Association</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Measure</th>
<th>Pros</th>
<th>Cons</th>
<th>Applicable to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Pearson’s r</td>
<td>- Measures linear relationship<br>- Widely used and understood</td>
<td>- Assumes normal distribution<br>- Sensitive to outliers<br>- Only captures linear relationships</td>
<td>Interval, Ratio, Continuous</td>
</tr>
<tr class="even">
<td>Spearman’s rho</td>
<td>- Can be used with ordinal data<br>- Captures monotonic relationships<br>- Less sensitive to outliers</td>
<td>- Loses information by converting to ranks<br>- May miss some types of relationships</td>
<td>Ordinal, Interval, Ratio</td>
</tr>
<tr class="odd">
<td>Kendall’s tau</td>
<td>- Can be used with ordinal data<br>- More robust than Spearman’s for small samples<br>- Has nice interpretation (probability of concordance)</td>
<td>- Loses information by only considering order<br>- Computationally more intensive</td>
<td>Ordinal, Interval, Ratio</td>
</tr>
<tr class="even">
<td>Chi-square</td>
<td>- Can be used with nominal data<br>- Tests independence of categorical variables</td>
<td>- Requires large sample sizes<br>- Sensitive to sample size<br>- Doesn’t measure strength of association</td>
<td>Nominal, Ordinal</td>
</tr>
<tr class="odd">
<td>Cramér’s V</td>
<td>- Can be used with nominal data<br>- Provides measure of strength of association<br>- Normalized to [0,1] range</td>
<td>- Interpretation can be subjective<br>- May overestimate association in small samples</td>
<td>Nominal, Ordinal</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Statistical Measures Applicability / Zastosowanie miar statystycznych
</div>
</div>
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Measure (EN)</th>
<th>Miara (PL)</th>
<th style="text-align: center;">Nominal</th>
<th style="text-align: center;">Ordinal</th>
<th style="text-align: center;">Interval</th>
<th style="text-align: center;">Ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Central Tendency / Tendencja centralna:</strong></td>
<td></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>Mode</td>
<td>Dominanta</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Median</td>
<td>Mediana</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td>Arithmetic Mean</td>
<td>Średnia arytmetyczna</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓*</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Geometric Mean</td>
<td>Średnia geometryczna</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td>Harmonic Mean</td>
<td>Średnia harmoniczna</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td><strong>Dispersion / Rozproszenie:</strong></td>
<td></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td>Range</td>
<td>Rozstęp</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Interquartile Range</td>
<td>Rozstęp międzykwartylowy</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td>Mean Absolute Deviation</td>
<td>Średnie odchylenie bezwzględne</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Variance</td>
<td>Wariancja</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓*</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td>Standard Deviation</td>
<td>Odchylenie standardowe</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓*</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Coefficient of Variation</td>
<td>Współczynnik zmienności</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td><strong>Association / Współzależność:</strong></td>
<td></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td>Chi-square</td>
<td>Chi-kwadrat</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td>Spearman Correlation</td>
<td>Korelacja Spearmana</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Kendall’s Tau</td>
<td>Tau Kendalla</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td>Pearson Correlation</td>
<td>Korelacja Pearsona</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓*</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td>Covariance</td>
<td>Kowariancja</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">✓*</td>
<td style="text-align: center;">✓</td>
</tr>
</tbody>
</table>
<p>* Theoretically problematic but commonly used in practice / Teoretycznie problematyczne, ale powszechnie stosowane w praktyce</p>
<section id="notes-uwagi" class="level3">
<h3 class="anchored" data-anchor-id="notes-uwagi">Notes / Uwagi:</h3>
<ol type="1">
<li>Measurement Scales / Skale pomiarowe:</li>
</ol>
<ul>
<li><strong>Nominal</strong>: Categories without order / Kategorie bez uporządkowania</li>
<li><strong>Ordinal</strong>: Ordered categories / Kategorie uporządkowane</li>
<li><strong>Interval</strong>: Equal intervals, arbitrary zero / Równe interwały, umowne zero</li>
<li><strong>Ratio</strong>: Equal intervals, absolute zero / Równe interwały, absolutne zero</li>
</ul>
<ol start="2" type="1">
<li>Practical Considerations / Aspekty praktyczne:</li>
</ol>
<ul>
<li>Some measures marked with ✓* are commonly used for interval data despite theoretical issues / Niektóre miary oznaczone ✓* są powszechnie stosowane dla danych przedziałowych pomimo problemów teoretycznych</li>
<li>Choice of measure should consider both theoretical appropriateness and practical utility / Wybór miary powinien uwzględniać zarówno poprawność teoretyczną jak i użyteczność praktyczną</li>
<li>More restrictive scales (ratio) allow all measures from less restrictive scales / Bardziej restrykcyjne skale (ilorazowe) pozwalają na wszystkie miary z mniej restrykcyjnych skal</li>
</ul>
</section>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./rozdzial2.html" class="pagination-link" aria-label="Typy Danych w Naukach Społecznych">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Typy Danych w Naukach Społecznych</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./rozdzial5.html" class="pagination-link" aria-label="Podstawy Jednowymiarowej Statystyki Opisowej">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Podstawy Jednowymiarowej Statystyki Opisowej</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>